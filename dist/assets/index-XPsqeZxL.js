function AH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var SM={exports:{}},uy={},TM={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),PH=Symbol.for("react.portal"),NH=Symbol.for("react.fragment"),OH=Symbol.for("react.strict_mode"),DH=Symbol.for("react.profiler"),LH=Symbol.for("react.provider"),MH=Symbol.for("react.context"),jH=Symbol.for("react.forward_ref"),FH=Symbol.for("react.suspense"),UH=Symbol.for("react.memo"),$H=Symbol.for("react.lazy"),NP=Symbol.iterator;function VH(e){return e===null||typeof e!="object"?null:(e=NP&&e[NP]||e["@@iterator"],typeof e=="function"?e:null)}var IM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xM=Object.assign,CM={};function Lc(e,t,n){this.props=e,this.context=t,this.refs=CM,this.updater=n||IM}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kM(){}kM.prototype=Lc.prototype;function s1(e,t,n){this.props=e,this.context=t,this.refs=CM,this.updater=n||IM}var a1=s1.prototype=new kM;a1.constructor=s1;xM(a1,Lc.prototype);a1.isPureReactComponent=!0;var OP=Array.isArray,AM=Object.prototype.hasOwnProperty,u1={current:null},RM={key:!0,ref:!0,__self:!0,__source:!0};function PM(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)AM.call(t,r)&&!RM.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Fd,type:e,key:s,ref:a,props:i,_owner:u1.current}}function BH(e,t){return{$$typeof:Fd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fd}function zH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DP=/\/+/g;function Ib(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zH(""+e.key):t.toString(36)}function dg(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fd:case PH:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ib(a,0):r,OP(i)?(n="",e!=null&&(n=e.replace(DP,"$&/")+"/"),dg(i,t,n,"",function(h){return h})):i!=null&&(l1(i)&&(i=BH(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DP,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",OP(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Ib(s,l);a+=dg(s,t,n,c,i)}else if(c=VH(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Ib(s,l++),a+=dg(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Av(e,t,n){if(e==null)return e;var r=[],i=0;return dg(e,r,"","",function(s){return t.call(n,s,i++)}),r}function qH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nr={current:null},pg={transition:null},WH={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:pg,ReactCurrentOwner:u1};xe.Children={map:Av,forEach:function(e,t,n){Av(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Av(e,function(){t++}),t},toArray:function(e){return Av(e,function(t){return t})||[]},only:function(e){if(!l1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Lc;xe.Fragment=NH;xe.Profiler=DH;xe.PureComponent=s1;xe.StrictMode=OH;xe.Suspense=FH;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WH;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xM({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=u1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)AM.call(t,c)&&!RM.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Fd,type:e.type,key:i,ref:s,props:r,_owner:a}};xe.createContext=function(e){return e={$$typeof:MH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LH,_context:e},e.Consumer=e};xe.createElement=PM;xe.createFactory=function(e){var t=PM.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:jH,render:e}};xe.isValidElement=l1;xe.lazy=function(e){return{$$typeof:$H,_payload:{_status:-1,_result:e},_init:qH}};xe.memo=function(e,t){return{$$typeof:UH,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=pg.transition;pg.transition={};try{e()}finally{pg.transition=t}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(e,t){return nr.current.useCallback(e,t)};xe.useContext=function(e){return nr.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return nr.current.useDeferredValue(e)};xe.useEffect=function(e,t){return nr.current.useEffect(e,t)};xe.useId=function(){return nr.current.useId()};xe.useImperativeHandle=function(e,t,n){return nr.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return nr.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return nr.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return nr.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return nr.current.useReducer(e,t,n)};xe.useRef=function(e){return nr.current.useRef(e)};xe.useState=function(e){return nr.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return nr.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return nr.current.useTransition()};xe.version="18.2.0";TM.exports=xe;var $=TM.exports;const $s=EM($),qE=AH({__proto__:null,default:$s},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HH=$,KH=Symbol.for("react.element"),GH=Symbol.for("react.fragment"),QH=Object.prototype.hasOwnProperty,YH=HH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XH={key:!0,ref:!0,__self:!0,__source:!0};function NM(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)QH.call(t,r)&&!XH.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:KH,type:e,key:s,ref:a,props:i,_owner:YH.current}}uy.Fragment=GH;uy.jsx=NM;uy.jsxs=NM;SM.exports=uy;var b=SM.exports,WE={},OM={exports:{}},zr={},DM={exports:{}},LM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,ne){var se=z.length;z.push(ne);e:for(;0<se;){var ke=se-1>>>1,Ae=z[ke];if(0<i(Ae,ne))z[ke]=ne,z[se]=Ae,se=ke;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ne=z[0],se=z.pop();if(se!==ne){z[0]=se;e:for(var ke=0,Ae=z.length,Sn=Ae>>>1;ke<Sn;){var on=2*(ke+1)-1,ir=z[on],gt=on+1,Un=z[gt];if(0>i(ir,se))gt<Ae&&0>i(Un,ir)?(z[ke]=Un,z[gt]=se,ke=gt):(z[ke]=ir,z[on]=se,ke=on);else if(gt<Ae&&0>i(Un,se))z[ke]=Un,z[gt]=se,ke=gt;else break e}}return ne}function i(z,ne){var se=z.sortIndex-ne.sortIndex;return se!==0?se:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,v=null,g=3,y=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=z)r(h),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(h)}}function k(z){if(E=!1,C(z),!w)if(n(c)!==null)w=!0,Tt(D);else{var ne=n(h);ne!==null&&Dt(k,ne.startTime-z)}}function D(z,ne){w=!1,E&&(E=!1,S(L),L=-1),y=!0;var se=g;try{for(C(ne),v=n(c);v!==null&&(!(v.expirationTime>ne)||z&&!Ce());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,g=v.priorityLevel;var Ae=ke(v.expirationTime<=ne);ne=e.unstable_now(),typeof Ae=="function"?v.callback=Ae:v===n(c)&&r(c),C(ne)}else r(c);v=n(c)}if(v!==null)var Sn=!0;else{var on=n(h);on!==null&&Dt(k,on.startTime-ne),Sn=!1}return Sn}finally{v=null,g=se,y=!1}}var O=!1,j=null,L=-1,Y=5,R=-1;function Ce(){return!(e.unstable_now()-R<Y)}function Ke(){if(j!==null){var z=e.unstable_now();R=z;var ne=!0;try{ne=j(!0,z)}finally{ne?Wt():(O=!1,j=null)}}else O=!1}var Wt;if(typeof T=="function")Wt=function(){T(Ke)};else if(typeof MessageChannel<"u"){var Hr=new MessageChannel,le=Hr.port2;Hr.port1.onmessage=Ke,Wt=function(){le.postMessage(null)}}else Wt=function(){x(Ke,0)};function Tt(z){j=z,O||(O=!0,Wt())}function Dt(z,ne){L=x(function(){z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Tt(D))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var se=g;g=ne;try{return z()}finally{g=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=g;g=z;try{return ne()}finally{g=se}},e.unstable_scheduleCallback=function(z,ne,se){var ke=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ke+se:ke):se=ke,z){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=se+Ae,z={id:d++,callback:ne,priorityLevel:z,startTime:se,expirationTime:Ae,sortIndex:-1},se>ke?(z.sortIndex=se,t(h,z),n(c)===null&&z===n(h)&&(E?(S(L),L=-1):E=!0,Dt(k,se-ke))):(z.sortIndex=Ae,t(c,z),w||y||(w=!0,Tt(D))),z},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(z){var ne=g;return function(){var se=g;g=ne;try{return z.apply(this,arguments)}finally{g=se}}}})(LM);DM.exports=LM;var JH=DM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=$,Ur=JH;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jM=new Set,$h={};function Eu(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for($h[e]=t,e=0;e<t.length;e++)jM.add(t[e])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HE=Object.prototype.hasOwnProperty,ZH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LP={},MP={};function e8(e){return HE.call(MP,e)?!0:HE.call(LP,e)?!1:ZH.test(e)?MP[e]=!0:(LP[e]=!0,!1)}function t8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n8(e,t,n,r){if(t===null||typeof t>"u"||t8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rr(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_n[e]=new rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_n[t]=new rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_n[e]=new rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_n[e]=new rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_n[e]=new rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_n[e]=new rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_n[e]=new rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_n[e]=new rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_n[e]=new rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var c1=/[\-:]([a-z])/g;function f1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(c1,f1);_n[t]=new rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(c1,f1);_n[t]=new rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(c1,f1);_n[t]=new rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_n[e]=new rr(e,1,!1,e.toLowerCase(),null,!1,!1)});_n.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_n[e]=new rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function h1(e,t,n,r){var i=_n.hasOwnProperty(t)?_n[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n8(t,n,i,r)&&(n=null),r||i===null?e8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ko=MM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rv=Symbol.for("react.element"),Il=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),KE=Symbol.for("react.profiler"),FM=Symbol.for("react.provider"),UM=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),QE=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),$M=Symbol.for("react.offscreen"),jP=Symbol.iterator;function Bf(e){return e===null||typeof e!="object"?null:(e=jP&&e[jP]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,xb;function uh(e){if(xb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xb=t&&t[1]||""}return`
`+xb+e}var Cb=!1;function kb(e,t){if(!e||Cb)return"";Cb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Cb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?uh(e):""}function r8(e){switch(e.tag){case 5:return uh(e.type);case 16:return uh("Lazy");case 13:return uh("Suspense");case 19:return uh("SuspenseList");case 0:case 2:case 15:return e=kb(e.type,!1),e;case 11:return e=kb(e.type.render,!1),e;case 1:return e=kb(e.type,!0),e;default:return""}}function YE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xl:return"Fragment";case Il:return"Portal";case KE:return"Profiler";case d1:return"StrictMode";case GE:return"Suspense";case QE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case UM:return(e.displayName||"Context")+".Consumer";case FM:return(e._context.displayName||"Context")+".Provider";case p1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v1:return t=e.displayName||null,t!==null?t:YE(e.type)||"Memo";case ps:t=e._payload,e=e._init;try{return YE(e(t))}catch{}}return null}function i8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YE(t);case 8:return t===d1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o8(e){var t=VM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pv(e){e._valueTracker||(e._valueTracker=o8(e))}function BM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function XE(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function FP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zM(e,t){t=t.checked,t!=null&&h1(e,"checked",t,!1)}function JE(e,t){zM(e,t);var n=Vs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ZE(e,t.type,n):t.hasOwnProperty("defaultValue")&&ZE(e,t.type,Vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ZE(e,t,n){(t!=="number"||Vg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lh=Array.isArray;function $l(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $P(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(lh(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vs(n)}}function qM(e,t){var n=Vs(t.value),r=Vs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nv,HM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nv=Nv||document.createElement("div"),Nv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s8=["Webkit","ms","Moz","O"];Object.keys(gh).forEach(function(e){s8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gh[t]=gh[e]})});function KM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gh.hasOwnProperty(e)&&gh[e]?(""+t).trim():t+"px"}function GM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var a8=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nS(e,t){if(t){if(a8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function rS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iS=null;function g1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oS=null,Vl=null,Bl=null;function BP(e){if(e=Vd(e)){if(typeof oS!="function")throw Error(W(280));var t=e.stateNode;t&&(t=dy(t),oS(e.stateNode,e.type,t))}}function QM(e){Vl?Bl?Bl.push(e):Bl=[e]:Vl=e}function YM(){if(Vl){var e=Vl,t=Bl;if(Bl=Vl=null,BP(e),t)for(e=0;e<t.length;e++)BP(t[e])}}function XM(e,t){return e(t)}function JM(){}var Ab=!1;function ZM(e,t,n){if(Ab)return e(t,n);Ab=!0;try{return XM(e,t,n)}finally{Ab=!1,(Vl!==null||Bl!==null)&&(JM(),YM())}}function Bh(e,t){var n=e.stateNode;if(n===null)return null;var r=dy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var sS=!1;if(Uo)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){sS=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{sS=!1}function u8(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var mh=!1,Bg=null,zg=!1,aS=null,l8={onError:function(e){mh=!0,Bg=e}};function c8(e,t,n,r,i,s,a,l,c){mh=!1,Bg=null,u8.apply(l8,arguments)}function f8(e,t,n,r,i,s,a,l,c){if(c8.apply(this,arguments),mh){if(mh){var h=Bg;mh=!1,Bg=null}else throw Error(W(198));zg||(zg=!0,aS=h)}}function Su(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ej(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zP(e){if(Su(e)!==e)throw Error(W(188))}function h8(e){var t=e.alternate;if(!t){if(t=Su(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zP(i),e;if(s===r)return zP(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function tj(e){return e=h8(e),e!==null?nj(e):null}function nj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nj(e);if(t!==null)return t;e=e.sibling}return null}var rj=Ur.unstable_scheduleCallback,qP=Ur.unstable_cancelCallback,d8=Ur.unstable_shouldYield,p8=Ur.unstable_requestPaint,Et=Ur.unstable_now,v8=Ur.unstable_getCurrentPriorityLevel,m1=Ur.unstable_ImmediatePriority,ij=Ur.unstable_UserBlockingPriority,qg=Ur.unstable_NormalPriority,g8=Ur.unstable_LowPriority,oj=Ur.unstable_IdlePriority,ly=null,no=null;function m8(e){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(ly,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:_8,y8=Math.log,w8=Math.LN2;function _8(e){return e>>>=0,e===0?32:31-(y8(e)/w8|0)|0}var Ov=64,Dv=4194304;function ch(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ch(l):(s&=a,s!==0&&(r=ch(s)))}else a=n&~i,a!==0?r=ch(a):s!==0&&(r=ch(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pi(t),i=1<<n,r|=e[n],t&=~i;return r}function b8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pi(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=b8(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function uS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sj(){var e=Ov;return Ov<<=1,!(Ov&4194240)&&(Ov=64),e}function Rb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ud(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pi(t),e[t]=n}function S8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function y1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ze=0;function aj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uj,w1,lj,cj,fj,lS=!1,Lv=[],Cs=null,ks=null,As=null,zh=new Map,qh=new Map,ms=[],T8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WP(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":zh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(t.pointerId)}}function qf(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vd(t),t!==null&&w1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function I8(e,t,n,r,i){switch(t){case"focusin":return Cs=qf(Cs,e,t,n,r,i),!0;case"dragenter":return ks=qf(ks,e,t,n,r,i),!0;case"mouseover":return As=qf(As,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return zh.set(s,qf(zh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qh.set(s,qf(qh.get(s)||null,e,t,n,r,i)),!0}return!1}function hj(e){var t=La(e.target);if(t!==null){var n=Su(t);if(n!==null){if(t=n.tag,t===13){if(t=ej(n),t!==null){e.blockedOn=t,fj(e.priority,function(){lj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);iS=r,n.target.dispatchEvent(r),iS=null}else return t=Vd(n),t!==null&&w1(t),e.blockedOn=n,!1;t.shift()}return!0}function HP(e,t,n){vg(e)&&n.delete(t)}function x8(){lS=!1,Cs!==null&&vg(Cs)&&(Cs=null),ks!==null&&vg(ks)&&(ks=null),As!==null&&vg(As)&&(As=null),zh.forEach(HP),qh.forEach(HP)}function Wf(e,t){e.blockedOn===t&&(e.blockedOn=null,lS||(lS=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,x8)))}function Wh(e){function t(i){return Wf(i,e)}if(0<Lv.length){Wf(Lv[0],e);for(var n=1;n<Lv.length;n++){var r=Lv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cs!==null&&Wf(Cs,e),ks!==null&&Wf(ks,e),As!==null&&Wf(As,e),zh.forEach(t),qh.forEach(t),n=0;n<ms.length;n++)r=ms[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)hj(n),n.blockedOn===null&&ms.shift()}var zl=Ko.ReactCurrentBatchConfig,Hg=!0;function C8(e,t,n,r){var i=ze,s=zl.transition;zl.transition=null;try{ze=1,_1(e,t,n,r)}finally{ze=i,zl.transition=s}}function k8(e,t,n,r){var i=ze,s=zl.transition;zl.transition=null;try{ze=4,_1(e,t,n,r)}finally{ze=i,zl.transition=s}}function _1(e,t,n,r){if(Hg){var i=cS(e,t,n,r);if(i===null)$b(e,t,r,Kg,n),WP(e,r);else if(I8(i,e,t,n,r))r.stopPropagation();else if(WP(e,r),t&4&&-1<T8.indexOf(e)){for(;i!==null;){var s=Vd(i);if(s!==null&&uj(s),s=cS(e,t,n,r),s===null&&$b(e,t,r,Kg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $b(e,t,r,null,n)}}var Kg=null;function cS(e,t,n,r){if(Kg=null,e=g1(r),e=La(e),e!==null)if(t=Su(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ej(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kg=e,null}function dj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v8()){case m1:return 1;case ij:return 4;case qg:case g8:return 16;case oj:return 536870912;default:return 16}default:return 16}}var Ss=null,b1=null,gg=null;function pj(){if(gg)return gg;var e,t=b1,n=t.length,r,i="value"in Ss?Ss.value:Ss.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return gg=i.slice(e,1<r?1-r:void 0)}function mg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mv(){return!0}function KP(){return!1}function qr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mv:KP,this.isPropagationStopped=KP,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mv)},persist:function(){},isPersistent:Mv}),t}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E1=qr(Mc),$d=ht({},Mc,{view:0,detail:0}),A8=qr($d),Pb,Nb,Hf,cy=ht({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hf&&(Hf&&e.type==="mousemove"?(Pb=e.screenX-Hf.screenX,Nb=e.screenY-Hf.screenY):Nb=Pb=0,Hf=e),Pb)},movementY:function(e){return"movementY"in e?e.movementY:Nb}}),GP=qr(cy),R8=ht({},cy,{dataTransfer:0}),P8=qr(R8),N8=ht({},$d,{relatedTarget:0}),Ob=qr(N8),O8=ht({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),D8=qr(O8),L8=ht({},Mc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M8=qr(L8),j8=ht({},Mc,{data:0}),QP=qr(j8),F8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$8[e])?!!t[e]:!1}function S1(){return V8}var B8=ht({},$d,{key:function(e){if(e.key){var t=F8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S1,charCode:function(e){return e.type==="keypress"?mg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z8=qr(B8),q8=ht({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YP=qr(q8),W8=ht({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S1}),H8=qr(W8),K8=ht({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),G8=qr(K8),Q8=ht({},cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y8=qr(Q8),X8=[9,13,27,32],T1=Uo&&"CompositionEvent"in window,yh=null;Uo&&"documentMode"in document&&(yh=document.documentMode);var J8=Uo&&"TextEvent"in window&&!yh,vj=Uo&&(!T1||yh&&8<yh&&11>=yh),XP=" ",JP=!1;function gj(e,t){switch(e){case"keyup":return X8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cl=!1;function Z8(e,t){switch(e){case"compositionend":return mj(t);case"keypress":return t.which!==32?null:(JP=!0,XP);case"textInput":return e=t.data,e===XP&&JP?null:e;default:return null}}function eK(e,t){if(Cl)return e==="compositionend"||!T1&&gj(e,t)?(e=pj(),gg=b1=Ss=null,Cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vj&&t.locale!=="ko"?null:t.data;default:return null}}var tK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tK[e.type]:t==="textarea"}function yj(e,t,n,r){QM(r),t=Gg(t,"onChange"),0<t.length&&(n=new E1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wh=null,Hh=null;function nK(e){Aj(e,0)}function fy(e){var t=Rl(e);if(BM(t))return e}function rK(e,t){if(e==="change")return t}var wj=!1;if(Uo){var Db;if(Uo){var Lb="oninput"in document;if(!Lb){var eN=document.createElement("div");eN.setAttribute("oninput","return;"),Lb=typeof eN.oninput=="function"}Db=Lb}else Db=!1;wj=Db&&(!document.documentMode||9<document.documentMode)}function tN(){wh&&(wh.detachEvent("onpropertychange",_j),Hh=wh=null)}function _j(e){if(e.propertyName==="value"&&fy(Hh)){var t=[];yj(t,Hh,e,g1(e)),ZM(nK,t)}}function iK(e,t,n){e==="focusin"?(tN(),wh=t,Hh=n,wh.attachEvent("onpropertychange",_j)):e==="focusout"&&tN()}function oK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fy(Hh)}function sK(e,t){if(e==="click")return fy(t)}function aK(e,t){if(e==="input"||e==="change")return fy(t)}function uK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mi=typeof Object.is=="function"?Object.is:uK;function Kh(e,t){if(Mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!HE.call(t,i)||!Mi(e[i],t[i]))return!1}return!0}function nN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rN(e,t){var n=nN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nN(n)}}function bj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ej(){for(var e=window,t=Vg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vg(e.document)}return t}function I1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lK(e){var t=Ej(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bj(n.ownerDocument.documentElement,n)){if(r!==null&&I1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rN(n,s);var a=rN(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cK=Uo&&"documentMode"in document&&11>=document.documentMode,kl=null,fS=null,_h=null,hS=!1;function iN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hS||kl==null||kl!==Vg(r)||(r=kl,"selectionStart"in r&&I1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_h&&Kh(_h,r)||(_h=r,r=Gg(fS,"onSelect"),0<r.length&&(t=new E1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kl)))}function jv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Al={animationend:jv("Animation","AnimationEnd"),animationiteration:jv("Animation","AnimationIteration"),animationstart:jv("Animation","AnimationStart"),transitionend:jv("Transition","TransitionEnd")},Mb={},Sj={};Uo&&(Sj=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function hy(e){if(Mb[e])return Mb[e];if(!Al[e])return e;var t=Al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sj)return Mb[e]=t[n];return e}var Tj=hy("animationend"),Ij=hy("animationiteration"),xj=hy("animationstart"),Cj=hy("transitionend"),kj=new Map,oN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){kj.set(e,t),Eu(t,[e])}for(var jb=0;jb<oN.length;jb++){var Fb=oN[jb],fK=Fb.toLowerCase(),hK=Fb[0].toUpperCase()+Fb.slice(1);Qs(fK,"on"+hK)}Qs(Tj,"onAnimationEnd");Qs(Ij,"onAnimationIteration");Qs(xj,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(Cj,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dK=new Set("cancel close invalid load scroll toggle".split(" ").concat(fh));function sN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f8(r,t,void 0,e),e.currentTarget=null}function Aj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;sN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;sN(i,l,h),s=c}}}if(zg)throw e=aS,zg=!1,aS=null,e}function Xe(e,t){var n=t[mS];n===void 0&&(n=t[mS]=new Set);var r=e+"__bubble";n.has(r)||(Rj(t,e,2,!1),n.add(r))}function Ub(e,t,n){var r=0;t&&(r|=4),Rj(n,e,r,t)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function Gh(e){if(!e[Fv]){e[Fv]=!0,jM.forEach(function(n){n!=="selectionchange"&&(dK.has(n)||Ub(n,!1,e),Ub(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fv]||(t[Fv]=!0,Ub("selectionchange",!1,t))}}function Rj(e,t,n,r){switch(dj(t)){case 1:var i=C8;break;case 4:i=k8;break;default:i=_1}n=i.bind(null,t,n,e),i=void 0,!sS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $b(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=La(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}ZM(function(){var h=s,d=g1(n),v=[];e:{var g=kj.get(e);if(g!==void 0){var y=E1,w=e;switch(e){case"keypress":if(mg(n)===0)break e;case"keydown":case"keyup":y=z8;break;case"focusin":w="focus",y=Ob;break;case"focusout":w="blur",y=Ob;break;case"beforeblur":case"afterblur":y=Ob;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=GP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=P8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=H8;break;case Tj:case Ij:case xj:y=D8;break;case Cj:y=G8;break;case"scroll":y=A8;break;case"wheel":y=Y8;break;case"copy":case"cut":case"paste":y=M8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=YP}var E=(t&4)!==0,x=!E&&e==="scroll",S=E?g!==null?g+"Capture":null:g;E=[];for(var T=h,C;T!==null;){C=T;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,S!==null&&(k=Bh(T,S),k!=null&&E.push(Qh(T,k,C)))),x)break;T=T.return}0<E.length&&(g=new y(g,w,null,n,d),v.push({event:g,listeners:E}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==iS&&(w=n.relatedTarget||n.fromElement)&&(La(w)||w[$o]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?La(w):null,w!==null&&(x=Su(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(E=GP,k="onMouseLeave",S="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(E=YP,k="onPointerLeave",S="onPointerEnter",T="pointer"),x=y==null?g:Rl(y),C=w==null?g:Rl(w),g=new E(k,T+"leave",y,n,d),g.target=x,g.relatedTarget=C,k=null,La(d)===h&&(E=new E(S,T+"enter",w,n,d),E.target=C,E.relatedTarget=x,k=E),x=k,y&&w)t:{for(E=y,S=w,T=0,C=E;C;C=cl(C))T++;for(C=0,k=S;k;k=cl(k))C++;for(;0<T-C;)E=cl(E),T--;for(;0<C-T;)S=cl(S),C--;for(;T--;){if(E===S||S!==null&&E===S.alternate)break t;E=cl(E),S=cl(S)}E=null}else E=null;y!==null&&aN(v,g,y,E,!1),w!==null&&x!==null&&aN(v,x,w,E,!0)}}e:{if(g=h?Rl(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var D=rK;else if(ZP(g))if(wj)D=aK;else{D=oK;var O=iK}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=sK);if(D&&(D=D(e,h))){yj(v,D,n,d);break e}O&&O(e,g,h),e==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&ZE(g,"number",g.value)}switch(O=h?Rl(h):window,e){case"focusin":(ZP(O)||O.contentEditable==="true")&&(kl=O,fS=h,_h=null);break;case"focusout":_h=fS=kl=null;break;case"mousedown":hS=!0;break;case"contextmenu":case"mouseup":case"dragend":hS=!1,iN(v,n,d);break;case"selectionchange":if(cK)break;case"keydown":case"keyup":iN(v,n,d)}var j;if(T1)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Cl?gj(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(vj&&n.locale!=="ko"&&(Cl||L!=="onCompositionStart"?L==="onCompositionEnd"&&Cl&&(j=pj()):(Ss=d,b1="value"in Ss?Ss.value:Ss.textContent,Cl=!0)),O=Gg(h,L),0<O.length&&(L=new QP(L,e,null,n,d),v.push({event:L,listeners:O}),j?L.data=j:(j=mj(n),j!==null&&(L.data=j)))),(j=J8?Z8(e,n):eK(e,n))&&(h=Gg(h,"onBeforeInput"),0<h.length&&(d=new QP("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:h}),d.data=j))}Aj(v,t)})}function Qh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bh(e,n),s!=null&&r.unshift(Qh(e,s,i)),s=Bh(e,t),s!=null&&r.push(Qh(e,s,i))),e=e.return}return r}function cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Bh(n,s),c!=null&&a.unshift(Qh(n,c,l))):i||(c=Bh(n,s),c!=null&&a.push(Qh(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var pK=/\r\n?/g,vK=/\u0000|\uFFFD/g;function uN(e){return(typeof e=="string"?e:""+e).replace(pK,`
`).replace(vK,"")}function Uv(e,t,n){if(t=uN(t),uN(e)!==t&&n)throw Error(W(425))}function Qg(){}var dS=null,pS=null;function vS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gS=typeof setTimeout=="function"?setTimeout:void 0,gK=typeof clearTimeout=="function"?clearTimeout:void 0,lN=typeof Promise=="function"?Promise:void 0,mK=typeof queueMicrotask=="function"?queueMicrotask:typeof lN<"u"?function(e){return lN.resolve(null).then(e).catch(yK)}:gS;function yK(e){setTimeout(function(){throw e})}function Vb(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wh(t)}function Rs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jc=Math.random().toString(36).slice(2),eo="__reactFiber$"+jc,Yh="__reactProps$"+jc,$o="__reactContainer$"+jc,mS="__reactEvents$"+jc,wK="__reactListeners$"+jc,_K="__reactHandles$"+jc;function La(e){var t=e[eo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$o]||n[eo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cN(e);e!==null;){if(n=e[eo])return n;e=cN(e)}return t}e=n,n=e.parentNode}return null}function Vd(e){return e=e[eo]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function dy(e){return e[Yh]||null}var yS=[],Pl=-1;function Ys(e){return{current:e}}function et(e){0>Pl||(e.current=yS[Pl],yS[Pl]=null,Pl--)}function Qe(e,t){Pl++,yS[Pl]=e.current,e.current=t}var Bs={},Ln=Ys(Bs),yr=Ys(!1),iu=Bs;function Xl(e,t){var n=e.type.contextTypes;if(!n)return Bs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wr(e){return e=e.childContextTypes,e!=null}function Yg(){et(yr),et(Ln)}function fN(e,t,n){if(Ln.current!==Bs)throw Error(W(168));Qe(Ln,t),Qe(yr,n)}function Pj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,i8(e)||"Unknown",i));return ht({},n,r)}function Xg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,iu=Ln.current,Qe(Ln,e),Qe(yr,yr.current),!0}function hN(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Pj(e,t,iu),r.__reactInternalMemoizedMergedChildContext=e,et(yr),et(Ln),Qe(Ln,e)):et(yr),Qe(yr,n)}var Ao=null,py=!1,Bb=!1;function Nj(e){Ao===null?Ao=[e]:Ao.push(e)}function bK(e){py=!0,Nj(e)}function Xs(){if(!Bb&&Ao!==null){Bb=!0;var e=0,t=ze;try{var n=Ao;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ao=null,py=!1}catch(i){throw Ao!==null&&(Ao=Ao.slice(e+1)),rj(m1,Xs),i}finally{ze=t,Bb=!1}}return null}var Nl=[],Ol=0,Jg=null,Zg=0,Xr=[],Jr=0,ou=null,Ro=1,Po="";function Aa(e,t){Nl[Ol++]=Zg,Nl[Ol++]=Jg,Jg=e,Zg=t}function Oj(e,t,n){Xr[Jr++]=Ro,Xr[Jr++]=Po,Xr[Jr++]=ou,ou=e;var r=Ro;e=Po;var i=32-Pi(r)-1;r&=~(1<<i),n+=1;var s=32-Pi(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ro=1<<32-Pi(t)+i|n<<i|r,Po=s+e}else Ro=1<<s|n<<i|r,Po=e}function x1(e){e.return!==null&&(Aa(e,1),Oj(e,1,0))}function C1(e){for(;e===Jg;)Jg=Nl[--Ol],Nl[Ol]=null,Zg=Nl[--Ol],Nl[Ol]=null;for(;e===ou;)ou=Xr[--Jr],Xr[Jr]=null,Po=Xr[--Jr],Xr[Jr]=null,Ro=Xr[--Jr],Xr[Jr]=null}var Fr=null,Dr=null,rt=!1,Ai=null;function Dj(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Dr=Rs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ou!==null?{id:Ro,overflow:Po}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fr=e,Dr=null,!0):!1;default:return!1}}function wS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _S(e){if(rt){var t=Dr;if(t){var n=t;if(!dN(e,t)){if(wS(e))throw Error(W(418));t=Rs(n.nextSibling);var r=Fr;t&&dN(e,t)?Dj(r,n):(e.flags=e.flags&-4097|2,rt=!1,Fr=e)}}else{if(wS(e))throw Error(W(418));e.flags=e.flags&-4097|2,rt=!1,Fr=e}}}function pN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function $v(e){if(e!==Fr)return!1;if(!rt)return pN(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vS(e.type,e.memoizedProps)),t&&(t=Dr)){if(wS(e))throw Lj(),Error(W(418));for(;t;)Dj(e,t),t=Rs(t.nextSibling)}if(pN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dr=Rs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dr=null}}else Dr=Fr?Rs(e.stateNode.nextSibling):null;return!0}function Lj(){for(var e=Dr;e;)e=Rs(e.nextSibling)}function Jl(){Dr=Fr=null,rt=!1}function k1(e){Ai===null?Ai=[e]:Ai.push(e)}var EK=Ko.ReactCurrentBatchConfig;function xi(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var em=Ys(null),tm=null,Dl=null,A1=null;function R1(){A1=Dl=tm=null}function P1(e){var t=em.current;et(em),e._currentValue=t}function bS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ql(e,t){tm=e,A1=Dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function ui(e){var t=e._currentValue;if(A1!==e)if(e={context:e,memoizedValue:t,next:null},Dl===null){if(tm===null)throw Error(W(308));Dl=e,tm.dependencies={lanes:0,firstContext:e}}else Dl=Dl.next=e;return t}var Ma=null;function N1(e){Ma===null?Ma=[e]:Ma.push(e)}function Mj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,N1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vo(e,r)}function Vo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vs=!1;function O1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vo(e,n)}return i=r.interleaved,i===null?(t.next=t,N1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vo(e,n)}function yg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y1(e,n)}}function vN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nm(e,t,n,r){var i=e.updateQueue;vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,d=h=c=null,l=s;do{var g=l.lane,y=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,E=l;switch(g=t,y=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){v=w.call(y,v,g);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,g=typeof w=="function"?w.call(y,v,g):w,g==null)break e;v=ht({},v,g);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=v):d=d.next=y,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);au|=a,e.lanes=a,e.memoizedState=v}}function gN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Fj=new MM.Component().refs;function ES(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vy={isMounted:function(e){return(e=e._reactInternals)?Su(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zn(),i=Os(e),s=Lo(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ps(e,s,i),t!==null&&(Ni(t,e,i,r),yg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zn(),i=Os(e),s=Lo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ps(e,s,i),t!==null&&(Ni(t,e,i,r),yg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),r=Os(e),i=Lo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ps(e,i,r),t!==null&&(Ni(t,e,r,n),yg(t,e,r))}};function mN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kh(n,r)||!Kh(i,s):!0}function Uj(e,t,n){var r=!1,i=Bs,s=t.contextType;return typeof s=="object"&&s!==null?s=ui(s):(i=wr(t)?iu:Ln.current,r=t.contextTypes,s=(r=r!=null)?Xl(e,i):Bs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vy.enqueueReplaceState(t,t.state,null)}function SS(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fj,O1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ui(s):(s=wr(t)?iu:Ln.current,i.context=Xl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ES(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vy.enqueueReplaceState(i,i.state,null),nm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===Fj&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Vv(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wN(e){var t=e._init;return t(e._payload)}function $j(e){function t(S,T){if(e){var C=S.deletions;C===null?(S.deletions=[T],S.flags|=16):C.push(T)}}function n(S,T){if(!e)return null;for(;T!==null;)t(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Ds(S,T),S.index=0,S.sibling=null,S}function s(S,T,C){return S.index=C,e?(C=S.alternate,C!==null?(C=C.index,C<T?(S.flags|=2,T):C):(S.flags|=2,T)):(S.flags|=1048576,T)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function l(S,T,C,k){return T===null||T.tag!==6?(T=Qb(C,S.mode,k),T.return=S,T):(T=i(T,C),T.return=S,T)}function c(S,T,C,k){var D=C.type;return D===xl?d(S,T,C.props.children,k,C.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ps&&wN(D)===T.type)?(k=i(T,C.props),k.ref=Kf(S,T,C),k.return=S,k):(k=Tg(C.type,C.key,C.props,null,S.mode,k),k.ref=Kf(S,T,C),k.return=S,k)}function h(S,T,C,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=Yb(C,S.mode,k),T.return=S,T):(T=i(T,C.children||[]),T.return=S,T)}function d(S,T,C,k,D){return T===null||T.tag!==7?(T=Ka(C,S.mode,k,D),T.return=S,T):(T=i(T,C),T.return=S,T)}function v(S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Qb(""+T,S.mode,C),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Rv:return C=Tg(T.type,T.key,T.props,null,S.mode,C),C.ref=Kf(S,null,T),C.return=S,C;case Il:return T=Yb(T,S.mode,C),T.return=S,T;case ps:var k=T._init;return v(S,k(T._payload),C)}if(lh(T)||Bf(T))return T=Ka(T,S.mode,C,null),T.return=S,T;Vv(S,T)}return null}function g(S,T,C,k){var D=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(S,T,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rv:return C.key===D?c(S,T,C,k):null;case Il:return C.key===D?h(S,T,C,k):null;case ps:return D=C._init,g(S,T,D(C._payload),k)}if(lh(C)||Bf(C))return D!==null?null:d(S,T,C,k,null);Vv(S,C)}return null}function y(S,T,C,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(C)||null,l(T,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rv:return S=S.get(k.key===null?C:k.key)||null,c(T,S,k,D);case Il:return S=S.get(k.key===null?C:k.key)||null,h(T,S,k,D);case ps:var O=k._init;return y(S,T,C,O(k._payload),D)}if(lh(k)||Bf(k))return S=S.get(C)||null,d(T,S,k,D,null);Vv(T,k)}return null}function w(S,T,C,k){for(var D=null,O=null,j=T,L=T=0,Y=null;j!==null&&L<C.length;L++){j.index>L?(Y=j,j=null):Y=j.sibling;var R=g(S,j,C[L],k);if(R===null){j===null&&(j=Y);break}e&&j&&R.alternate===null&&t(S,j),T=s(R,T,L),O===null?D=R:O.sibling=R,O=R,j=Y}if(L===C.length)return n(S,j),rt&&Aa(S,L),D;if(j===null){for(;L<C.length;L++)j=v(S,C[L],k),j!==null&&(T=s(j,T,L),O===null?D=j:O.sibling=j,O=j);return rt&&Aa(S,L),D}for(j=r(S,j);L<C.length;L++)Y=y(j,S,L,C[L],k),Y!==null&&(e&&Y.alternate!==null&&j.delete(Y.key===null?L:Y.key),T=s(Y,T,L),O===null?D=Y:O.sibling=Y,O=Y);return e&&j.forEach(function(Ce){return t(S,Ce)}),rt&&Aa(S,L),D}function E(S,T,C,k){var D=Bf(C);if(typeof D!="function")throw Error(W(150));if(C=D.call(C),C==null)throw Error(W(151));for(var O=D=null,j=T,L=T=0,Y=null,R=C.next();j!==null&&!R.done;L++,R=C.next()){j.index>L?(Y=j,j=null):Y=j.sibling;var Ce=g(S,j,R.value,k);if(Ce===null){j===null&&(j=Y);break}e&&j&&Ce.alternate===null&&t(S,j),T=s(Ce,T,L),O===null?D=Ce:O.sibling=Ce,O=Ce,j=Y}if(R.done)return n(S,j),rt&&Aa(S,L),D;if(j===null){for(;!R.done;L++,R=C.next())R=v(S,R.value,k),R!==null&&(T=s(R,T,L),O===null?D=R:O.sibling=R,O=R);return rt&&Aa(S,L),D}for(j=r(S,j);!R.done;L++,R=C.next())R=y(j,S,L,R.value,k),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?L:R.key),T=s(R,T,L),O===null?D=R:O.sibling=R,O=R);return e&&j.forEach(function(Ke){return t(S,Ke)}),rt&&Aa(S,L),D}function x(S,T,C,k){if(typeof C=="object"&&C!==null&&C.type===xl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Rv:e:{for(var D=C.key,O=T;O!==null;){if(O.key===D){if(D=C.type,D===xl){if(O.tag===7){n(S,O.sibling),T=i(O,C.props.children),T.return=S,S=T;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ps&&wN(D)===O.type){n(S,O.sibling),T=i(O,C.props),T.ref=Kf(S,O,C),T.return=S,S=T;break e}n(S,O);break}else t(S,O);O=O.sibling}C.type===xl?(T=Ka(C.props.children,S.mode,k,C.key),T.return=S,S=T):(k=Tg(C.type,C.key,C.props,null,S.mode,k),k.ref=Kf(S,T,C),k.return=S,S=k)}return a(S);case Il:e:{for(O=C.key;T!==null;){if(T.key===O)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(S,T.sibling),T=i(T,C.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else t(S,T);T=T.sibling}T=Yb(C,S.mode,k),T.return=S,S=T}return a(S);case ps:return O=C._init,x(S,T,O(C._payload),k)}if(lh(C))return w(S,T,C,k);if(Bf(C))return E(S,T,C,k);Vv(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,C),T.return=S,S=T):(n(S,T),T=Qb(C,S.mode,k),T.return=S,S=T),a(S)):n(S,T)}return x}var Zl=$j(!0),Vj=$j(!1),Bd={},ro=Ys(Bd),Xh=Ys(Bd),Jh=Ys(Bd);function ja(e){if(e===Bd)throw Error(W(174));return e}function D1(e,t){switch(Qe(Jh,t),Qe(Xh,e),Qe(ro,Bd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tS(t,e)}et(ro),Qe(ro,t)}function ec(){et(ro),et(Xh),et(Jh)}function Bj(e){ja(Jh.current);var t=ja(ro.current),n=tS(t,e.type);t!==n&&(Qe(Xh,e),Qe(ro,n))}function L1(e){Xh.current===e&&(et(ro),et(Xh))}var ut=Ys(0);function rm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zb=[];function M1(){for(var e=0;e<zb.length;e++)zb[e]._workInProgressVersionPrimary=null;zb.length=0}var wg=Ko.ReactCurrentDispatcher,qb=Ko.ReactCurrentBatchConfig,su=0,ft=null,Ut=null,Gt=null,im=!1,bh=!1,Zh=0,SK=0;function Tn(){throw Error(W(321))}function j1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mi(e[n],t[n]))return!1;return!0}function F1(e,t,n,r,i,s){if(su=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wg.current=e===null||e.memoizedState===null?CK:kK,e=n(r,i),bh){s=0;do{if(bh=!1,Zh=0,25<=s)throw Error(W(301));s+=1,Gt=Ut=null,t.updateQueue=null,wg.current=AK,e=n(r,i)}while(bh)}if(wg.current=om,t=Ut!==null&&Ut.next!==null,su=0,Gt=Ut=ft=null,im=!1,t)throw Error(W(300));return e}function U1(){var e=Zh!==0;return Zh=0,e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ft.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function li(){if(Ut===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=Gt===null?ft.memoizedState:Gt.next;if(t!==null)Gt=t,Ut=e;else{if(e===null)throw Error(W(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Gt===null?ft.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function ed(e,t){return typeof t=="function"?t(e):t}function Wb(e){var t=li(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((su&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,ft.lanes|=d,au|=d}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Mi(r,t.memoizedState)||(vr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ft.lanes|=s,au|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hb(e){var t=li(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Mi(s,t.memoizedState)||(vr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function zj(){}function qj(e,t){var n=ft,r=li(),i=t(),s=!Mi(r.memoizedState,i);if(s&&(r.memoizedState=i,vr=!0),r=r.queue,$1(Kj.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,td(9,Hj.bind(null,n,r,i,t),void 0,null),tn===null)throw Error(W(349));su&30||Wj(n,t,i)}return i}function Wj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hj(e,t,n,r){t.value=n,t.getSnapshot=r,Gj(t)&&Qj(e)}function Kj(e,t,n){return n(function(){Gj(t)&&Qj(e)})}function Gj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mi(e,n)}catch{return!0}}function Qj(e){var t=Vo(e,1);t!==null&&Ni(t,e,1,-1)}function _N(e){var t=Xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:e},t.queue=e,e=e.dispatch=xK.bind(null,ft,e),[t.memoizedState,e]}function td(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yj(){return li().memoizedState}function _g(e,t,n,r){var i=Xi();ft.flags|=e,i.memoizedState=td(1|t,n,void 0,r===void 0?null:r)}function gy(e,t,n,r){var i=li();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,r!==null&&j1(r,a.deps)){i.memoizedState=td(t,n,s,r);return}}ft.flags|=e,i.memoizedState=td(1|t,n,s,r)}function bN(e,t){return _g(8390656,8,e,t)}function $1(e,t){return gy(2048,8,e,t)}function Xj(e,t){return gy(4,2,e,t)}function Jj(e,t){return gy(4,4,e,t)}function Zj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eF(e,t,n){return n=n!=null?n.concat([e]):null,gy(4,4,Zj.bind(null,t,e),n)}function V1(){}function tF(e,t){var n=li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&j1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nF(e,t){var n=li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&j1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rF(e,t,n){return su&21?(Mi(n,t)||(n=sj(),ft.lanes|=n,au|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=n)}function TK(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=qb.transition;qb.transition={};try{e(!1),t()}finally{ze=n,qb.transition=r}}function iF(){return li().memoizedState}function IK(e,t,n){var r=Os(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oF(e))sF(t,n);else if(n=Mj(e,t,n,r),n!==null){var i=Zn();Ni(n,e,r,i),aF(n,t,r)}}function xK(e,t,n){var r=Os(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oF(e))sF(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Mi(l,a)){var c=t.interleaved;c===null?(i.next=i,N1(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Mj(e,t,i,r),n!==null&&(i=Zn(),Ni(n,e,r,i),aF(n,t,r))}}function oF(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function sF(e,t){bh=im=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aF(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y1(e,n)}}var om={readContext:ui,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},CK={readContext:ui,useCallback:function(e,t){return Xi().memoizedState=[e,t===void 0?null:t],e},useContext:ui,useEffect:bN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_g(4194308,4,Zj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _g(4194308,4,e,t)},useInsertionEffect:function(e,t){return _g(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=IK.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Xi();return e={current:e},t.memoizedState=e},useState:_N,useDebugValue:V1,useDeferredValue:function(e){return Xi().memoizedState=e},useTransition:function(){var e=_N(!1),t=e[0];return e=TK.bind(null,e[1]),Xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,i=Xi();if(rt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),tn===null)throw Error(W(349));su&30||Wj(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bN(Kj.bind(null,r,s,e),[e]),r.flags|=2048,td(9,Hj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xi(),t=tn.identifierPrefix;if(rt){var n=Po,r=Ro;n=(r&~(1<<32-Pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=SK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kK={readContext:ui,useCallback:tF,useContext:ui,useEffect:$1,useImperativeHandle:eF,useInsertionEffect:Xj,useLayoutEffect:Jj,useMemo:nF,useReducer:Wb,useRef:Yj,useState:function(){return Wb(ed)},useDebugValue:V1,useDeferredValue:function(e){var t=li();return rF(t,Ut.memoizedState,e)},useTransition:function(){var e=Wb(ed)[0],t=li().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:qj,useId:iF,unstable_isNewReconciler:!1},AK={readContext:ui,useCallback:tF,useContext:ui,useEffect:$1,useImperativeHandle:eF,useInsertionEffect:Xj,useLayoutEffect:Jj,useMemo:nF,useReducer:Hb,useRef:Yj,useState:function(){return Hb(ed)},useDebugValue:V1,useDeferredValue:function(e){var t=li();return Ut===null?t.memoizedState=e:rF(t,Ut.memoizedState,e)},useTransition:function(){var e=Hb(ed)[0],t=li().memoizedState;return[e,t]},useMutableSource:zj,useSyncExternalStore:qj,useId:iF,unstable_isNewReconciler:!1};function tc(e,t){try{var n="",r=t;do n+=r8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Kb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function TS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RK=typeof WeakMap=="function"?WeakMap:Map;function uF(e,t,n){n=Lo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){am||(am=!0,DS=r),TS(e,t)},n}function lF(e,t,n){n=Lo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){TS(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){TS(e,t),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function EN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RK;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qK.bind(null,e,t,n),t.then(e,e))}function SN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lo(-1,1),t.tag=2,Ps(n,t,1))),n.lanes|=1),e)}var PK=Ko.ReactCurrentOwner,vr=!1;function Hn(e,t,n,r){t.child=e===null?Vj(t,null,n,r):Zl(t,e.child,n,r)}function IN(e,t,n,r,i){n=n.render;var s=t.ref;return ql(t,i),r=F1(e,t,n,r,s,i),n=U1(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(rt&&n&&x1(t),t.flags|=1,Hn(e,t,r,i),t.child)}function xN(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Q1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,cF(e,t,s,r,i)):(e=Tg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kh,n(a,r)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,e=Ds(s,r),e.ref=t.ref,e.return=t,t.child=e}function cF(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Kh(s,r)&&e.ref===t.ref)if(vr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,Bo(e,t,i)}return IS(e,t,n,r,i)}function fF(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ml,Rr),Rr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ml,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Ml,Rr),Rr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qe(Ml,Rr),Rr|=r;return Hn(e,t,i,n),t.child}function hF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function IS(e,t,n,r,i){var s=wr(n)?iu:Ln.current;return s=Xl(t,s),ql(t,i),n=F1(e,t,n,r,s,i),r=U1(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(rt&&r&&x1(t),t.flags|=1,Hn(e,t,n,i),t.child)}function CN(e,t,n,r,i){if(wr(n)){var s=!0;Xg(t)}else s=!1;if(ql(t,i),t.stateNode===null)bg(e,t),Uj(t,n,r),SS(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=ui(h):(h=wr(n)?iu:Ln.current,h=Xl(t,h));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&yN(t,a,r,h),vs=!1;var g=t.memoizedState;a.state=g,nm(t,r,a,i),c=t.memoizedState,l!==r||g!==c||yr.current||vs?(typeof d=="function"&&(ES(t,n,d,r),c=t.memoizedState),(l=vs||mN(t,n,l,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,jj(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:xi(t.type,l),a.props=h,v=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ui(c):(c=wr(n)?iu:Ln.current,c=Xl(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||g!==c)&&yN(t,a,r,c),vs=!1,g=t.memoizedState,a.state=g,nm(t,r,a,i);var w=t.memoizedState;l!==v||g!==w||yr.current||vs?(typeof y=="function"&&(ES(t,n,y,r),w=t.memoizedState),(h=vs||mN(t,n,h,r,g,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return xS(e,t,n,r,s,i)}function xS(e,t,n,r,i,s){hF(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&hN(t,n,!1),Bo(e,t,s);r=t.stateNode,PK.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Zl(t,e.child,null,s),t.child=Zl(t,null,l,s)):Hn(e,t,l,s),t.memoizedState=r.state,i&&hN(t,n,!0),t.child}function dF(e){var t=e.stateNode;t.pendingContext?fN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fN(e,t.context,!1),D1(e,t.containerInfo)}function kN(e,t,n,r,i){return Jl(),k1(i),t.flags|=256,Hn(e,t,n,r),t.child}var CS={dehydrated:null,treeContext:null,retryLane:0};function kS(e){return{baseLanes:e,cachePool:null,transitions:null}}function pF(e,t,n){var r=t.pendingProps,i=ut.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(ut,i&1),e===null)return _S(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=wy(a,r,0,null),e=Ka(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kS(n),t.memoizedState=CS,e):B1(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return NK(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ds(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ds(l,s):(s=Ka(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?kS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=CS,r}return s=e.child,e=s.sibling,r=Ds(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function B1(e,t){return t=wy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bv(e,t,n,r){return r!==null&&k1(r),Zl(t,e.child,null,n),e=B1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NK(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Kb(Error(W(422))),Bv(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=wy({mode:"visible",children:r.children},i,0,null),s=Ka(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zl(t,e.child,null,a),t.child.memoizedState=kS(a),t.memoizedState=CS,s);if(!(t.mode&1))return Bv(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=Kb(s,r,void 0),Bv(e,t,a,r)}if(l=(a&e.childLanes)!==0,vr||l){if(r=tn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vo(e,i),Ni(r,e,i,-1))}return G1(),r=Kb(Error(W(421))),Bv(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WK.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Dr=Rs(i.nextSibling),Fr=t,rt=!0,Ai=null,e!==null&&(Xr[Jr++]=Ro,Xr[Jr++]=Po,Xr[Jr++]=ou,Ro=e.id,Po=e.overflow,ou=t),t=B1(t,r.children),t.flags|=4096,t)}function AN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bS(e.return,t,n)}function Gb(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vF(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Hn(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AN(e,n,t);else if(e.tag===19)AN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(ut,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gb(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gb(t,!0,n,null,s);break;case"together":Gb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),au|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OK(e,t,n){switch(t.tag){case 3:dF(t),Jl();break;case 5:Bj(t);break;case 1:wr(t.type)&&Xg(t);break;case 4:D1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qe(em,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?pF(e,t,n):(Qe(ut,ut.current&1),e=Bo(e,t,n),e!==null?e.sibling:null);Qe(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vF(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,fF(e,t,n)}return Bo(e,t,n)}var gF,AS,mF,yF;gF=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AS=function(){};mF=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ja(ro.current);var s=null;switch(n){case"input":i=XE(e,i),r=XE(e,r),s=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":i=eS(e,i),r=eS(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qg)}nS(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($h.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($h.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Xe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};yF=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gf(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function In(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function DK(e,t,n){var r=t.pendingProps;switch(C1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return wr(t.type)&&Yg(),In(t),null;case 3:return r=t.stateNode,ec(),et(yr),et(Ln),M1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($v(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ai!==null&&(jS(Ai),Ai=null))),AS(e,t),In(t),null;case 5:L1(t);var i=ja(Jh.current);if(n=t.type,e!==null&&t.stateNode!=null)mF(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return In(t),null}if(e=ja(ro.current),$v(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[eo]=t,r[Yh]=s,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<fh.length;i++)Xe(fh[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":FP(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":$P(r,s),Xe("invalid",r)}nS(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Uv(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Uv(r.textContent,l,e),i=["children",""+l]):$h.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Pv(r),UP(r,s,!0);break;case"textarea":Pv(r),VP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[eo]=t,e[Yh]=r,gF(e,t,!1,!1),t.stateNode=e;e:{switch(a=rS(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),i=r;break;case"iframe":case"object":case"embed":Xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<fh.length;i++)Xe(fh[i],e);i=r;break;case"source":Xe("error",e),i=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=r;break;case"details":Xe("toggle",e),i=r;break;case"input":FP(e,r),i=XE(e,r),Xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":$P(e,r),i=eS(e,r),Xe("invalid",e);break;default:i=r}nS(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?GM(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HM(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vh(e,c):typeof c=="number"&&Vh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($h.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Xe("scroll",e):c!=null&&h1(e,s,c,a))}switch(n){case"input":Pv(e),UP(e,r,!1);break;case"textarea":Pv(e),VP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?$l(e,!!r.multiple,s,!1):r.defaultValue!=null&&$l(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(e&&t.stateNode!=null)yF(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=ja(Jh.current),ja(ro.current),$v(t)){if(r=t.stateNode,n=t.memoizedProps,r[eo]=t,(s=r.nodeValue!==n)&&(e=Fr,e!==null))switch(e.tag){case 3:Uv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[eo]=t,t.stateNode=r}return In(t),null;case 13:if(et(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Dr!==null&&t.mode&1&&!(t.flags&128))Lj(),Jl(),t.flags|=98560,s=!1;else if(s=$v(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[eo]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;In(t),s=!1}else Ai!==null&&(jS(Ai),Ai=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Vt===0&&(Vt=3):G1())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return ec(),AS(e,t),e===null&&Gh(t.stateNode.containerInfo),In(t),null;case 10:return P1(t.type._context),In(t),null;case 17:return wr(t.type)&&Yg(),In(t),null;case 19:if(et(ut),s=t.memoizedState,s===null)return In(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Gf(s,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rm(e),a!==null){for(t.flags|=128,Gf(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(ut,ut.current&1|2),t.child}e=e.sibling}s.tail!==null&&Et()>nc&&(t.flags|=128,r=!0,Gf(s,!1),t.lanes=4194304)}else{if(!r)if(e=rm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!rt)return In(t),null}else 2*Et()-s.renderingStartTime>nc&&n!==1073741824&&(t.flags|=128,r=!0,Gf(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Et(),t.sibling=null,n=ut.current,Qe(ut,r?n&1|2:n&1),t):(In(t),null);case 22:case 23:return K1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rr&1073741824&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function LK(e,t){switch(C1(t),t.tag){case 1:return wr(t.type)&&Yg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ec(),et(yr),et(Ln),M1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return L1(t),null;case 13:if(et(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(ut),null;case 4:return ec(),null;case 10:return P1(t.type._context),null;case 22:case 23:return K1(),null;case 24:return null;default:return null}}var zv=!1,An=!1,MK=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ll(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function RS(e,t,n){try{n()}catch(r){pt(e,t,r)}}var RN=!1;function jK(e,t){if(dS=Hg,e=Ej(),I1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,v=e,g=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)g=v,v=y;for(;;){if(v===e)break t;if(g===n&&++h===i&&(l=a),g===s&&++d===r&&(c=a),(y=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pS={focusedElem:e,selectionRange:n},Hg=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,x=w.memoizedState,S=t.stateNode,T=S.getSnapshotBeforeUpdate(t.elementType===t.type?E:xi(t.type,E),x);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){pt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return w=RN,RN=!1,w}function Eh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&RS(t,n,s)}i=i.next}while(i!==r)}}function my(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function PS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wF(e){var t=e.alternate;t!==null&&(e.alternate=null,wF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[eo],delete t[Yh],delete t[mS],delete t[wK],delete t[_K])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _F(e){return e.tag===5||e.tag===3||e.tag===4}function PN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_F(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function NS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qg));else if(r!==4&&(e=e.child,e!==null))for(NS(e,t,n),e=e.sibling;e!==null;)NS(e,t,n),e=e.sibling}function OS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(OS(e,t,n),e=e.sibling;e!==null;)OS(e,t,n),e=e.sibling}var fn=null,ki=!1;function as(e,t,n){for(n=n.child;n!==null;)bF(e,t,n),n=n.sibling}function bF(e,t,n){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(ly,n)}catch{}switch(n.tag){case 5:An||Ll(n,t);case 6:var r=fn,i=ki;fn=null,as(e,t,n),fn=r,ki=i,fn!==null&&(ki?(e=fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fn.removeChild(n.stateNode));break;case 18:fn!==null&&(ki?(e=fn,n=n.stateNode,e.nodeType===8?Vb(e.parentNode,n):e.nodeType===1&&Vb(e,n),Wh(e)):Vb(fn,n.stateNode));break;case 4:r=fn,i=ki,fn=n.stateNode.containerInfo,ki=!0,as(e,t,n),fn=r,ki=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&RS(n,t,a),i=i.next}while(i!==r)}as(e,t,n);break;case 1:if(!An&&(Ll(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,t,l)}as(e,t,n);break;case 21:as(e,t,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,as(e,t,n),An=r):as(e,t,n);break;default:as(e,t,n)}}function NN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new MK),t.forEach(function(r){var i=HK.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:fn=l.stateNode,ki=!1;break e;case 3:fn=l.stateNode.containerInfo,ki=!0;break e;case 4:fn=l.stateNode.containerInfo,ki=!0;break e}l=l.return}if(fn===null)throw Error(W(160));bF(s,a,i),fn=null,ki=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){pt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EF(t,e),t=t.sibling}function EF(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bi(t,e),Gi(e),r&4){try{Eh(3,e,e.return),my(3,e)}catch(E){pt(e,e.return,E)}try{Eh(5,e,e.return)}catch(E){pt(e,e.return,E)}}break;case 1:bi(t,e),Gi(e),r&512&&n!==null&&Ll(n,n.return);break;case 5:if(bi(t,e),Gi(e),r&512&&n!==null&&Ll(n,n.return),e.flags&32){var i=e.stateNode;try{Vh(i,"")}catch(E){pt(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zM(i,s),rS(l,a);var h=rS(l,s);for(a=0;a<c.length;a+=2){var d=c[a],v=c[a+1];d==="style"?GM(i,v):d==="dangerouslySetInnerHTML"?HM(i,v):d==="children"?Vh(i,v):h1(i,d,v,h)}switch(l){case"input":JE(i,s);break;case"textarea":qM(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?$l(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?$l(i,!!s.multiple,s.defaultValue,!0):$l(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yh]=s}catch(E){pt(e,e.return,E)}}break;case 6:if(bi(t,e),Gi(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){pt(e,e.return,E)}}break;case 3:if(bi(t,e),Gi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(E){pt(e,e.return,E)}break;case 4:bi(t,e),Gi(e);break;case 13:bi(t,e),Gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(W1=Et())),r&4&&NN(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(An=(h=An)||d,bi(t,e),An=h):bi(t,e),Gi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(v=J=d;J!==null;){switch(g=J,y=g.child,g.tag){case 0:case 11:case 14:case 15:Eh(4,g,g.return);break;case 1:Ll(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){pt(r,n,E)}}break;case 5:Ll(g,g.return);break;case 22:if(g.memoizedState!==null){DN(v);continue}}y!==null?(y.return=g,J=y):DN(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=KM("display",a))}catch(E){pt(e,e.return,E)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(E){pt(e,e.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:bi(t,e),Gi(e),r&4&&NN(e);break;case 21:break;default:bi(t,e),Gi(e)}}function Gi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_F(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vh(i,""),r.flags&=-33);var s=PN(e);OS(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=PN(e);NS(e,l,a);break;default:throw Error(W(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FK(e,t,n){J=e,SF(e)}function SF(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||zv;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||An;l=zv;var h=An;if(zv=a,(An=c)&&!h)for(J=i;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?LN(i):c!==null?(c.return=a,J=c):LN(i);for(;s!==null;)J=s,SF(s),s=s.sibling;J=i,zv=l,An=h}ON(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):ON(e)}}function ON(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:An||my(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&gN(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gN(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&Wh(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}An||t.flags&512&&PS(t)}catch(g){pt(t,t.return,g)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function DN(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function LN(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{my(4,t)}catch(c){pt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){pt(t,i,c)}}var s=t.return;try{PS(t)}catch(c){pt(t,s,c)}break;case 5:var a=t.return;try{PS(t)}catch(c){pt(t,a,c)}}}catch(c){pt(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var UK=Math.ceil,sm=Ko.ReactCurrentDispatcher,z1=Ko.ReactCurrentOwner,oi=Ko.ReactCurrentBatchConfig,Pe=0,tn=null,At=null,gn=0,Rr=0,Ml=Ys(0),Vt=0,nd=null,au=0,yy=0,q1=0,Sh=null,dr=null,W1=0,nc=1/0,xo=null,am=!1,DS=null,Ns=null,qv=!1,Ts=null,um=0,Th=0,LS=null,Eg=-1,Sg=0;function Zn(){return Pe&6?Et():Eg!==-1?Eg:Eg=Et()}function Os(e){return e.mode&1?Pe&2&&gn!==0?gn&-gn:EK.transition!==null?(Sg===0&&(Sg=sj()),Sg):(e=ze,e!==0||(e=window.event,e=e===void 0?16:dj(e.type)),e):1}function Ni(e,t,n,r){if(50<Th)throw Th=0,LS=null,Error(W(185));Ud(e,n,r),(!(Pe&2)||e!==tn)&&(e===tn&&(!(Pe&2)&&(yy|=n),Vt===4&&ys(e,gn)),_r(e,r),n===1&&Pe===0&&!(t.mode&1)&&(nc=Et()+500,py&&Xs()))}function _r(e,t){var n=e.callbackNode;E8(e,t);var r=Wg(e,e===tn?gn:0);if(r===0)n!==null&&qP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qP(n),t===1)e.tag===0?bK(MN.bind(null,e)):Nj(MN.bind(null,e)),mK(function(){!(Pe&6)&&Xs()}),n=null;else{switch(aj(r)){case 1:n=m1;break;case 4:n=ij;break;case 16:n=qg;break;case 536870912:n=oj;break;default:n=qg}n=PF(n,TF.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TF(e,t){if(Eg=-1,Sg=0,Pe&6)throw Error(W(327));var n=e.callbackNode;if(Wl()&&e.callbackNode!==n)return null;var r=Wg(e,e===tn?gn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lm(e,r);else{t=r;var i=Pe;Pe|=2;var s=xF();(tn!==e||gn!==t)&&(xo=null,nc=Et()+500,Ha(e,t));do try{BK();break}catch(l){IF(e,l)}while(!0);R1(),sm.current=s,Pe=i,At!==null?t=0:(tn=null,gn=0,t=Vt)}if(t!==0){if(t===2&&(i=uS(e),i!==0&&(r=i,t=MS(e,i))),t===1)throw n=nd,Ha(e,0),ys(e,r),_r(e,Et()),n;if(t===6)ys(e,r);else{if(i=e.current.alternate,!(r&30)&&!$K(i)&&(t=lm(e,r),t===2&&(s=uS(e),s!==0&&(r=s,t=MS(e,s))),t===1))throw n=nd,Ha(e,0),ys(e,r),_r(e,Et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Ra(e,dr,xo);break;case 3:if(ys(e,r),(r&130023424)===r&&(t=W1+500-Et(),10<t)){if(Wg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gS(Ra.bind(null,e,dr,xo),t);break}Ra(e,dr,xo);break;case 4:if(ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pi(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UK(r/1960))-r,10<r){e.timeoutHandle=gS(Ra.bind(null,e,dr,xo),r);break}Ra(e,dr,xo);break;case 5:Ra(e,dr,xo);break;default:throw Error(W(329))}}}return _r(e,Et()),e.callbackNode===n?TF.bind(null,e):null}function MS(e,t){var n=Sh;return e.current.memoizedState.isDehydrated&&(Ha(e,t).flags|=256),e=lm(e,t),e!==2&&(t=dr,dr=n,t!==null&&jS(t)),e}function jS(e){dr===null?dr=e:dr.push.apply(dr,e)}function $K(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ys(e,t){for(t&=~q1,t&=~yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pi(t),r=1<<n;e[n]=-1,t&=~r}}function MN(e){if(Pe&6)throw Error(W(327));Wl();var t=Wg(e,0);if(!(t&1))return _r(e,Et()),null;var n=lm(e,t);if(e.tag!==0&&n===2){var r=uS(e);r!==0&&(t=r,n=MS(e,r))}if(n===1)throw n=nd,Ha(e,0),ys(e,t),_r(e,Et()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ra(e,dr,xo),_r(e,Et()),null}function H1(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(nc=Et()+500,py&&Xs())}}function uu(e){Ts!==null&&Ts.tag===0&&!(Pe&6)&&Wl();var t=Pe;Pe|=1;var n=oi.transition,r=ze;try{if(oi.transition=null,ze=1,e)return e()}finally{ze=r,oi.transition=n,Pe=t,!(Pe&6)&&Xs()}}function K1(){Rr=Ml.current,et(Ml)}function Ha(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gK(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(C1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yg();break;case 3:ec(),et(yr),et(Ln),M1();break;case 5:L1(r);break;case 4:ec();break;case 13:et(ut);break;case 19:et(ut);break;case 10:P1(r.type._context);break;case 22:case 23:K1()}n=n.return}if(tn=e,At=e=Ds(e.current,null),gn=Rr=t,Vt=0,nd=null,q1=yy=au=0,dr=Sh=null,Ma!==null){for(t=0;t<Ma.length;t++)if(n=Ma[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ma=null}return e}function IF(e,t){do{var n=At;try{if(R1(),wg.current=om,im){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}im=!1}if(su=0,Gt=Ut=ft=null,bh=!1,Zh=0,z1.current=null,n===null||n.return===null){Vt=1,nd=t,At=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=gn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=SN(a);if(y!==null){y.flags&=-257,TN(y,a,l,s,t),y.mode&1&&EN(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var E=new Set;E.add(c),t.updateQueue=E}else w.add(c);break e}else{if(!(t&1)){EN(s,h,t),G1();break e}c=Error(W(426))}}else if(rt&&l.mode&1){var x=SN(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),TN(x,a,l,s,t),k1(tc(c,l));break e}}s=c=tc(c,l),Vt!==4&&(Vt=2),Sh===null?Sh=[s]:Sh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=uF(s,c,t);vN(s,S);break e;case 1:l=c;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ns===null||!Ns.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=lF(s,l,t);vN(s,k);break e}}s=s.return}while(s!==null)}kF(n)}catch(D){t=D,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function xF(){var e=sm.current;return sm.current=om,e===null?om:e}function G1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),tn===null||!(au&268435455)&&!(yy&268435455)||ys(tn,gn)}function lm(e,t){var n=Pe;Pe|=2;var r=xF();(tn!==e||gn!==t)&&(xo=null,Ha(e,t));do try{VK();break}catch(i){IF(e,i)}while(!0);if(R1(),Pe=n,sm.current=r,At!==null)throw Error(W(261));return tn=null,gn=0,Vt}function VK(){for(;At!==null;)CF(At)}function BK(){for(;At!==null&&!d8();)CF(At)}function CF(e){var t=RF(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?kF(e):At=t,z1.current=null}function kF(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LK(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,At=null;return}}else if(n=DK(n,t,Rr),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Vt===0&&(Vt=5)}function Ra(e,t,n){var r=ze,i=oi.transition;try{oi.transition=null,ze=1,zK(e,t,n,r)}finally{oi.transition=i,ze=r}return null}function zK(e,t,n,r){do Wl();while(Ts!==null);if(Pe&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(S8(e,s),e===tn&&(At=tn=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qv||(qv=!0,PF(qg,function(){return Wl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oi.transition,oi.transition=null;var a=ze;ze=1;var l=Pe;Pe|=4,z1.current=null,jK(e,n),EF(n,e),lK(pS),Hg=!!dS,pS=dS=null,e.current=n,FK(n),p8(),Pe=l,ze=a,oi.transition=s}else e.current=n;if(qv&&(qv=!1,Ts=e,um=i),s=e.pendingLanes,s===0&&(Ns=null),m8(n.stateNode),_r(e,Et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(am)throw am=!1,e=DS,DS=null,e;return um&1&&e.tag!==0&&Wl(),s=e.pendingLanes,s&1?e===LS?Th++:(Th=0,LS=e):Th=0,Xs(),null}function Wl(){if(Ts!==null){var e=aj(um),t=oi.transition,n=ze;try{if(oi.transition=null,ze=16>e?16:e,Ts===null)var r=!1;else{if(e=Ts,Ts=null,um=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,J=e.current;J!==null;){var s=J,a=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(J=h;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Eh(8,d,s)}var v=d.child;if(v!==null)v.return=d,J=v;else for(;J!==null;){d=J;var g=d.sibling,y=d.return;if(wF(d),d===h){J=null;break}if(g!==null){g.return=y,J=g;break}J=y}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}J=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,J=a;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}var T=e.current;for(J=T;J!==null;){a=J;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,J=C;else e:for(a=T;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:my(9,l)}}catch(D){pt(l,l.return,D)}if(l===a){J=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,J=k;break e}J=l.return}}if(Pe=i,Xs(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(ly,e)}catch{}r=!0}return r}finally{ze=n,oi.transition=t}}return!1}function jN(e,t,n){t=tc(n,t),t=uF(e,t,1),e=Ps(e,t,1),t=Zn(),e!==null&&(Ud(e,1,t),_r(e,t))}function pt(e,t,n){if(e.tag===3)jN(e,e,n);else for(;t!==null;){if(t.tag===3){jN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){e=tc(n,e),e=lF(t,e,1),t=Ps(t,e,1),e=Zn(),t!==null&&(Ud(t,1,e),_r(t,e));break}}t=t.return}}function qK(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(gn&n)===n&&(Vt===4||Vt===3&&(gn&130023424)===gn&&500>Et()-W1?Ha(e,0):q1|=n),_r(e,t)}function AF(e,t){t===0&&(e.mode&1?(t=Dv,Dv<<=1,!(Dv&130023424)&&(Dv=4194304)):t=1);var n=Zn();e=Vo(e,t),e!==null&&(Ud(e,t,n),_r(e,n))}function WK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),AF(e,n)}function HK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),AF(e,n)}var RF;RF=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)vr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vr=!1,OK(e,t,n);vr=!!(e.flags&131072)}else vr=!1,rt&&t.flags&1048576&&Oj(t,Zg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bg(e,t),e=t.pendingProps;var i=Xl(t,Ln.current);ql(t,n),i=F1(null,t,r,e,i,n);var s=U1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wr(r)?(s=!0,Xg(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O1(t),i.updater=vy,t.stateNode=i,i._reactInternals=t,SS(t,r,e,n),t=xS(null,t,r,!0,s,n)):(t.tag=0,rt&&s&&x1(t),Hn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=GK(r),e=xi(r,e),i){case 0:t=IS(null,t,r,e,n);break e;case 1:t=CN(null,t,r,e,n);break e;case 11:t=IN(null,t,r,e,n);break e;case 14:t=xN(null,t,r,xi(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),IS(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),CN(e,t,r,i,n);case 3:e:{if(dF(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,i=s.element,jj(e,t),nm(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=tc(Error(W(423)),t),t=kN(e,t,r,n,i);break e}else if(r!==i){i=tc(Error(W(424)),t),t=kN(e,t,r,n,i);break e}else for(Dr=Rs(t.stateNode.containerInfo.firstChild),Fr=t,rt=!0,Ai=null,n=Vj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===i){t=Bo(e,t,n);break e}Hn(e,t,r,n)}t=t.child}return t;case 5:return Bj(t),e===null&&_S(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,vS(r,i)?a=null:s!==null&&vS(r,s)&&(t.flags|=32),hF(e,t),Hn(e,t,a,n),t.child;case 6:return e===null&&_S(t),null;case 13:return pF(e,t,n);case 4:return D1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zl(t,null,r,n):Hn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),IN(e,t,r,i,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Qe(em,r._currentValue),r._currentValue=a,s!==null)if(Mi(s.value,a)){if(s.children===i.children&&!yr.current){t=Bo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Lo(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),bS(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),bS(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Hn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ql(t,n),i=ui(i),r=r(i),t.flags|=1,Hn(e,t,r,n),t.child;case 14:return r=t.type,i=xi(r,t.pendingProps),i=xi(r.type,i),xN(e,t,r,i,n);case 15:return cF(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),bg(e,t),t.tag=1,wr(r)?(e=!0,Xg(t)):e=!1,ql(t,n),Uj(t,r,i),SS(t,r,i,n),xS(null,t,r,!0,e,n);case 19:return vF(e,t,n);case 22:return fF(e,t,n)}throw Error(W(156,t.tag))};function PF(e,t){return rj(e,t)}function KK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new KK(e,t,n,r)}function Q1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GK(e){if(typeof e=="function")return Q1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p1)return 11;if(e===v1)return 14}return 2}function Ds(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tg(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Q1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xl:return Ka(n.children,i,s,t);case d1:a=8,i|=8;break;case KE:return e=Zr(12,n,t,i|2),e.elementType=KE,e.lanes=s,e;case GE:return e=Zr(13,n,t,i),e.elementType=GE,e.lanes=s,e;case QE:return e=Zr(19,n,t,i),e.elementType=QE,e.lanes=s,e;case $M:return wy(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FM:a=10;break e;case UM:a=9;break e;case p1:a=11;break e;case v1:a=14;break e;case ps:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Zr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ka(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function wy(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=$M,e.lanes=n,e.stateNode={isHidden:!1},e}function Qb(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function Yb(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QK(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rb(0),this.expirationTimes=Rb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y1(e,t,n,r,i,s,a,l,c){return e=new QK(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(s),e}function YK(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function NF(e){if(!e)return Bs;e=e._reactInternals;e:{if(Su(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(wr(n))return Pj(e,n,t)}return t}function OF(e,t,n,r,i,s,a,l,c){return e=Y1(n,r,!0,e,i,s,a,l,c),e.context=NF(null),n=e.current,r=Zn(),i=Os(n),s=Lo(r,i),s.callback=t??null,Ps(n,s,i),e.current.lanes=i,Ud(e,i,r),_r(e,r),e}function _y(e,t,n,r){var i=t.current,s=Zn(),a=Os(i);return n=NF(n),t.context===null?t.context=n:t.pendingContext=n,t=Lo(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ps(i,t,a),e!==null&&(Ni(e,i,a,s),yg(e,i,a)),a}function cm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function X1(e,t){FN(e,t),(e=e.alternate)&&FN(e,t)}function XK(){return null}var DF=typeof reportError=="function"?reportError:function(e){console.error(e)};function J1(e){this._internalRoot=e}by.prototype.render=J1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));_y(e,t,null,null)};by.prototype.unmount=J1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uu(function(){_y(null,e,null,null)}),t[$o]=null}};function by(e){this._internalRoot=e}by.prototype.unstable_scheduleHydration=function(e){if(e){var t=cj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ms.length&&t!==0&&t<ms[n].priority;n++);ms.splice(n,0,e),n===0&&hj(e)}};function Z1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UN(){}function JK(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=cm(a);s.call(h)}}var a=OF(t,r,e,0,null,!1,!1,"",UN);return e._reactRootContainer=a,e[$o]=a.current,Gh(e.nodeType===8?e.parentNode:e),uu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=cm(c);l.call(h)}}var c=Y1(e,0,!1,null,null,!1,!1,"",UN);return e._reactRootContainer=c,e[$o]=c.current,Gh(e.nodeType===8?e.parentNode:e),uu(function(){_y(t,c,n,r)}),c}function Sy(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=cm(a);l.call(c)}}_y(t,a,e,i)}else a=JK(n,t,e,i,r);return cm(a)}uj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ch(t.pendingLanes);n!==0&&(y1(t,n|1),_r(t,Et()),!(Pe&6)&&(nc=Et()+500,Xs()))}break;case 13:uu(function(){var r=Vo(e,1);if(r!==null){var i=Zn();Ni(r,e,1,i)}}),X1(e,1)}};w1=function(e){if(e.tag===13){var t=Vo(e,134217728);if(t!==null){var n=Zn();Ni(t,e,134217728,n)}X1(e,134217728)}};lj=function(e){if(e.tag===13){var t=Os(e),n=Vo(e,t);if(n!==null){var r=Zn();Ni(n,e,t,r)}X1(e,t)}};cj=function(){return ze};fj=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};oS=function(e,t,n){switch(t){case"input":if(JE(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=dy(r);if(!i)throw Error(W(90));BM(r),JE(r,i)}}}break;case"textarea":qM(e,n);break;case"select":t=n.value,t!=null&&$l(e,!!n.multiple,t,!1)}};XM=H1;JM=uu;var ZK={usingClientEntryPoint:!1,Events:[Vd,Rl,dy,QM,YM,H1]},Qf={findFiberByHostInstance:La,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eG={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tj(e),e===null?null:e.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance||XK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wv.isDisabled&&Wv.supportsFiber)try{ly=Wv.inject(eG),no=Wv}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZK;zr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z1(t))throw Error(W(200));return YK(e,t,null,n)};zr.createRoot=function(e,t){if(!Z1(e))throw Error(W(299));var n=!1,r="",i=DF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Y1(e,1,!1,null,null,n,!1,r,i),e[$o]=t.current,Gh(e.nodeType===8?e.parentNode:e),new J1(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=tj(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return uu(e)};zr.hydrate=function(e,t,n){if(!Ey(t))throw Error(W(200));return Sy(null,e,t,!0,n)};zr.hydrateRoot=function(e,t,n){if(!Z1(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=DF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=OF(t,null,e,1,n??null,i,!1,s,a),e[$o]=t.current,Gh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new by(t)};zr.render=function(e,t,n){if(!Ey(t))throw Error(W(200));return Sy(null,e,t,!1,n)};zr.unmountComponentAtNode=function(e){if(!Ey(e))throw Error(W(40));return e._reactRootContainer?(uu(function(){Sy(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};zr.unstable_batchedUpdates=H1;zr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ey(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Sy(e,t,n,!1,r)};zr.version="18.2.0-next-9e3b772b8-20220608";function LF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LF)}catch(e){console.error(e)}}LF(),OM.exports=zr;var tG=OM.exports,$N=tG;WE.createRoot=$N.createRoot,WE.hydrateRoot=$N.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}var Is;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Is||(Is={}));const VN="popstate";function nG(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return FS("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jF(i)}return iG(t,n,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rG(){return Math.random().toString(36).substr(2,8)}function BN(e,t){return{usr:e.state,key:e.key,idx:t}}function FS(e,t,n,r){return n===void 0&&(n=null),rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fc(t):t,{state:n,key:t&&t.key||r||rG()})}function jF(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iG(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Is.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(rd({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function v(){l=Is.Pop;let x=d(),S=x==null?null:x-h;h=x,c&&c({action:l,location:E.location,delta:S})}function g(x,S){l=Is.Push;let T=FS(E.location,x,S);h=d()+1;let C=BN(T,h),k=E.createHref(T);try{a.pushState(C,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&c&&c({action:l,location:E.location,delta:1})}function y(x,S){l=Is.Replace;let T=FS(E.location,x,S);h=d();let C=BN(T,h),k=E.createHref(T);a.replaceState(C,"",k),s&&c&&c({action:l,location:E.location,delta:0})}function w(x){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof x=="string"?x:jF(x);return T=T.replace(/ $/,"%20"),Pt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let E={get action(){return l},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(VN,v),c=x,()=>{i.removeEventListener(VN,v),c=null}},createHref(x){return t(i,x)},createURL:w,encodeLocation(x){let S=w(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(x){return a.go(x)}};return E}var zN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zN||(zN={}));function oG(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Fc(t):t,i=$F(r.pathname||"/",n);if(i==null)return null;let s=FF(e);sG(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=yG(i);a=vG(s[l],c)}return a}function FF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ga([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),FF(s.children,t,d,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:dG(h,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of UF(s.path))i(s,a,c)}),t}function UF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=UF(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aG=/^:[\w-]+$/,uG=3,lG=2,cG=1,fG=10,hG=-2,qN=e=>e==="*";function dG(e,t){let n=e.split("/"),r=n.length;return n.some(qN)&&(r+=hG),t&&(r+=lG),n.filter(i=>!qN(i)).reduce((i,s)=>i+(aG.test(s)?uG:s===""?cG:fG),r)}function pG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vG(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=gG({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(r,d.params);let v=l.route;s.push({params:r,pathname:Ga([i,d.pathname]),pathnameBase:EG(Ga([i,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(i=Ga([i,d.pathnameBase]))}return s}function gG(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,v)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let E=l[v]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=l[v];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function mG(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),MF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function yG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return MF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $F(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wG(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Fc(e):e;return{pathname:n?n.startsWith("/")?n:_G(n,t):t,search:SG(r),hash:TG(i)}}function _G(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xb(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VF(e,t){let n=bG(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BF(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fc(e):(i=rd({},e),Pt(!i.pathname||!i.pathname.includes("?"),Xb("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),Xb("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),Xb("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let v=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}l=v>=0?t[v]:"/"}let c=wG(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Ga=e=>e.join("/").replace(/\/\/+/g,"/"),EG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zF=["post","put","patch","delete"];new Set(zF);const xG=["get",...zF];new Set(xG);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}const eI=$.createContext(null),CG=$.createContext(null),zd=$.createContext(null),Ty=$.createContext(null),Js=$.createContext({outlet:null,matches:[],isDataRoute:!1}),qF=$.createContext(null);function qd(){return $.useContext(Ty)!=null}function Iy(){return qd()||Pt(!1),$.useContext(Ty).location}function WF(e){$.useContext(zd).static||$.useLayoutEffect(e)}function Tu(){let{isDataRoute:e}=$.useContext(Js);return e?VG():kG()}function kG(){qd()||Pt(!1);let e=$.useContext(eI),{basename:t,future:n,navigator:r}=$.useContext(zd),{matches:i}=$.useContext(Js),{pathname:s}=Iy(),a=JSON.stringify(VF(i,n.v7_relativeSplatPath)),l=$.useRef(!1);return WF(()=>{l.current=!0}),$.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let v=BF(h,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ga([t,v.pathname])),(d.replace?r.replace:r.push)(v,d.state,d)},[t,r,a,s,e])}function AG(){let{matches:e}=$.useContext(Js),t=e[e.length-1];return t?t.params:{}}function RG(e,t){return PG(e,t)}function PG(e,t,n,r){qd()||Pt(!1);let{navigator:i}=$.useContext(zd),{matches:s}=$.useContext(Js),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Iy(),d;if(t){var v;let x=typeof t=="string"?Fc(t):t;c==="/"||(v=x.pathname)!=null&&v.startsWith(c)||Pt(!1),d=x}else d=h;let g=d.pathname||"/",y=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=oG(e,{pathname:y}),E=MG(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ga([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ga([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&E?$.createElement(Ty.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},E):E}function NG(){let e=$G(),t=IG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:i},n):null,null)}const OG=$.createElement(NG,null);class DG extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?$.createElement(Js.Provider,{value:this.props.routeContext},$.createElement(qF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LG(e){let{routeContext:t,match:n,children:r}=e,i=$.useContext(eI);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Js.Provider,{value:t},r)}function MG(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id]));d>=0||Pt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let v=a[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=d),v.route.id){let{loaderData:g,errors:y}=n,w=v.route.loader&&g[v.route.id]===void 0&&(!y||y[v.route.id]===void 0);if(v.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,v,g)=>{let y,w=!1,E=null,x=null;n&&(y=l&&v.route.id?l[v.route.id]:void 0,E=v.route.errorElement||OG,c&&(h<0&&g===0?(w=!0,x=null):h===g&&(w=!0,x=v.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,g+1)),T=()=>{let C;return y?C=E:w?C=x:v.route.Component?C=$.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=d,$.createElement(LG,{match:v,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:C})};return n&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?$.createElement(DG,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var HF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(HF||{}),fm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fm||{});function jG(e){let t=$.useContext(eI);return t||Pt(!1),t}function FG(e){let t=$.useContext(CG);return t||Pt(!1),t}function UG(e){let t=$.useContext(Js);return t||Pt(!1),t}function KF(e){let t=UG(),n=t.matches[t.matches.length-1];return n.route.id||Pt(!1),n.route.id}function $G(){var e;let t=$.useContext(qF),n=FG(fm.UseRouteError),r=KF(fm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function VG(){let{router:e}=jG(HF.UseNavigateStable),t=KF(fm.UseNavigateStable),n=$.useRef(!1);return WF(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,id({fromRouteId:t},s)))},[e,t])}function Iu(e){let{to:t,replace:n,state:r,relative:i}=e;qd()||Pt(!1);let{future:s,static:a}=$.useContext(zd),{matches:l}=$.useContext(Js),{pathname:c}=Iy(),h=Tu(),d=BF(t,VF(l,s.v7_relativeSplatPath),c,i==="path"),v=JSON.stringify(d);return $.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function hs(e){Pt(!1)}function BG(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Is.Pop,navigator:s,static:a=!1,future:l}=e;qd()&&Pt(!1);let c=t.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:c,navigator:s,static:a,future:id({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Fc(r));let{pathname:d="/",search:v="",hash:g="",state:y=null,key:w="default"}=r,E=$.useMemo(()=>{let x=$F(d,c);return x==null?null:{location:{pathname:x,search:v,hash:g,state:y,key:w},navigationType:i}},[c,d,v,g,y,w,i]);return E==null?null:$.createElement(zd.Provider,{value:h},$.createElement(Ty.Provider,{children:n,value:E}))}function zG(e){let{children:t,location:n}=e;return RG(US(t),n)}new Promise(()=>{});function US(e,t){t===void 0&&(t=[]);let n=[];return $.Children.forEach(e,(r,i)=>{if(!$.isValidElement(r))return;let s=[...t,i];if(r.type===$.Fragment){n.push.apply(n,US(r.props.children,s));return}r.type!==hs&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=US(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qG="6";try{window.__reactRouterVersion=qG}catch{}const WG="startTransition",WN=qE[WG];function HG(e){let{basename:t,children:n,future:r,window:i}=e,s=$.useRef();s.current==null&&(s.current=nG({window:i,v5Compat:!0}));let a=s.current,[l,c]=$.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=$.useCallback(v=>{h&&WN?WN(()=>c(v)):c(v)},[c,h]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(BG,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var HN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HN||(HN={}));var KN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KN||(KN={}));var KG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=$;function GG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QG=typeof Object.is=="function"?Object.is:GG,YG=Wd.useSyncExternalStore,XG=Wd.useRef,JG=Wd.useEffect,ZG=Wd.useMemo,e2=Wd.useDebugValue;KG.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=XG(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ZG(function(){function c(y){if(!h){if(h=!0,d=y,y=r(y),i!==void 0&&a.hasValue){var w=a.value;if(i(w,y))return v=w}return v=y}if(w=v,QG(d,y))return w;var E=r(y);return i!==void 0&&i(w,E)?w:(d=y,v=E)}var h=!1,d,v,g=n===void 0?null:n;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,n,r,i]);var l=YG(e,s[0],s[1]);return JG(function(){a.hasValue=!0,a.value=l},[l]),e2(l),l};var je="default"in qE?$s:qE,GN=Symbol.for("react-redux-context"),QN=typeof globalThis<"u"?globalThis:{};function t2(){if(!je.createContext)return{};const e=QN[GN]??(QN[GN]=new Map);let t=e.get(je.createContext);return t||(t=je.createContext(null),e.set(je.createContext,t)),t}var GF=t2(),n2=()=>{throw new Error("uSES not initialized!")},r2=Symbol.for("react.element"),i2=Symbol.for("react.portal"),o2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),u2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),c2=Symbol.for("react.server_context"),QF=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),h2=Symbol.for("react.suspense_list"),tI=Symbol.for("react.memo"),d2=Symbol.for("react.lazy"),p2=QF,v2=tI;function g2(e){if(typeof e=="object"&&e!==null){const t=e.$$typeof;switch(t){case r2:{const n=e.type;switch(n){case o2:case a2:case s2:case f2:case h2:return n;default:{const r=n&&n.$$typeof;switch(r){case c2:case l2:case QF:case d2:case tI:case u2:return r;default:return t}}}}case i2:return t}}}function m2(e){return g2(e)===tI}function y2(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,c,h,d,v,g;function y(T,C){return c=T,h=C,d=e(c,h),v=t(r,h),g=n(d,v,h),l=!0,g}function w(){return d=e(c,h),t.dependsOnOwnProps&&(v=t(r,h)),g=n(d,v,h),g}function E(){return e.dependsOnOwnProps&&(d=e(c,h)),t.dependsOnOwnProps&&(v=t(r,h)),g=n(d,v,h),g}function x(){const T=e(c,h),C=!a(T,d);return d=T,C&&(g=n(d,v,h)),g}function S(T,C){const k=!s(C,h),D=!i(T,c,C,h);return c=T,h=C,k&&D?w():k?E():D?x():g}return function(C,k){return l?S(C,k):y(C,k)}}function w2(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),a=n(e,i),l=r(e,i);return y2(s,a,l,e,i)}function _2(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function $S(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function YN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function YF(e,t){return function(r,{displayName:i}){const s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=YN(e);let h=s(l,c);return typeof h=="function"&&(s.mapToProps=h,s.dependsOnOwnProps=YN(h),h=s(l,c)),h},s}}function nI(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function b2(e){return e&&typeof e=="object"?$S(t=>_2(e,t)):e?typeof e=="function"?YF(e):nI(e,"mapDispatchToProps"):$S(t=>({dispatch:t}))}function E2(e){return e?typeof e=="function"?YF(e):nI(e,"mapStateToProps"):$S(()=>({}))}function S2(e,t,n){return{...n,...e,...t}}function T2(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,a;return function(c,h,d){const v=e(c,h,d);return s?i(v,a)||(a=v):(s=!0,a=v),a}}}function I2(e){return e?typeof e=="function"?T2(e):nI(e,"mergeProps"):()=>S2}function x2(e){e()}function C2(){let e=null,t=null;return{clear(){e=null,t=null},notify(){x2(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var XN={notify(){},get:()=>[]};function XF(e,t){let n,r=XN,i=0,s=!1;function a(E){d();const x=r.subscribe(E);let S=!1;return()=>{S||(S=!0,x(),v())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function h(){return s}function d(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=C2())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=XN)}function g(){s||(s=!0,d())}function y(){s&&(s=!1,v())}const w={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return w}var k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hm=k2?je.useLayoutEffect:je.useEffect;function JN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jb(e,t){if(JN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!JN(e[n[i]],t[n[i]]))return!1;return!0}var A2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},R2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},P2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N2={[p2]:P2,[v2]:JF};function ZN(e){return m2(e)?JF:N2[e.$$typeof]||A2}var O2=Object.defineProperty,D2=Object.getOwnPropertyNames,eO=Object.getOwnPropertySymbols,L2=Object.getOwnPropertyDescriptor,M2=Object.getPrototypeOf,tO=Object.prototype;function VS(e,t){if(typeof t!="string"){if(tO){const s=M2(t);s&&s!==tO&&VS(e,s)}let n=D2(t);eO&&(n=n.concat(eO(t)));const r=ZN(e),i=ZN(t);for(let s=0;s<n.length;++s){const a=n[s];if(!R2[a]&&!(i&&i[a])&&!(r&&r[a])){const l=L2(t,a);try{O2(e,a,l)}catch{}}}}return e}var ZF=n2,j2=e=>{ZF=e},F2=[null,null];function U2(e,t,n){hm(()=>e(...t),n)}function $2(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function V2(e,t,n,r,i,s,a,l,c,h,d){if(!e)return()=>{};let v=!1,g=null;const y=()=>{if(v||!l.current)return;const E=t.getState();let x,S;try{x=r(E,i.current)}catch(T){S=T,g=T}S||(g=null),x===s.current?a.current||h():(s.current=x,c.current=x,a.current=!0,d())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function B2(e,t){return e===t}function z2(e,t,n,{pure:r,areStatesEqual:i=B2,areOwnPropsEqual:s=Jb,areStatePropsEqual:a=Jb,areMergedPropsEqual:l=Jb,forwardRef:c=!1,context:h=GF}={}){const d=h,v=E2(e),g=b2(t),y=I2(n),w=!!e;return x=>{const S=x.displayName||x.name||"Component",T=`Connect(${S})`,C={shouldHandleStateChanges:w,displayName:T,wrappedComponentName:S,WrappedComponent:x,initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function k(j){const[L,Y,R]=je.useMemo(()=>{const{reactReduxForwardedRef:st,...sa}=j;return[j.context,st,sa]},[j]),Ce=je.useMemo(()=>{let st=d;return L!=null&&L.Consumer,st},[L,d]),Ke=je.useContext(Ce),Wt=!!j.store&&!!j.store.getState&&!!j.store.dispatch,Hr=!!Ke&&!!Ke.store,le=Wt?j.store:Ke.store,Tt=Hr?Ke.getServerState:le.getState,Dt=je.useMemo(()=>w2(le.dispatch,C),[le]),[z,ne]=je.useMemo(()=>{if(!w)return F2;const st=XF(le,Wt?void 0:Ke.subscription),sa=st.notifyNestedSubs.bind(st);return[st,sa]},[le,Wt,Ke]),se=je.useMemo(()=>Wt?Ke:{...Ke,subscription:z},[Wt,Ke,z]),ke=je.useRef(),Ae=je.useRef(R),Sn=je.useRef(),on=je.useRef(!1);je.useRef(!1);const ir=je.useRef(!1),gt=je.useRef();hm(()=>(ir.current=!0,()=>{ir.current=!1}),[]);const Un=je.useMemo(()=>()=>Sn.current&&R===Ae.current?Sn.current:Dt(le.getState(),R),[le,R]),Me=je.useMemo(()=>sa=>z?V2(w,le,z,Dt,Ae,ke,on,ir,Sn,ne,sa):()=>{},[z]);U2($2,[Ae,ke,on,R,Sn,ne]);let or;try{or=ZF(Me,Un,Tt?()=>Dt(Tt(),R):Un)}catch(st){throw gt.current&&(st.message+=`
The error may be correlated with this previous error:
${gt.current.stack}

`),st}hm(()=>{gt.current=void 0,Sn.current=void 0,ke.current=or});const mo=je.useMemo(()=>je.createElement(x,{...or,ref:Y}),[Y,x,or]);return je.useMemo(()=>w?je.createElement(Ce.Provider,{value:se},mo):mo,[Ce,mo,se])}const O=je.memo(k);if(O.WrappedComponent=x,O.displayName=k.displayName=T,c){const L=je.forwardRef(function(R,Ce){return je.createElement(O,{...R,reactReduxForwardedRef:Ce})});return L.displayName=T,L.WrappedComponent=x,VS(L,x)}return VS(O,x)}}var Wr=z2;function q2({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=je.useMemo(()=>{const h=XF(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=je.useMemo(()=>e.getState(),[e]);hm(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,l]);const c=t||GF;return je.createElement(c.Provider,{value:a},n)}var W2=q2;j2($.useSyncExternalStore);var gr=function(){return gr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gr.apply(this,arguments)};function dm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Je="-ms-",Ih="-moz-",Fe="-webkit-",eU="comm",xy="rule",rI="decl",H2="@import",tU="@keyframes",K2="@layer",nU=Math.abs,iI=String.fromCharCode,BS=Object.assign;function G2(e,t){return Qt(e,0)^45?(((t<<2^Qt(e,0))<<2^Qt(e,1))<<2^Qt(e,2))<<2^Qt(e,3):0}function rU(e){return e.trim()}function Co(e,t){return(e=t.exec(e))?e[0]:e}function ge(e,t,n){return e.replace(t,n)}function Ig(e,t,n){return e.indexOf(t,n)}function Qt(e,t){return e.charCodeAt(t)|0}function rc(e,t,n){return e.slice(t,n)}function Zi(e){return e.length}function iU(e){return e.length}function hh(e,t){return t.push(e),e}function Q2(e,t){return e.map(t).join("")}function nO(e,t){return e.filter(function(n){return!Co(n,t)})}var Cy=1,ic=1,oU=0,ci=0,kt=0,Uc="";function ky(e,t,n,r,i,s,a,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Cy,column:ic,length:a,return:"",siblings:l}}function ds(e,t){return BS(ky("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function fl(e){for(;e.root;)e=ds(e.root,{children:[e]});hh(e,e.siblings)}function Y2(){return kt}function X2(){return kt=ci>0?Qt(Uc,--ci):0,ic--,kt===10&&(ic=1,Cy--),kt}function Oi(){return kt=ci<oU?Qt(Uc,ci++):0,ic++,kt===10&&(ic=1,Cy++),kt}function Qa(){return Qt(Uc,ci)}function xg(){return ci}function Ay(e,t){return rc(Uc,e,t)}function zS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J2(e){return Cy=ic=1,oU=Zi(Uc=e),ci=0,[]}function Z2(e){return Uc="",e}function Zb(e){return rU(Ay(ci-1,qS(e===91?e+2:e===40?e+1:e)))}function eQ(e){for(;(kt=Qa())&&kt<33;)Oi();return zS(e)>2||zS(kt)>3?"":" "}function tQ(e,t){for(;--t&&Oi()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return Ay(e,xg()+(t<6&&Qa()==32&&Oi()==32))}function qS(e){for(;Oi();)switch(kt){case e:return ci;case 34:case 39:e!==34&&e!==39&&qS(kt);break;case 40:e===41&&qS(e);break;case 92:Oi();break}return ci}function nQ(e,t){for(;Oi()&&e+kt!==57;)if(e+kt===84&&Qa()===47)break;return"/*"+Ay(t,ci-1)+"*"+iI(e===47?e:Oi())}function rQ(e){for(;!zS(Qa());)Oi();return Ay(e,ci)}function iQ(e){return Z2(Cg("",null,null,null,[""],e=J2(e),0,[0],e))}function Cg(e,t,n,r,i,s,a,l,c){for(var h=0,d=0,v=a,g=0,y=0,w=0,E=1,x=1,S=1,T=0,C="",k=i,D=s,O=r,j=C;x;)switch(w=T,T=Oi()){case 40:if(w!=108&&Qt(j,v-1)==58){Ig(j+=ge(Zb(T),"&","&\f"),"&\f",nU(h?l[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:j+=Zb(T);break;case 9:case 10:case 13:case 32:j+=eQ(w);break;case 92:j+=tQ(xg()-1,7);continue;case 47:switch(Qa()){case 42:case 47:hh(oQ(nQ(Oi(),xg()),t,n,c),c);break;default:j+="/"}break;case 123*E:l[h++]=Zi(j)*S;case 125*E:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+d:S==-1&&(j=ge(j,/\f/g,"")),y>0&&Zi(j)-v&&hh(y>32?iO(j+";",r,n,v-1,c):iO(ge(j," ","")+";",r,n,v-2,c),c);break;case 59:j+=";";default:if(hh(O=rO(j,t,n,h,d,i,l,C,k=[],D=[],v,s),s),T===123)if(d===0)Cg(j,t,O,O,k,s,v,l,D);else switch(g===99&&Qt(j,3)===110?100:g){case 100:case 108:case 109:case 115:Cg(e,O,O,r&&hh(rO(e,O,O,0,0,i,l,C,i,k=[],v,D),D),i,D,v,l,r?k:D);break;default:Cg(j,O,O,O,[""],D,0,l,D)}}h=d=y=0,E=S=1,C=j="",v=a;break;case 58:v=1+Zi(j),y=w;default:if(E<1){if(T==123)--E;else if(T==125&&E++==0&&X2()==125)continue}switch(j+=iI(T),T*E){case 38:S=d>0?1:(j+="\f",-1);break;case 44:l[h++]=(Zi(j)-1)*S,S=1;break;case 64:Qa()===45&&(j+=Zb(Oi())),g=Qa(),d=v=Zi(C=j+=rQ(xg())),T++;break;case 45:w===45&&Zi(j)==2&&(E=0)}}return s}function rO(e,t,n,r,i,s,a,l,c,h,d,v){for(var g=i-1,y=i===0?s:[""],w=iU(y),E=0,x=0,S=0;E<r;++E)for(var T=0,C=rc(e,g+1,g=nU(x=a[E])),k=e;T<w;++T)(k=rU(x>0?y[T]+" "+C:ge(C,/&\f/g,y[T])))&&(c[S++]=k);return ky(e,t,n,i===0?xy:l,c,h,d,v)}function oQ(e,t,n,r){return ky(e,t,n,eU,iI(Y2()),rc(e,2,-2),0,r)}function iO(e,t,n,r,i){return ky(e,t,n,rI,rc(e,0,r),rc(e,r+1,-1),r,i)}function sU(e,t,n){switch(G2(e,t)){case 5103:return Fe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+e+e;case 4789:return Ih+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+e+Ih+e+Je+e+e;case 5936:switch(Qt(e,t+11)){case 114:return Fe+e+Je+ge(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fe+e+Je+ge(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fe+e+Je+ge(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Fe+e+Je+e+e;case 6165:return Fe+e+Je+"flex-"+e+e;case 5187:return Fe+e+ge(e,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+Je+"flex-$1$2")+e;case 5443:return Fe+e+Je+"flex-item-"+ge(e,/flex-|-self/g,"")+(Co(e,/flex-|baseline/)?"":Je+"grid-row-"+ge(e,/flex-|-self/g,""))+e;case 4675:return Fe+e+Je+"flex-line-pack"+ge(e,/align-content|flex-|-self/g,"")+e;case 5548:return Fe+e+Je+ge(e,"shrink","negative")+e;case 5292:return Fe+e+Je+ge(e,"basis","preferred-size")+e;case 6060:return Fe+"box-"+ge(e,"-grow","")+Fe+e+Je+ge(e,"grow","positive")+e;case 4554:return Fe+ge(e,/([^-])(transform)/g,"$1"+Fe+"$2")+e;case 6187:return ge(ge(ge(e,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),e,"")+e;case 5495:case 3959:return ge(e,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return ge(ge(e,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+Je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+e+e;case 4200:if(!Co(e,/flex-|baseline/))return Je+"grid-column-align"+rc(e,t)+e;break;case 2592:case 3360:return Je+ge(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Co(r.props,/grid-\w+-end/)})?~Ig(e+(n=n[t].value),"span",0)?e:Je+ge(e,"-start","")+e+Je+"grid-row-span:"+(~Ig(n,"span",0)?Co(n,/\d+/):+Co(n,/\d+/)-+Co(e,/\d+/))+";":Je+ge(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Co(r.props,/grid-\w+-start/)})?e:Je+ge(ge(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ge(e,/(.+)-inline(.+)/,Fe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zi(e)-1-t>6)switch(Qt(e,t+1)){case 109:if(Qt(e,t+4)!==45)break;case 102:return ge(e,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+Ih+(Qt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ig(e,"stretch",0)?sU(ge(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ge(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,l,c,h){return Je+i+":"+s+h+(a?Je+i+"-span:"+(l?c:+c-+s)+h:"")+e});case 4949:if(Qt(e,t+6)===121)return ge(e,":",":"+Fe)+e;break;case 6444:switch(Qt(e,Qt(e,14)===45?18:11)){case 120:return ge(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Fe+(Qt(e,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+Je+"$2box$3")+e;case 100:return ge(e,":",":"+Je)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(e,"scroll-","scroll-snap-")+e}return e}function pm(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function sQ(e,t,n,r){switch(e.type){case K2:if(e.children.length)break;case H2:case rI:return e.return=e.return||e.value;case eU:return"";case tU:return e.return=e.value+"{"+pm(e.children,r)+"}";case xy:if(!Zi(e.value=e.props.join(",")))return""}return Zi(n=pm(e.children,r))?e.return=e.value+"{"+n+"}":""}function aQ(e){var t=iU(e);return function(n,r,i,s){for(var a="",l=0;l<t;l++)a+=e[l](n,r,i,s)||"";return a}}function uQ(e){return function(t){t.root||(t=t.return)&&e(t)}}function lQ(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case rI:e.return=sU(e.value,e.length,n);return;case tU:return pm([ds(e,{value:ge(e.value,"@","@"+Fe)})],r);case xy:if(e.length)return Q2(n=e.props,function(i){switch(Co(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":fl(ds(e,{props:[ge(i,/:(read-\w+)/,":"+Ih+"$1")]})),fl(ds(e,{props:[i]})),BS(e,{props:nO(n,r)});break;case"::placeholder":fl(ds(e,{props:[ge(i,/:(plac\w+)/,":"+Fe+"input-$1")]})),fl(ds(e,{props:[ge(i,/:(plac\w+)/,":"+Ih+"$1")]})),fl(ds(e,{props:[ge(i,/:(plac\w+)/,Je+"input-$1")]})),fl(ds(e,{props:[i]})),BS(e,{props:nO(n,r)});break}return""})}}var cQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ar={},oc=typeof process<"u"&&Ar!==void 0&&(Ar.REACT_APP_SC_ATTR||Ar.SC_ATTR)||"data-styled",aU="active",uU="data-styled-version",Ry="6.1.8",oI=`/*!sc*/
`,sI=typeof window<"u"&&"HTMLElement"in window,fQ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ar!==void 0&&Ar.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ar.REACT_APP_SC_DISABLE_SPEEDY!==""?Ar.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ar.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ar!==void 0&&Ar.SC_DISABLE_SPEEDY!==void 0&&Ar.SC_DISABLE_SPEEDY!==""&&Ar.SC_DISABLE_SPEEDY!=="false"&&Ar.SC_DISABLE_SPEEDY),Py=Object.freeze([]),sc=Object.freeze({});function hQ(e,t,n){return n===void 0&&(n=sc),e.theme!==n.theme&&e.theme||t||n.theme}var lU=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),dQ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pQ=/(^-|-$)/g;function oO(e){return e.replace(dQ,"-").replace(pQ,"")}var vQ=/(a)(d)/gi,Hv=52,sO=function(e){return String.fromCharCode(e+(e>25?39:97))};function WS(e){var t,n="";for(t=Math.abs(e);t>Hv;t=t/Hv|0)n=sO(t%Hv)+n;return(sO(t%Hv)+n).replace(vQ,"$1-$2")}var eE,cU=5381,jl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},fU=function(e){return jl(cU,e)};function gQ(e){return WS(fU(e)>>>0)}function mQ(e){return e.displayName||e.name||"Component"}function tE(e){return typeof e=="string"&&!0}var hU=typeof Symbol=="function"&&Symbol.for,dU=hU?Symbol.for("react.memo"):60115,yQ=hU?Symbol.for("react.forward_ref"):60112,wQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_Q={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bQ=((eE={})[yQ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eE[dU]=pU,eE);function aO(e){return("type"in(t=e)&&t.type.$$typeof)===dU?pU:"$$typeof"in e?bQ[e.$$typeof]:wQ;var t}var EQ=Object.defineProperty,SQ=Object.getOwnPropertyNames,uO=Object.getOwnPropertySymbols,TQ=Object.getOwnPropertyDescriptor,IQ=Object.getPrototypeOf,lO=Object.prototype;function vU(e,t,n){if(typeof t!="string"){if(lO){var r=IQ(t);r&&r!==lO&&vU(e,r,n)}var i=SQ(t);uO&&(i=i.concat(uO(t)));for(var s=aO(e),a=aO(t),l=0;l<i.length;++l){var c=i[l];if(!(c in _Q||n&&n[c]||a&&c in a||s&&c in s)){var h=TQ(t,c);try{EQ(e,c,h)}catch{}}}}return e}function ac(e){return typeof e=="function"}function aI(e){return typeof e=="object"&&"styledComponentId"in e}function Fa(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function cO(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function od(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function HS(e,t,n){if(n===void 0&&(n=!1),!n&&!od(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=HS(e[r],t[r]);else if(od(t))for(var r in t)e[r]=HS(e[r],t[r]);return e}function uI(e,t){Object.defineProperty(e,"toString",{value:t})}function Hd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xQ=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw Hd(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),c=(a=0,n.length);a<c;a++)this.tag.insertRule(l,n[a])&&(this.groupSizes[t]++,l++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(oI);return n},e}(),kg=new Map,vm=new Map,Ag=1,Kv=function(e){if(kg.has(e))return kg.get(e);for(;vm.has(Ag);)Ag++;var t=Ag++;return kg.set(e,t),vm.set(t,e),t},CQ=function(e,t){Ag=t+1,kg.set(e,t),vm.set(t,e)},kQ="style[".concat(oc,"][").concat(uU,'="').concat(Ry,'"]'),AQ=new RegExp("^".concat(oc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),RQ=function(e,t,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&e.registerName(t,r)},PQ=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(oI),i=[],s=0,a=r.length;s<a;s++){var l=r[s].trim();if(l){var c=l.match(AQ);if(c){var h=0|parseInt(c[1],10),d=c[2];h!==0&&(CQ(d,h),RQ(e,d,c[3]),e.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}};function NQ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var gU=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(l){var c=Array.from(l.querySelectorAll("style[".concat(oc,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(oc,aU),r.setAttribute(uU,Ry);var a=NQ();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},OQ=function(){function e(t){this.element=gU(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw Hd(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),DQ=function(){function e(t){this.element=gU(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),LQ=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),fO=sI,MQ={isServer:!sI,useCSSOMInjection:!fQ},mU=function(){function e(t,n,r){t===void 0&&(t=sc),n===void 0&&(n={});var i=this;this.options=gr(gr({},MQ),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&sI&&fO&&(fO=!1,function(s){for(var a=document.querySelectorAll(kQ),l=0,c=a.length;l<c;l++){var h=a[l];h&&h.getAttribute(oc)!==aU&&(PQ(s,h),h.parentNode&&h.parentNode.removeChild(h))}}(this)),uI(this,function(){return function(s){for(var a=s.getTag(),l=a.length,c="",h=function(v){var g=function(S){return vm.get(S)}(v);if(g===void 0)return"continue";var y=s.names.get(g),w=a.getGroup(v);if(y===void 0||w.length===0)return"continue";var E="".concat(oc,".g").concat(v,'[id="').concat(g,'"]'),x="";y!==void 0&&y.forEach(function(S){S.length>0&&(x+="".concat(S,","))}),c+="".concat(w).concat(E,'{content:"').concat(x,'"}').concat(oI)},d=0;d<l;d++)h(d);return c}(i)})}return e.registerId=function(t){return Kv(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(gr(gr({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new LQ(i):r?new OQ(i):new DQ(i)}(this.options),new xQ(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Kv(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Kv(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Kv(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),jQ=/&/g,FQ=/^\s*\/\/.*$/gm;function yU(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=yU(n.children,t)),n})}function UQ(e){var t,n,r,i=sc,s=i.options,a=s===void 0?sc:s,l=i.plugins,c=l===void 0?Py:l,h=function(g,y,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(t):g},d=c.slice();d.push(function(g){g.type===xy&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(jQ,n).replace(r,h))}),a.prefix&&d.push(lQ),d.push(sQ);var v=function(g,y,w,E){y===void 0&&(y=""),w===void 0&&(w=""),E===void 0&&(E="&"),t=E,n=y,r=new RegExp("\\".concat(n,"\\b"),"g");var x=g.replace(FQ,""),S=iQ(w||y?"".concat(w," ").concat(y," { ").concat(x," }"):x);a.namespace&&(S=yU(S,a.namespace));var T=[];return pm(S,aQ(d.concat(uQ(function(C){return T.push(C)})))),T};return v.hash=c.length?c.reduce(function(g,y){return y.name||Hd(15),jl(g,y.name)},cU).toString():"",v}var $Q=new mU,KS=UQ(),wU=$s.createContext({shouldForwardProp:void 0,styleSheet:$Q,stylis:KS});wU.Consumer;$s.createContext(void 0);function hO(){return $.useContext(wU)}var VQ=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=KS);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,uI(this,function(){throw Hd(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=KS),this.name+t.hash},e}(),BQ=function(e){return e>="A"&&e<="Z"};function dO(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;BQ(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var _U=function(e){return e==null||e===!1||e===""},bU=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!_U(s)&&(Array.isArray(s)&&s.isCss||ac(s)?r.push("".concat(dO(i),":"),s,";"):od(s)?r.push.apply(r,dm(dm(["".concat(i," {")],bU(s),!1),["}"],!1)):r.push("".concat(dO(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in cQ||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ya(e,t,n,r){if(_U(e))return[];if(aI(e))return[".".concat(e.styledComponentId)];if(ac(e)){if(!ac(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Ya(i,t,n,r)}var s;return e instanceof VQ?n?(e.inject(n,r),[e.getName(r)]):[e]:od(e)?bU(e):Array.isArray(e)?Array.prototype.concat.apply(Py,e.map(function(a){return Ya(a,t,n,r)})):[e.toString()]}function zQ(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ac(n)&&!aI(n))return!1}return!0}var qQ=fU(Ry),WQ=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&zQ(t),this.componentId=n,this.baseHash=jl(qQ,n),this.baseStyle=r,mU.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Fa(i,this.staticRulesId);else{var s=cO(Ya(this.rules,t,n,r)),a=WS(jl(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var l=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,l)}i=Fa(i,a),this.staticRulesId=a}else{for(var c=jl(this.baseHash,r.hash),h="",d=0;d<this.rules.length;d++){var v=this.rules[d];if(typeof v=="string")h+=v;else if(v){var g=cO(Ya(v,t,n,r));c=jl(c,g+d),h+=g}}if(h){var y=WS(c>>>0);n.hasNameForId(this.componentId,y)||n.insertRules(this.componentId,y,r(h,".".concat(y),void 0,this.componentId)),i=Fa(i,y)}}return i},e}(),EU=$s.createContext(void 0);EU.Consumer;var nE={};function HQ(e,t,n){var r=aI(e),i=e,s=!tE(e),a=t.attrs,l=a===void 0?Py:a,c=t.componentId,h=c===void 0?function(k,D){var O=typeof k!="string"?"sc":oO(k);nE[O]=(nE[O]||0)+1;var j="".concat(O,"-").concat(gQ(Ry+O+nE[O]));return D?"".concat(D,"-").concat(j):j}(t.displayName,t.parentComponentId):c,d=t.displayName,v=d===void 0?function(k){return tE(k)?"styled.".concat(k):"Styled(".concat(mQ(k),")")}(e):d,g=t.displayName&&t.componentId?"".concat(oO(t.displayName),"-").concat(t.componentId):t.componentId||h,y=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,w=t.shouldForwardProp;if(r&&i.shouldForwardProp){var E=i.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;w=function(k,D){return E(k,D)&&x(k,D)}}else w=E}var S=new WQ(n,g,r?i.componentStyle:void 0);function T(k,D){return function(O,j,L){var Y=O.attrs,R=O.componentStyle,Ce=O.defaultProps,Ke=O.foldedComponentIds,Wt=O.styledComponentId,Hr=O.target,le=$s.useContext(EU),Tt=hO(),Dt=O.shouldForwardProp||Tt.shouldForwardProp,z=hQ(j,le,Ce)||sc,ne=function(ir,gt,Un){for(var Me,or=gr(gr({},gt),{className:void 0,theme:Un}),mo=0;mo<ir.length;mo+=1){var Ui=ac(Me=ir[mo])?Me(or):Me;for(var st in Ui)or[st]=st==="className"?Fa(or[st],Ui[st]):st==="style"?gr(gr({},or[st]),Ui[st]):Ui[st]}return gt.className&&(or.className=Fa(or.className,gt.className)),or}(Y,j,z),se=ne.as||Hr,ke={};for(var Ae in ne)ne[Ae]===void 0||Ae[0]==="$"||Ae==="as"||Ae==="theme"&&ne.theme===z||(Ae==="forwardedAs"?ke.as=ne.forwardedAs:Dt&&!Dt(Ae,se)||(ke[Ae]=ne[Ae]));var Sn=function(ir,gt){var Un=hO(),Me=ir.generateAndInjectStyles(gt,Un.styleSheet,Un.stylis);return Me}(R,ne),on=Fa(Ke,Wt);return Sn&&(on+=" "+Sn),ne.className&&(on+=" "+ne.className),ke[tE(se)&&!lU.has(se)?"class":"className"]=on,ke.ref=L,$.createElement(se,ke)}(C,k,D)}T.displayName=v;var C=$s.forwardRef(T);return C.attrs=y,C.componentStyle=S,C.displayName=v,C.shouldForwardProp=w,C.foldedComponentIds=r?Fa(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=g,C.target=r?i.target:e,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(D){for(var O=[],j=1;j<arguments.length;j++)O[j-1]=arguments[j];for(var L=0,Y=O;L<Y.length;L++)HS(D,Y[L],!0);return D}({},i.defaultProps,k):k}}),uI(C,function(){return".".concat(C.styledComponentId)}),s&&vU(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function pO(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var vO=function(e){return Object.assign(e,{isCss:!0})};function KQ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ac(e)||od(e))return vO(Ya(pO(Py,dm([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Ya(r):vO(Ya(pO(r,t)))}function GS(e,t,n){if(n===void 0&&(n=sc),!t)throw Hd(1,t);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return e(t,n,KQ.apply(void 0,dm([i],s,!1)))};return r.attrs=function(i){return GS(e,t,gr(gr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return GS(e,t,gr(gr({},n),i))},r}var SU=function(e){return GS(HQ,e)},M=SU;lU.forEach(function(e){M[e]=SU(e)});var QS=function(e,t){return QS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},QS(e,t)};function Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");QS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ae=function(){return ae=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ae.apply(this,arguments)};function N(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(v){a(v)}}function c(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function P(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function nn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function me(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TU={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(e,t){if(!e)throw $c(t)},$c=function(e){return new Error("Firebase Database ("+TU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IU=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},GQ=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},uc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,d=s>>2,v=(s&3)<<4|l>>4,g=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(IU(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):GQ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var g=s<<2|l>>4;if(r.push(g),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},QQ=function(e){var t=IU(e);return uc.encodeByteArray(t,!0)},gO=function(e){try{return uc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(e){return sd(void 0,e)}function sd(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!YQ(r)||(e[r]=sd(e[r],t[r]));return e}function YQ(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ae({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[uc.encodeString(JSON.stringify(n),!1),uc.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lu())}function kU(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XQ(){return typeof self=="object"&&self.self===self}function cI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JQ(){return lu().indexOf("Electron/")>=0}function ZQ(){var e=lu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function e9(){return lu().indexOf("MSAppHost/")>=0}function RU(){return TU.NODE_ADMIN===!0}function t9(){return!kU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kd(){return"indexedDB"in self&&indexedDB!=null}function fI(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function PU(){return!(!navigator||!navigator.cookieEnabled)}function n9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9="FirebaseError",Vc=function(e){Q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=r9,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Go.prototype.create),s}return t}(Error),Go=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?i9(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Vc(s,c,i);return h},e}();function i9(e,t){return e.replace(o9,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var o9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return JSON.parse(e)}function $t(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hI=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=ad(gO(s[0])||""),n=ad(gO(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},s9=function(e){var t=hI(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},a9=function(e){var t=hI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u9=function(e){var t=hI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cu(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function YS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gm(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c9=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),g=1518500249):(v=l^c^h,g=1859775393):i<60?(v=l&c|h&(l|c),g=2400959708):(v=l^c^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function f9(e,t){var n=new h9(e,t);return n.subscribe.bind(n)}var h9=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d9(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=rE),s.error===void 0&&(s.error=rE),s.complete===void 0&&(s.complete=rE);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function d9(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function rE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function br(e,t){return e+" failed: "+t+" argument "}function Yt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(br(e,t)+"must be a valid function.")}function mO(e,t,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(br(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p9=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,H(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ny=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v9=1e3,g9=2,m9=4*60*60*1e3,y9=.5;function XS(e,t,n){t===void 0&&(t=v9),n===void 0&&(n=g9);var r=t*Math.pow(n,e),i=Math.round(y9*r*(Math.random()-.5)*2);return Math.min(m9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e){return e&&e._delegate?e._delegate:e}var Mn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Zt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(_9(t))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}try{for(var i=nn(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=dn(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:h});c.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_l),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(me(me([],dn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),dn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_l),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=nn(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var d=dn(h.value,2),v=d[0],g=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&g.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=nn(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:w9(n),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_l),this.component?this.component.multipleInstances?t:_l:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function w9(e){return e===_l?void 0:e}function _9(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OU=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new NU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ii(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ka,dI=[],be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));var DU={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},b9=be.INFO,E9=(ka={},ka[be.DEBUG]="log",ka[be.VERBOSE]="log",ka[be.INFO]="info",ka[be.WARN]="warn",ka[be.ERROR]="error",ka),S9=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=E9[t];if(s)console[s].apply(console,Ii(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},xu=function(){function e(t){this.name=t,this._logLevel=b9,this._logHandler=S9,this._userLogHandler=null,dI.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in be))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?DU[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.DEBUG],t)),this._logHandler.apply(this,Ii([this,be.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.VERBOSE],t)),this._logHandler.apply(this,Ii([this,be.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.INFO],t)),this._logHandler.apply(this,Ii([this,be.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.WARN],t)),this._logHandler.apply(this,Ii([this,be.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.ERROR],t)),this._logHandler.apply(this,Ii([this,be.ERROR],t))},e}();function T9(e){dI.forEach(function(t){t.setLogLevel(e)})}function I9(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=DU[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:be[h].toLowerCase(),message:g,args:d,type:c.name})}},r=0,i=dI;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us,x9=(us={},us["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",us["bad-app-name"]="Illegal App name: '{$appName}",us["duplicate-app"]="Firebase App named '{$appName}' already exists",us["app-deleted"]="Firebase App named '{$appName}' already deleted",us["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",us["invalid-log-argument"]="First argument to `onLog` must be null or a function.",us),bl=new Go("app","Firebase",x9),LU="@firebase/app",C9="0.6.29",k9="@firebase/analytics",A9="@firebase/app-check",R9="@firebase/auth",P9="@firebase/database",N9="@firebase/functions",O9="@firebase/installations",D9="@firebase/messaging",L9="@firebase/performance",M9="@firebase/remote-config",j9="@firebase/storage",F9="@firebase/firestore",U9="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,mm="[DEFAULT]",$9=(xn={},xn[LU]="fire-core",xn[k9]="fire-analytics",xn[A9]="fire-app-check",xn[R9]="fire-auth",xn[P9]="fire-rtdb",xn[N9]="fire-fn",xn[O9]="fire-iid",xn[D9]="fire-fcm",xn[L9]="fire-perf",xn[M9]="fire-rc",xn[j9]="fire-gcs",xn[F9]="fire-fst",xn["fire-js"]="fire-js",xn[U9]="fire-js-all",xn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=new xu("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rg=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=xU(t),this.container=new OU(n.name),this._addComponent(new Mn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=mm),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=mm),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){lc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw bl.create("app-deleted",{appName:this.name_})},e}();Rg.prototype.name&&Rg.prototype.options||Rg.prototype.delete||console.log("dc");var V9="8.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:T9,onLog:d,apps:null,SDK_VERSION:V9,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(g){delete t[g]}function s(g){if(g=g||mm,!$r(t,g))throw bl.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var E=y;E.name===void 0&&(E.name=mm);var x=E.name;if(typeof x!="string"||!x)throw bl.create("bad-app-name",{appName:String(x)});if($r(t,x))throw bl.create("duplicate-app",{appName:x});var S=new e(g,E,r);return t[x]=S,S}function l(){return Object.keys(t).map(function(g){return t[g]})}function c(g){var y=g.name;if(n.has(y))return lc.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var w=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw bl.create("invalid-app-argument",{appName:y});return T[y]()};g.serviceProps!==void 0&&sd(w,g.serviceProps),r[y]=w,e.prototype[y]=function(){for(var T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var k=this._getService.bind(this,y);return k.apply(this,g.multipleInstances?T:[])}}for(var E=0,x=Object.keys(t);E<x.length;E++){var S=x[E];t[S]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,w){var E,x=(E=$9[g])!==null&&E!==void 0?E:g;w&&(x+="-"+w);var S=x.match(/\s|\//),T=y.match(/\s|\//);if(S||T){var C=['Unable to register library "'+x+'" with version "'+y+'":'];S&&C.push('library name "'+x+'" contains illegal characters (whitespace or "/")'),S&&T&&C.push("and"),T&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),lc.warn(C.join(" "));return}c(new Mn(x+"-version",function(){return{library:x,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw bl.create("invalid-log-argument");I9(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(){var e=B9(Rg);e.INTERNAL=ae(ae({},e.INTERNAL),{createFirebaseNamespace:MU,extendNamespace:t,createSubscribe:f9,ErrorFactory:Go,deepExtend:sd});function t(n){sd(e,n)}return e}var pI=MU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z9=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(q9(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function q9(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(e,t){e.INTERNAL.registerComponent(new Mn("platform-logger",function(n){return new z9(n)},"PRIVATE")),e.registerVersion(LU,C9,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(XQ()&&self.firebase!==void 0){lc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var yO=self.firebase.SDK_VERSION;yO&&yO.indexOf("LITE")>=0&&lc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var H9=pI.initializeApp;pI.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return kU()&&lc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),H9.apply(void 0,e)};var X=pI;W9(X);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(I){this.b=0,this.c=void 0,this.a=[];var A=this.f();try{I(A.resolve,A.reject)}catch(U){A.reject(U)}}function f(){this.a=null}function p(I){return I instanceof u?I:new u(function(A){A(I)})}if(o)return o;f.prototype.b=function(I){if(this.a==null){this.a=[];var A=this;this.c(function(){A.g()})}this.a.push(I)};var m=r.setTimeout;f.prototype.c=function(I){m(I,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var I=this.a;this.a=[];for(var A=0;A<I.length;++A){var U=I[A];I[A]=null;try{U()}catch(V){this.f(V)}}}this.a=null},f.prototype.f=function(I){this.c(function(){throw I})},u.prototype.f=function(){function I(V){return function(fe){U||(U=!0,V.call(A,fe))}}var A=this,U=!1;return{resolve:I(this.m),reject:I(this.g)}},u.prototype.m=function(I){if(I===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof u)this.s(I);else{e:switch(typeof I){case"object":var A=I!=null;break e;case"function":A=!0;break e;default:A=!1}A?this.v(I):this.h(I)}},u.prototype.v=function(I){var A=void 0;try{A=I.then}catch(U){this.g(U);return}typeof A=="function"?this.u(A,I):this.h(I)},u.prototype.g=function(I){this.i(2,I)},u.prototype.h=function(I){this.i(1,I)},u.prototype.i=function(I,A){if(this.b!=0)throw Error("Cannot settle("+I+", "+A+"): Promise already settled in state"+this.b);this.b=I,this.c=A,this.l()},u.prototype.l=function(){if(this.a!=null){for(var I=0;I<this.a.length;++I)_.b(this.a[I]);this.a=null}};var _=new f;return u.prototype.s=function(I){var A=this.f();I.Ra(A.resolve,A.reject)},u.prototype.u=function(I,A){var U=this.f();try{I.call(A,U.resolve,U.reject)}catch(V){U.reject(V)}},u.prototype.then=function(I,A){function U(Ne,Ht){return typeof Ne=="function"?function(So){try{V(Ne(So))}catch(Sb){fe(Sb)}}:Ht}var V,fe,$e=new u(function(Ne,Ht){V=Ne,fe=Ht});return this.Ra(U(I,V),U(A,fe)),$e},u.prototype.catch=function(I){return this.then(void 0,I)},u.prototype.Ra=function(I,A){function U(){switch(V.b){case 1:I(V.c);break;case 2:A(V.c);break;default:throw Error("Unexpected state: "+V.b)}}var V=this;this.a==null?_.b(U):this.a.push(U)},u.resolve=p,u.reject=function(I){return new u(function(A,U){U(I)})},u.race=function(I){return new u(function(A,U){for(var V=a(I),fe=V.next();!fe.done;fe=V.next())p(fe.value).Ra(A,U)})},u.all=function(I){var A=a(I),U=A.next();return U.done?p([]):new u(function(V,fe){function $e(So){return function(Sb){Ne[So]=Sb,Ht--,Ht==0&&V(Ne)}}var Ne=[],Ht=0;do Ne.push(void 0),Ht++,p(U.value).Ra($e(Ne.length-1),fe),U=A.next();while(!U.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function x(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function S(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++C)}var T="closure_uid_"+(1e9*Math.random()>>>0),C=0;function k(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=k:O=D,O.apply(null,arguments)}function j(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function L(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Y(o){return o}function R(o,u,f){this.code=Ke+o,this.message=u||Wt[o]||"",this.a=f||null}L(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Ce(o){var u=o&&o.code;return u?new R(u.substring(Ke.length),o.message,o.serverResponse):null}var Ke="auth/",Wt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Hr={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function le(o){for(var u in Hr)if(Hr[u].id===o)return o=Hr[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Tt;Tt=le("__EID__")?"__EID__":void 0;function Dt(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function z(o){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}L(z,Error),z.prototype.name="CustomError";function ne(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");z.call(this,f+o[p])}L(ne,z),ne.prototype.name="AssertionError";function se(o,u){throw new ne("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function ke(o,u){this.c=o,this.f=u,this.b=0,this.a=null}ke.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Ae(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Sn(){this.b=this.a=null}var on=new ke(function(){return new gt},function(o){o.reset()});Sn.prototype.add=function(o,u){var f=on.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function ir(){var o=mk,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function gt(){this.next=this.b=this.a=null}gt.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},gt.prototype.reset=function(){this.next=this.b=this.a=null};var Un=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Me=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function or(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var mo=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,I=0;I<f;I++)if(I in _){var A=_[I];u.call(void 0,A,I,o)&&(p[m++]=A)}return p},Ui=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},st=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function sa(o){e:{for(var u=uq,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function yo(o,u){return 0<=Un(o,u)}function Cp(o,u){u=Un(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function pi(o,u){var f=0;or(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function G0(o){return Array.prototype.concat.apply([],arguments)}function aa(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var HC=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},R5=/&/g,P5=/</g,N5=/>/g,O5=/"/g,D5=/'/g,L5=/\x00/g,M5=/[\x00&<>"']/;function Ge(o,u){return o.indexOf(u)!=-1}function Q0(o,u){return o<u?-1:o>u?1:0}var $u;e:{var KC=c.navigator;if(KC){var GC=KC.userAgent;if(GC){$u=GC;break e}}$u=""}function Lt(o){return Ge($u,o)}function QC(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function ua(o){for(var u in o)return!1;return!0}function Jo(o){var u={},f;for(f in o)u[f]=o[f];return u}var YC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sr(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<YC.length;_++)f=YC[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function XC(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||c,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(x(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;se("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function $i(o,u){this.a=o===kp&&u||"",this.b=JC}$i.prototype.ta=!0,$i.prototype.sa=function(){return this.a},$i.prototype.toString=function(){return"Const{"+this.a+"}"};function Y0(o){return o instanceof $i&&o.constructor===$i&&o.b===JC?o.a:(se("expected object of type Const, got '"+o+"'"),"type_error:Const")}var JC={},kp={},Ap;function ZC(){if(Ap===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Y,createScript:Y,createScriptURL:Y})}catch(f){c.console&&c.console.error(f.message)}Ap=o}else Ap=o}return Ap}function Vu(o,u){this.a=u===tk?o:""}Vu.prototype.ta=!0,Vu.prototype.sa=function(){return this.a.toString()},Vu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ek(o){return o instanceof Vu&&o.constructor===Vu?o.a:(se("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function X0(o,u){var f=Y0(o);if(!F5.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(j5,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof $i?Y0(p):encodeURIComponent(String(p))}),U5(o)}var j5=/%{(\w+)}/g,F5=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,tk={};function U5(o){var u=ZC();return o=u?u.createScriptURL(o):o,new Vu(o,tk)}function ar(o,u){this.a=u===sf?o:""}ar.prototype.ta=!0,ar.prototype.sa=function(){return this.a.toString()},ar.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Rp(o){return o instanceof ar&&o.constructor===ar?o.a:(se("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var $5=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,V5=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,nk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function rk(o){if(o instanceof ar)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),nk.test(o))o=new ar(o,sf);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(V5);o=u&&$5.test(u[1])?new ar(o,sf):null}return o}function ik(o){return o instanceof ar?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),nk.test(o)||(o="about:invalid#zClosurez"),new ar(o,sf))}var sf={},ok=new ar("about:invalid#zClosurez",sf);function Bu(o,u,f){this.a=f===sk?o:""}Bu.prototype.ta=!0,Bu.prototype.sa=function(){return this.a.toString()},Bu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function B5(o){return o instanceof Bu&&o.constructor===Bu?o.a:(se("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var sk={};function z5(o,u){XC(o,"HTMLScriptElement"),o.src=ek(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(d===null&&(d=v(c.document)),u=d),u&&o.setAttribute("nonce",u)}function ak(o,u,f,p){return o=o instanceof ar?o:ik(o),u=u||c,f=f instanceof $i?Y0(f):f||"",u.open(Rp(o),f,p,void 0)}function uk(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function J0(o){return M5.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(R5,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(P5,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(N5,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(O5,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(D5,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(L5,"&#0;"))),o}function Z0(o){return Z0[" "](o),o}Z0[" "]=g;function q5(o,u){var f=G5;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var W5=Lt("Opera"),vi=Lt("Trident")||Lt("MSIE"),lk=Lt("Edge"),H5=lk||vi,ck=Lt("Gecko")&&!(Ge($u.toLowerCase(),"webkit")&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),K5=Ge($u.toLowerCase(),"webkit")&&!Lt("Edge");function fk(){var o=c.document;return o?o.documentMode:void 0}var Pp;e:{var ew="",tw=function(){var o=$u;if(ck)return/rv:([^\);]+)(\)|;)/.exec(o);if(lk)return/Edge\/([\d\.]+)/.exec(o);if(vi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(K5)return/WebKit\/(\S+)/.exec(o);if(W5)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(tw&&(ew=tw?tw[1]:""),vi){var nw=fk();if(nw!=null&&nw>parseFloat(ew)){Pp=String(nw);break e}}Pp=ew}var G5={};function hk(o){return q5(o,function(){for(var u=0,f=HC(String(Pp)).split("."),p=HC(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var I=f[_]||"",A=p[_]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],I[0].length==0&&A[0].length==0)break;u=Q0(I[1].length==0?0:parseInt(I[1],10),A[1].length==0?0:parseInt(A[1],10))||Q0(I[2].length==0,A[2].length==0)||Q0(I[2],A[2]),I=I[3],A=A[3]}while(u==0)}return 0<=u})}var rw;if(c.document&&vi){var dk=fk();rw=dk||parseInt(Pp,10)||void 0}else rw=void 0;var Zo=rw;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Q5=!vi||9<=Number(Zo);function af(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function pk(o,u){QC(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:vk.hasOwnProperty(p)?o.setAttribute(vk[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var vk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Y5(o,u,f){var p=arguments,m=document,_=String(p[0]),I=p[1];if(!Q5&&I&&(I.name||I.type)){if(_=["<",_],I.name&&_.push(' name="',J0(I.name),'"'),I.type){_.push(' type="',J0(I.type),'"');var A={};sr(A,I),delete A.type,I=A}_.push(">"),_=_.join("")}return _=Np(m,_),I&&(typeof I=="string"?_.className=I:Array.isArray(I)?_.className=I.join(" "):pk(_,I)),2<p.length&&X5(m,_,p),_}function X5(o,u,f){function p(A){A&&u.appendChild(typeof A=="string"?o.createTextNode(A):A)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||x(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(x(_)){var I=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){I=typeof _.item=="function";break e}}I=!1}Me(I?aa(_):_,p)}}}function Np(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function gk(o){c.setTimeout(function(){throw o},0)}var iw;function J5(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Lt("Presto")&&(o=function(){var m=Np(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var I="callImmediate"+Math.random(),A=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=O(function(U){(A=="*"||U.origin==A)&&U.data==I&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(I,A)}}}),typeof o<"u"&&!Lt("Trident")&&!Lt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){p.next={Hb:m},p=p.next,u.port2.postMessage(0)}}return function(m){c.setTimeout(m,0)}}function Op(o,u){Dp||Z5(),ow||(Dp(),ow=!0),mk.add(o,u)}var Dp;function Z5(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Dp=function(){o.then(yk)}}else Dp=function(){var u=yk;!E(c.setImmediate)||c.Window&&c.Window.prototype&&!Lt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(iw||(iw=J5()),iw(u)):c.setImmediate(u)}}var ow=!1,mk=new Sn;function yk(){for(var o;o=ir();){try{o.a.call(o.b)}catch(u){gk(u)}Ae(on,o)}ow=!1}function Ee(o,u){if(this.a=la,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){ca(f,uf,p)},function(p){if(!(p instanceof zu))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}ca(f,wo,p)})}catch(p){ca(this,wo,p)}}var la=0,uf=2,wo=3;function wk(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wk.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _k=new ke(function(){return new wk},function(o){o.reset()});function sw(o,u,f){var p=_k.get();return p.g=o,p.b=u,p.f=f,p}function oe(o){if(o instanceof Ee)return o;var u=new Ee(g);return ca(u,uf,o),u}function tt(o){return new Ee(function(u,f){f(o)})}function bk(o,u,f){Ik(o,u,f,null)||Op(j(u,o))}function e6(o){return new Ee(function(u,f){var p=o.length,m=[];if(p)for(var _=function(V,fe){p--,m[V]=fe,p==0&&u(m)},I=function(V){f(V)},A=0,U;A<o.length;A++)U=o[A],bk(U,j(_,A),I);else u(m)})}function Ek(o){return new Ee(function(u){var f=o.length,p=[];if(f)for(var m=function(A,U,V){f--,p[A]=U?{Qb:!0,value:V}:{Qb:!1,reason:V},f==0&&u(p)},_=0,I;_<o.length;_++)I=o[_],bk(I,j(m,_,!0),j(m,_,!1));else u(p)})}Ee.prototype.then=function(o,u,f){return Tk(this,E(o)?o:null,E(u)?u:null,f)},Ee.prototype.$goog_Thenable=!0,e=Ee.prototype,e.oa=function(o,u){return o=sw(o,o,u),o.c=!0,aw(this,o),this},e.o=function(o,u){return Tk(this,null,o,u)},e.cancel=function(o){if(this.a==la){var u=new zu(o);Op(function(){Sk(this,u)},this)}};function Sk(o,u){if(o.a==la)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,I=f.b;I&&(I.c||(p++,I.a==o&&(m=I),!(m&&1<p)));I=I.next)m||(_=I);m&&(f.a==la&&p==1?Sk(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):Ck(f),kk(f,m,wo,u)))}o.c=null}else ca(o,wo,u)}function aw(o,u){o.b||o.a!=uf&&o.a!=wo||xk(o),o.f?o.f.next=u:o.b=u,o.f=u}function Tk(o,u,f,p){var m=sw(null,null,null);return m.a=new Ee(function(_,I){m.g=u?function(A){try{var U=u.call(p,A);_(U)}catch(V){I(V)}}:_,m.b=f?function(A){try{var U=f.call(p,A);U===void 0&&A instanceof zu?I(A):_(U)}catch(V){I(V)}}:I}),m.a.c=o,aw(o,m),m.a}e.$c=function(o){this.a=la,ca(this,uf,o)},e.ad=function(o){this.a=la,ca(this,wo,o)};function ca(o,u,f){o.a==la&&(o===f&&(u=wo,f=new TypeError("Promise cannot resolve to itself")),o.a=1,Ik(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,xk(o),u!=wo||f instanceof zu||n6(o,f)))}function Ik(o,u,f,p){if(o instanceof Ee)return aw(o,sw(u||g,f||null,p)),!0;if(Dt(o))return o.then(u,f,p),!0;if(x(o))try{var m=o.then;if(E(m))return t6(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function t6(o,u,f,p,m){function _(U){A||(A=!0,p.call(m,U))}function I(U){A||(A=!0,f.call(m,U))}var A=!1;try{u.call(o,I,_)}catch(U){_(U)}}function xk(o){o.h||(o.h=!0,Op(o.gc,o))}function Ck(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=Ck(this);)kk(this,o,this.a,this.i);this.h=!1};function kk(o,u,f,p){if(f==wo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,Ak(u,f,p);else try{u.c?u.g.call(u.f):Ak(u,f,p)}catch(m){Rk.call(null,m)}Ae(_k,u)}function Ak(o,u,f){u==uf?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function n6(o,u){o.g=!0,Op(function(){o.g&&Rk.call(null,u)})}var Rk=gk;function zu(o){z.call(this,o)}L(zu,z),zu.prototype.name="cancel";function Lp(){this.ya=this.ya,this.pa=this.pa}var r6=0;Lp.prototype.ya=!1;function Pk(o){!o.ya&&(o.ya=!0,o.Da(),r6!=0)&&S(o)}Lp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var i6=Object.freeze||function(o){return o},Nk=!vi||9<=Number(Zo),o6=vi&&!hk("9"),s6=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",g,u),c.removeEventListener("test",g,u)}catch{}return o}();function ur(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}ur.prototype.preventDefault=function(){this.defaultPrevented=!0};function fa(o,u){if(ur.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(ck){e:{try{Z0(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:a6[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}L(fa,ur);var a6=i6({2:"touch",3:"pen",4:"mouse"});fa.prototype.preventDefault=function(){fa.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,o6)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},fa.prototype.g=function(){return this.a};var lf="closure_listenable_"+(1e6*Math.random()|0),u6=0;function l6(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=m,this.key=++u6,this.wa=this.Qa=!1}function Mp(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function jp(o){this.src=o,this.a={},this.b=0}jp.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var I=lw(o,u,p,m);return-1<I?(u=o[I],f||(u.Qa=!1)):(u=new l6(u,this.src,_,!!p,m),u.Qa=f,o.push(u)),u};function uw(o,u){var f=u.type;f in o.a&&Cp(o.a[f],u)&&(Mp(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function lw(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==p)return m}return-1}var cw="closure_lm_"+(1e6*Math.random()|0),fw={};function Kr(o,u,f,p,m){if(p&&p.once)hw(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Kr(o,u[_],f,p,m);else f=pw(f),o&&o[lf]?Fk(o,u,f,x(p)?!!p.capture:!!p,m):Ok(o,u,f,!1,p,m)}function Ok(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var I=x(m)?!!m.capture:!!m,A=Fp(o);if(A||(o[cw]=A=new jp(o)),f=A.add(u,f,p,I,_),!f.proxy)if(p=c6(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)s6||(m=I),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(Lk(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function c6(){var o=f6,u=Nk?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function hw(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)hw(o,u[_],f,p,m);else f=pw(f),o&&o[lf]?vw(o,u,f,x(p)?!!p.capture:!!p,m):Ok(o,u,f,!0,p,m)}function Ir(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)Ir(o,u[_],f,p,m);else p=x(p)?!!p.capture:!!p,f=pw(f),o&&o[lf]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=lw(_,f,p,m),-1<f&&(Mp(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Fp(o))&&(u=o.a[u.toString()],o=-1,u&&(o=lw(u,f,p,m)),(f=-1<o?u[o]:null)&&Dk(f))}function Dk(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[lf])uw(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(Lk(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Fp(u))?(uw(f,o),f.b==0&&(f.src=null,u[cw]=null)):Mp(o)}}}function Lk(o){return o in fw?fw[o]:fw[o]="on"+o}function Mk(o,u,f,p){var m=!0;if((o=Fp(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=jk(_,p),m=m&&_!==!1)}return m}function jk(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&Dk(o),f.call(p,u)}function f6(o,u){if(o.wa)return!0;if(!Nk){if(!u)e:{u=["window","event"];for(var f=c,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new fa(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=Mk(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=Mk(p[m],o,!1,u),f=f&&_}return f}return jk(o,new fa(u,this))}function Fp(o){return o=o[cw],o instanceof jp?o:null}var dw="__closure_events_fn_"+(1e9*Math.random()>>>0);function pw(o){return E(o)?o:(o[dw]||(o[dw]=function(u){return o.handleEvent(u)}),o[dw])}function $n(){Lp.call(this),this.v=new jp(this),this.bc=this,this.hb=null}L($n,Lp),$n.prototype[lf]=!0,$n.prototype.addEventListener=function(o,u,f,p){Kr(this,o,u,f,p)},$n.prototype.removeEventListener=function(o,u,f,p){Ir(this,o,u,f,p)},$n.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new ur(o,f);else if(o instanceof ur)o.target=o.target||f;else{var m=o;o=new ur(p,f),sr(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var I=o.b=u[_];m=Up(I,p,!0,o)&&m}if(I=o.b=f,m=Up(I,p,!0,o)&&m,m=Up(I,p,!1,o)&&m,u)for(_=0;_<u.length;_++)I=o.b=u[_],m=Up(I,p,!1,o)&&m;return m},$n.prototype.Da=function(){if($n.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Mp(f[p]);delete o.a[u],o.b--}}this.hb=null};function Fk(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function vw(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function Up(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var I=u[_];if(I&&!I.wa&&I.capture==f){var A=I.listener,U=I.Wa||I.src;I.Qa&&uw(o.v,I),m=A.call(U,p)!==!1&&m}}return m&&!p.defaultPrevented}function gw(o,u,f){if(E(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function qu(o){var u=null;return new Ee(function(f,p){u=gw(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function Uk(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function $k(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function h6(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Me(o,u,void 0);else for(var f=$k(o),p=Uk(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function Wu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Wu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Wu.prototype,e.X=function(){mw(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return mw(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function mw(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];ha(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],ha(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}e.get=function(o,u){return ha(this.b,o)?this.b[o]:u},e.set=function(o,u){ha(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function ha(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Vk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function d6(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function es(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof es?(this.i=u!==void 0?u:o.i,cf(this,o.c),this.l=o.l,this.a=o.a,ff(this,o.g),this.f=o.f,yw(this,Wk(o.b)),this.h=o.h):o&&(f=String(o).match(Vk))?(this.i=!!u,cf(this,f[1]||"",!0),this.l=hf(f[2]||""),this.a=hf(f[3]||"",!0),ff(this,f[4]),this.f=hf(f[5]||"",!0),yw(this,f[6]||"",!0),this.h=hf(f[7]||"")):(this.i=!!u,this.b=new da(null,this.i))}es.prototype.toString=function(){var o=[],u=this.c;u&&o.push(df(u,Bk,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(df(u,Bk,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(df(f,f.charAt(0)=="/"?g6:v6,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",df(f,y6)),o.join("")},es.prototype.resolve=function(o){var u=new es(this),f=!!o.c;f?cf(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)ff(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(Ge(m,"./")||Ge(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],I=0;I<m.length;){var A=m[I++];A=="."?p&&I==m.length&&_.push(""):A==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&I==m.length&&_.push("")):(_.push(A),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?yw(u,Wk(o.b)):f=!!o.h,f&&(u.h=o.h),u};function cf(o,u,f){o.c=f?hf(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function ff(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function yw(o,u,f){u instanceof da?(o.b=u,w6(o.b,o.i)):(f||(u=df(u,m6)),o.b=new da(u,o.i))}function mt(o,u,f){o.b.set(u,f)}function Gr(o,u){return o.b.get(u)}function lr(o){return o instanceof es?new es(o):new es(o,void 0)}function $p(o,u,f,p){var m=new es(null,void 0);return o&&cf(m,o),u&&(m.a=u),f&&ff(m,f),p&&(m.f=p),m}function hf(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function df(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,p6),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function p6(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Bk=/[#\/\?@]/g,v6=/[#\?:]/g,g6=/[#\?]/g,m6=/[#\?@]/g,y6=/#/g;function da(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function ts(o){o.a||(o.a=new Wu,o.b=0,o.c&&d6(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function zk(o){var u=$k(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new da(null,void 0);o=Uk(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?qk(f,m,_):f.add(m,_)}return f}e=da.prototype,e.add=function(o,u){ts(this),this.c=null,o=Hu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Vi(o,u){ts(o),u=Hu(o,u),ha(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,ha(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&mw(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function ww(o,u){return ts(o),u=Hu(o,u),ha(o.a.b,u)}e.forEach=function(o,u){ts(this),this.a.forEach(function(f,p){Me(f,function(m){o.call(u,m,p,this)},this)},this)},e.Y=function(){ts(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},e.X=function(o){ts(this);var u=[];if(typeof o=="string")ww(this,o)&&(u=G0(u,this.a.get(Hu(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=G0(u,o[f])}return u},e.set=function(o,u){return ts(this),this.c=null,o=Hu(this,o),ww(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function qk(o,u,f){Vi(o,u),0<f.length&&(o.c=null,o.a.set(Hu(o,u),aa(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var I=m;p[_]!==""&&(I+="="+encodeURIComponent(String(p[_]))),o.push(I)}}return this.c=o.join("&")};function Wk(o){var u=new da;return u.c=o.c,o.a&&(u.a=new Wu(o.a),u.b=o.b),u}function Hu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function w6(o,u){u&&!o.f&&(ts(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(Vi(this,p),qk(this,m,f))},o)),o.f=u}function Hk(o){var u=[];return _w(new _6,o,u),u.join("")}function _6(){}function _w(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),_w(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),Gk(p,f),f.push(":"),_w(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":Gk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Kk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},b6=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gk(o,u){u.push('"',o.replace(b6,function(f){var p=Kk[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Kk[f]=p),p}),'"')}function bw(){var o=sn();return vi&&!!Zo&&Zo==11||/Edge\/\d+/.test(o)}function pf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Qk(o,u){u=u||c.window;var f="about:blank";o&&(f=Rp(rk(o)||ok)),u.location.href=f}function Yk(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<Yk(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function E6(){var o=sn();return o=Ku(o)!=eA?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!vi||!Zo||9<Zo}function Xk(o){return o=(o||sn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function pa(o){o=o||c.window;try{o.close()}catch{}}function Jk(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=sn().toLowerCase(),p&&(u.target=p,Ge(f,"crios/")&&(u.target="_blank")),Ku(sn())==Tw&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof ar?f:rk(typeof f.href<"u"?f.href:String(f))||ok,f=o.target||f.target,m=[];for(I in o)switch(I){case"width":case"height":case"top":case"left":m.push(I+"="+o[I]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(I+"="+(o[I]?1:0))}var I=m.join(",");if((Lt("iPhone")&&!Lt("iPod")&&!Lt("iPad")||Lt("iPad")||Lt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(I=Np(document,"A"),XC(I,"HTMLAnchorElement"),u=u instanceof ar?u:ik(u),I.href=Rp(u),I.setAttribute("target",f),o.noreferrer&&I.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),I.dispatchEvent(o),I={}):o.noreferrer?(I=ak("",p,f,I),o=Rp(u),I&&(H5&&Ge(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),I.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+J0(o)+'">',o=(p=ZC())?p.createHTML(o):o,o=new Bu(o,null,sk),p=I.document)&&(p.write(B5(o)),p.close())):(I=ak(u,p,f,I))&&o.noopener&&(I.opener=null),I)try{I.focus()}catch{}return I}function S6(o){return new Ee(function(u){function f(){qu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var T6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I6=/^[^@]+@[^@]+$/;function Vp(){var o=null;return new Ee(function(u){c.document.readyState=="complete"?u():(o=function(){u()},hw(window,"load",o))}).o(function(u){throw Ir(window,"load",o),u})}function x6(){return Ew(void 0)?Vp().then(function(){return new Ee(function(o,u){var f=c.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):tt(Error("Cordova must run in an Android or iOS file scheme."))}function Ew(o){return o=o||sn(),!(Qu()!=="file:"&&Qu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sw(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function gi(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Bi(){return X.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":X.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function Zk(){var o=Bi();return o==="ReactNative"||o==="Node"}function C6(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Tw="Firefox",eA="Chrome";function Ku(o){var u=o.toLowerCase();if(Ge(u,"opera/")||Ge(u,"opr/")||Ge(u,"opios/"))return"Opera";if(Ge(u,"iemobile"))return"IEMobile";if(Ge(u,"msie")||Ge(u,"trident/"))return"IE";if(Ge(u,"edge/"))return"Edge";if(Ge(u,"firefox/"))return Tw;if(Ge(u,"silk/"))return"Silk";if(Ge(u,"blackberry"))return"Blackberry";if(Ge(u,"webos"))return"Webos";if(!Ge(u,"safari/")||Ge(u,"chrome/")||Ge(u,"crios/")||Ge(u,"android"))if(!Ge(u,"chrome/")&&!Ge(u,"crios/")||Ge(u,"edge/")){if(Ge(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return eA;else return"Safari";return"Other"}var tA={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gu(o,u){u=u||[];var f=[],p={},m;for(m in tA)p[tA[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Bi(),f==="Browser"?(p=sn(),f=Ku(p)):f==="Worker"&&(p=sn(),f=Ku(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function sn(){return c.navigator&&c.navigator.userAgent||""}function nt(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Iw(){try{var o=c.localStorage,u=ga();if(o)return o.setItem(u,"1"),o.removeItem(u),bw()?!!c.indexedDB:!0}catch{return gi()&&!!c.indexedDB}return!1}function va(){return(Bp()||Qu()==="chrome-extension:"||Ew())&&!Zk()&&Iw()&&!gi()}function Bp(){return Qu()==="http:"||Qu()==="https:"}function Qu(){return c.location&&c.location.protocol||null}function vf(o){return o=o||sn(),!(Xk(o)||Ku(o)==Tw)}function gf(o){return typeof o>"u"?null:Hk(o)}function nA(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Yu(o){if(o!==null)return JSON.parse(o)}function ga(o){return o||Math.floor(1e9*Math.random()).toString()}function rA(o){return o=o||sn(),!(Ku(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function iA(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function ns(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=sn(),u=Bi(),this.b=Xk(o)||u==="ReactNative"}ns.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(Bp()||Qu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function xw(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function k6(){var o=c.document,u=null;return xw()||!o?oe():new Ee(function(f){u=function(){xw()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function mf(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function oA(){return!(!nt("fireauth.oauthhelper",c)&&!nt("fireauth.iframe",c))}function A6(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function R6(){var o=c.navigator;return o&&o.serviceWorker?oe().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):oe(null)}var sA={};function Cw(o){sA[o]||(sA[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var kw;try{var Aw={};Object.defineProperty(Aw,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Aw,"abcd",{configurable:!0,enumerable:!0,value:2}),kw=Aw.abcd==2}catch{kw=!1}function te(o,u,f){kw?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Vn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&te(o,f,u[f])}function zi(o){var u={};return Vn(u,o),u}function P6(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function N6(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Rw(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)te(u,f,Rw(o[f]))}return u}function Pw(o){var u=o&&(o[Lw]?"phone":null);if(u&&o&&o[Dw]){te(this,"uid",o[Dw]),te(this,"displayName",o[aA]||null);var f=null;o[Ow]&&(f=new Date(o[Ow]).toUTCString()),te(this,"enrollmentTime",f),te(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Pw.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Nw(o){try{var u=new yf(o)}catch{u=null}return u}var aA="displayName",Ow="enrolledAt",Dw="mfaEnrollmentId",Lw="phoneInfo";function yf(o){Pw.call(this,o),te(this,"phoneNumber",o[Lw])}L(yf,Pw),yf.prototype.w=function(){var o=yf.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function O6(o){var u={},f=o[D6],p=o[M6],m=o[j6];if(o=Nw(o[L6]),!m||m!=zp&&m!=wf&&!f||m==wf&&!p||m==Mw&&!o)throw Error("Invalid checkActionCode response!");m==wf?(u[lA]=f||null,u[cA]=f||null,u[uA]=p):(u[lA]=p||null,u[cA]=p||null,u[uA]=f||null),u[F6]=o||null,te(this,$6,m),te(this,U6,Rw(u))}var Mw="REVERT_SECOND_FACTOR_ADDITION",zp="EMAIL_SIGNIN",wf="VERIFY_AND_CHANGE_EMAIL",D6="email",L6="mfaInfo",M6="newEmail",j6="requestType",uA="email",lA="fromEmail",F6="multiFactorInfo",cA="previousEmail",U6="data",$6="operation";function jw(o){o=lr(o);var u=Gr(o,fA)||null,f=Gr(o,hA)||null,p=Gr(o,dA)||null;if(p=p&&q6[p]||null,!u||!f||!p)throw new R("argument-error",fA+", "+hA+"and "+dA+" are required in a valid action code URL.");Vn(this,{apiKey:u,operation:p,code:f,continueUrl:Gr(o,V6)||null,languageCode:Gr(o,B6)||null,tenantId:Gr(o,z6)||null})}var fA="apiKey",hA="oobCode",V6="continueUrl",B6="languageCode",dA="mode",z6="tenantId",q6={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Mw,signIn:zp,verifyAndChangeEmail:wf,verifyEmail:"VERIFY_EMAIL"};function pA(o){try{return new jw(o)}catch{return null}}function qp(o){var u=o[W6];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[vA];if(f&&typeof f=="object"){u=f[_A];var p=f[yA];if(f=f[wA],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new R("argument-error",yA+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",wA+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",_A+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",vA+" property must be a non null object when specified.");if(this.f=null,(u=o[mA])&&typeof u=="object"){if(u=u[bA],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",bA+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",mA+" property must be a non null object when specified.");if(u=o[Fw],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",Fw+" property must be a boolean when specified.");if(this.c=!!u,o=o[gA],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",gA+" property must be a non empty string when specified.");this.i=o||null}var vA="android",gA="dynamicLinkDomain",Fw="handleCodeInApp",mA="iOS",W6="url",yA="installApp",wA="minimumVersion",_A="packageName",bA="bundleId";function Wp(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function H6(o){return Ui(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var _f=null;function K6(o){var u=[];return G6(o,function(f){u.push(f)}),u}function G6(o,u){function f(U){for(;p<o.length;){var V=o.charAt(p++),fe=_f[V];if(fe!=null)return fe;if(!/^[\s\xa0]*$/.test(V))throw Error("Unknown base64 encoding at char: "+V)}return U}Q6();for(var p=0;;){var m=f(-1),_=f(0),I=f(64),A=f(64);if(A===64&&m===-1)break;u(m<<2|_>>4),I!=64&&(u(_<<4&240|I>>2),A!=64&&u(I<<6&192|A))}}function Q6(){if(!_f){_f={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];_f[_]===void 0&&(_f[_]=m)}}}function Hp(o){var u=EA(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Hp.prototype.T=function(){return this.f},Hp.prototype.l=function(){return this.c},Hp.prototype.toString=function(){return this.h};function Kp(o){try{return new Hp(o)}catch{return null}}function EA(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=K6(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var I=p[u++],A=p[u++],U=((m&7)<<18|(_&63)<<12|(I&63)<<6|A&63)-65536;o[f++]=String.fromCharCode(55296+(U>>10)),o[f++]=String.fromCharCode(56320+(U&1023))}else _=p[u++],I=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|I&63)}return JSON.parse(o.join(""))}catch{}return null}var SA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gp=["client_id","response_type","scope","redirect_uri","state"],Uw={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:SA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $w(o){for(var u in Uw)if(Uw[u].fa==o)return Uw[u];return null}function TA(o){var u={};u["facebook.com"]=xA,u["google.com"]=kA,u["github.com"]=CA,u["twitter.com"]=AA;var f=o&&o[IA];try{if(f)return u[f]?new u[f](o):new qi(o);if(typeof o[Vw]<"u")return new Bw(o)}catch{}return null}var Vw="idToken",IA="providerId";function Bw(o){var u=o[IA];if(!u&&o[Vw]){var f=Kp(o[Vw]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),te(this,"providerId",u),te(this,"isNewUser",f)}function qi(o){Bw.call(this,o),o=Yu(o.rawUserInfo||"{}"),te(this,"profile",Rw(o||{}))}L(qi,Bw);function xA(o){if(qi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(xA,qi);function CA(o){if(qi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");te(this,"username",this.profile&&this.profile.login||null)}L(CA,qi);function kA(o){if(qi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(kA,qi);function AA(o){if(qi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");te(this,"username",o.screenName||null)}L(AA,qi);function RA(o){var u=lr(o),f=Gr(u,"link"),p=Gr(lr(f),"link");return u=Gr(u,"deep_link_id"),Gr(lr(u),"link")||u||p||f||o}function Qp(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?bf:Yp}var bf="enroll",Yp="signin";Qp.prototype.Ha=function(){return this.a?oe(this.a):oe(this.b)},Qp.prototype.w=function(){return this.type==bf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Xu(){}Xu.prototype.ka=function(){},Xu.prototype.b=function(){},Xu.prototype.c=function(){},Xu.prototype.w=function(){};function Ju(o,u){return o.then(function(f){if(f[wi]){var p=Kp(f[wi]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Ke+"user-not-found"?new R("user-mismatch"):f})}function ma(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",o)}ma.prototype.ka=function(o){return h_(o,zw(this))},ma.prototype.b=function(o,u){var f=zw(this);return f.idToken=u,d_(o,f)},ma.prototype.c=function(o,u){return Ju(p_(o,zw(this)),u)};function zw(o){return{pendingToken:o.a,requestUri:"http://localhost"}}ma.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Y6(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new ma(o.providerId,o.pendingToken)}catch{}return null}function _o(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&te(this,"idToken",u.idToken),u.accessToken&&te(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&te(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)te(this,"accessToken",u.oauthToken),te(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",f)}_o.prototype.ka=function(o){return h_(o,qw(this))},_o.prototype.b=function(o,u){var f=qw(this);return f.idToken=u,d_(o,f)},_o.prototype.c=function(o,u){var f=qw(this);return Ju(p_(o,f),u)};function qw(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:zk(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}_o.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function X6(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new _o(o.providerId,u,o.signInMethod)}catch{}}return null}function ya(o,u){this.Qc=u||[],Vn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=($w(o)||{}).Ja||null,this.pb=null}ya.prototype.Ka=function(o){return this.Jb=Jo(o),this};function PA(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');ya.call(this,o,[])}L(PA,ya);function xr(o){ya.call(this,o,Gp),this.a=[]}L(xr,ya),xr.prototype.Ca=function(o){return yo(this.a,o)||this.a.push(o),this},xr.prototype.Rb=function(){return aa(this.a)},xr.prototype.credential=function(o,u){var f;if(x(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,f,this.providerId)};function wa(){xr.call(this,"facebook.com")}L(wa,xr),te(wa,"PROVIDER_ID","facebook.com"),te(wa,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function NA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return x(o)&&(u=o.accessToken),new wa().credential({accessToken:u})}function _a(){xr.call(this,"github.com")}L(_a,xr),te(_a,"PROVIDER_ID","github.com"),te(_a,"GITHUB_SIGN_IN_METHOD","github.com");function OA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return x(o)&&(u=o.accessToken),new _a().credential({accessToken:u})}function ba(){xr.call(this,"google.com"),this.Ca("profile")}L(ba,xr),te(ba,"PROVIDER_ID","google.com"),te(ba,"GOOGLE_SIGN_IN_METHOD","google.com");function DA(o,u){var f=o;return x(o)&&(f=o.idToken,u=o.accessToken),new ba().credential({idToken:f,accessToken:u})}function Zu(){ya.call(this,"twitter.com",SA)}L(Zu,ya),te(Zu,"PROVIDER_ID","twitter.com"),te(Zu,"TWITTER_SIGN_IN_METHOD","twitter.com");function LA(o,u){var f=o;if(x(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",f,"twitter.com")}function rs(o,u,f){this.a=o,this.f=u,te(this,"providerId","password"),te(this,"signInMethod",f===Qr.EMAIL_LINK_SIGN_IN_METHOD?Qr.EMAIL_LINK_SIGN_IN_METHOD:Qr.EMAIL_PASSWORD_SIGN_IN_METHOD)}rs.prototype.ka=function(o){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Lq,{email:this.a,oobCode:this.f}):Se(o,lR,{email:this.a,password:this.f})},rs.prototype.b=function(o,u){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Mq,{idToken:u,email:this.a,oobCode:this.f}):Se(o,uR,{idToken:u,email:this.a,password:this.f})},rs.prototype.c=function(o,u){return Ju(this.ka(o),u)},rs.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function J6(o){return o&&o.email&&o.password?new rs(o.email,o.password,o.signInMethod):null}function Qr(){Vn(this,{providerId:"password",isOAuthProvider:!1})}function MA(o,u){if(u=Ww(u),!u)throw new R("argument-error","Invalid email link!");return new rs(o,u.code,Qr.EMAIL_LINK_SIGN_IN_METHOD)}function Ww(o){return o=RA(o),(o=pA(o))&&o.operation===zp?o:null}Vn(Qr,{PROVIDER_ID:"password"}),Vn(Qr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vn(Qr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function is(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,te(this,"providerId","phone"),this.fa="phone",te(this,"signInMethod","phone")}is.prototype.ka=function(o){return o.gb(Ef(this))},is.prototype.b=function(o,u){var f=Ef(this);return f.idToken=u,Se(o,nW,f)},is.prototype.c=function(o,u){var f=Ef(this);return f.operation="REAUTH",o=Se(o,rW,f),Ju(o,u)},is.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function Z6(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Me(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new is(u)}return null}function Ef(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function bo(o){try{this.a=o||X.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vn(this,{providerId:"phone",isOAuthProvider:!1})}bo.prototype.gb=function(o,u){var f=this.a.a;return oe(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=x(o)?o.session:null,_=x(o)?o.phoneNumber:o,I;return m&&m.type==bf?I=m.Ha().then(function(A){return xq(f,{idToken:A,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==Yp?I=m.Ha().then(function(A){return Cq(f,{mfaPendingCredential:A,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):I=Iq(f,{phoneNumber:_,recaptchaToken:p}),I.then(function(A){return typeof u.reset=="function"&&u.reset(),A},function(A){throw typeof u.reset=="function"&&u.reset(),A});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function jA(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new is({fb:o,eb:u})}Vn(bo,{PROVIDER_ID:"phone"}),Vn(bo,{PHONE_SIGN_IN_METHOD:"phone"});function Hw(o){if(o.temporaryProof&&o.phoneNumber)return new is({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,I=o&&o.pendingToken;try{switch(u){case"google.com":return DA(_,f);case"facebook.com":return NA(f);case"github.com":return OA(f);case"twitter.com":return LA(f,p);default:return f||p||_||I?I?u.indexOf("saml.")==0?new ma(u,I):new _o(u,{pendingToken:I,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new xr(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function Kw(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function mi(o,u,f,p,m,_,I){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=I||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}mi.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},mi.prototype.T=function(){return this.h},mi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function FA(o){return o=o||{},o.type?new mi(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Ce(o.error),o.postBody,o.tenantId):null}function eq(){this.b=null,this.a=[]}var Gw=null;function tq(o){var u=Gw;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=nt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Qw(o){var u="unauthorized-domain",f=void 0,p=lr(o);o=p.a,p=p.c,p=="chrome-extension"?f=uk("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=uk("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}L(Qw,R);function Sf(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&te(this,"email",o.Kb),o.ea&&te(this,"phoneNumber",o.ea),o.credential&&te(this,"credential",o.credential),o.$b&&te(this,"tenantId",o.$b)}L(Sf,R),Sf.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&sr(o,u),o},Sf.prototype.toJSON=function(){return this.w()};function Xp(o){if(o.code){var u=o.code||"";u.indexOf(Ke)==0&&(u=u.substring(Ke.length));var f={credential:Hw(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new Sf(u,f,o.message)}return null}function Tf(){}Tf.prototype.c=null;function UA(o){return o.c||(o.c=o.b())}var Yw;function Jp(){}L(Jp,Tf),Jp.prototype.a=function(){var o=$A(this);return o?new ActiveXObject(o):new XMLHttpRequest},Jp.prototype.b=function(){var o={};return $A(this)&&(o[0]=!0,o[1]=!0),o};function $A(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Yw=new Jp;function Zp(){}L(Zp,Tf),Zp.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new VA;throw Error("Unsupported browser")},Zp.prototype.b=function(){return{}};function VA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=VA.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xw(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Xw(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Xw(this,1)};function Xw(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Jw(o,u,f){this.reset(o,u,f,void 0,void 0)}Jw.prototype.a=null,Jw.prototype.reset=function(o,u,f,p,m){delete this.a};function Zw(o){this.f=o,this.b=this.c=this.a=null}function If(o,u){this.name=o,this.value=u}If.prototype.toString=function(){return this.name};var BA=new If("SEVERE",1e3),e_=new If("WARNING",900),nq=new If("CONFIG",700),rq=new If("FINE",500);function zA(o){return o.c?o.c:o.a?zA(o.a):(se("Root logger has no level set."),null)}Zw.prototype.log=function(o,u,f){if(o.value>=zA(this).value)for(E(u)&&(u=u()),o=new Jw(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var t_={},ev=null;function n_(o){ev||(ev=new Zw(""),t_[""]=ev,ev.c=nq);var u;if(!(u=t_[o])){u=new Zw(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=n_(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,t_[o]=u}return u}function Yr(o,u){o&&o.log(rq,u,void 0)}function tv(o){this.f=o}L(tv,Tf),tv.prototype.a=function(){return new nv(this.f)},tv.prototype.b=function(o){return function(){return o}}({});function nv(o){$n.call(this),this.u=o,this.h=void 0,this.readyState=r_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=n_("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(nv,$n);var r_=0;e=nv.prototype,e.open=function(o,u){if(this.readyState!=r_)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Cf(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,xf(this)),this.readyState=r_},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Cf(this)),this.a&&(this.readyState=3,Cf(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,qA(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function qA(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?xf(this):Cf(this),this.readyState==3&&qA(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,xf(this))},e.sc=function(o){this.a&&(this.response=o,xf(this))},e.Va=function(o){var u=this.i;u&&u.log(e_,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&xf(this)};function xf(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Cf(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(e_,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(e_,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Cf(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(nv.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function kf(o){$n.call(this),this.headers=new Wu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=WA,this.u=this.S=!1}L(kf,$n);var WA="";kf.prototype.b=n_("goog.net.XhrIo");var iq=/^https?$/i,oq=["POST","PUT"];function sq(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Yw.a(),o.C=o.D?UA(o.D):UA(Yw),o.a.onreadystatechange=O(o.Wb,o);try{Yr(o.b,Eo(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(I){Yr(o.b,Eo(o,"Error opening Xhr: "+I.message)),HA(o,I);return}u=p||"";var _=new Wu(o.headers);m&&h6(m,function(I,A){_.set(A,I)}),m=sa(_.Y()),p=c.FormData&&u instanceof c.FormData,!yo(oq,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(I,A){this.a.setRequestHeader(A,I)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{QA(o),0<o.g&&(o.u=aq(o.a),Yr(o.b,Eo(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=gw(o.Ma,o.g,o)),Yr(o.b,Eo(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(I){Yr(o.b,Eo(o,"Send error: "+I.message)),HA(o,I)}}function aq(o){return vi&&hk(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function uq(o){return o.toLowerCase()=="content-type"}e=kf.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Yr(this.b,Eo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function HA(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,KA(o),rv(o)}function KA(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Yr(this.b,Eo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rv(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),rv(this,!0)),kf.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?GA(this):this.Jc())},e.Jc=function(){GA(this)};function GA(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Af(o)==4&&iv(o)==2)Yr(o.b,Eo(o,"Local request error detected and ignored"));else if(o.i&&Af(o)==4)gw(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Af(o)==4){Yr(o.b,Eo(o,"Request complete")),o.c=!1;try{var u=iv(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match(Vk)[1]||null;if(!_&&c.self&&c.self.location){var I=c.self.location.protocol;_=I.substr(0,I.length-1)}m=!iq.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var A=2<Af(o)?o.a.statusText:""}catch(U){Yr(o.b,"Can not get status: "+U.message),A=""}o.h=A+" ["+iv(o)+"]",KA(o)}}finally{rv(o)}}}}function rv(o,u){if(o.a){QA(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(BA,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function QA(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Af(o){return o.a?o.a.readyState:0}function iv(o){try{return 2<Af(o)?o.a.status:-1}catch{return-1}}function lq(o){try{return o.a?o.a.responseText:""}catch(u){return Yr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case WA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(BA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Yr(this.b,"Can not get response: "+u.message),null}};function Eo(o,u){return u+" ["+o.P+" "+o.l+" "+iv(o)+"]"}function Ea(o){var u=hq;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ea.prototype.cancel=function(o){if(this.a)this.c instanceof Ea&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Pf,ov(this),Rf(this,!1,o))}},Ea.prototype.m=function(o,u){this.i=!1,Rf(this,o,u)};function Rf(o,u,f){o.a=!0,o.c=f,o.f=!u,XA(o)}function ov(o){if(o.a){if(!o.v)throw new sv;o.v=!1}}function cq(o,u){i_(o,null,u,void 0)}function i_(o,u,f,p){o.g.push([u,f,p]),o.a&&XA(o)}Ea.prototype.then=function(o,u,f){var p,m,_=new Ee(function(I,A){p=I,m=A});return i_(this,p,function(I){I instanceof Pf?_.cancel():m(I)}),_.then(o,u,f)},Ea.prototype.$goog_Thenable=!0;function YA(o){return st(o.g,function(u){return E(u[1])})}function XA(o){if(o.h&&o.a&&YA(o)){var u=o.h,f=av[u];f&&(c.clearTimeout(f.a),delete av[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],I=m[1];if(m=m[2],_=o.f?I:_)try{var A=_.call(m||o.s,u);A!==void 0&&(o.f=o.f&&(A==u||A instanceof Error),o.c=u=A),(Dt(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(p=!0,o.i=!0)}catch(U){u=U,o.f=!0,YA(o)||(f=!0)}}o.c=u,p&&(A=O(o.m,o,!0),p=O(o.m,o,!1),u instanceof Ea?(i_(u,A,p),u.C=!0):u.then(A,p)),f&&(u=new JA(u),av[u.a]=u,o.h=u.a)}function sv(){z.call(this)}L(sv,z),sv.prototype.message="Deferred has already fired",sv.prototype.name="AlreadyCalledError";function Pf(){z.call(this)}L(Pf,z),Pf.prototype.message="Deferred was canceled",Pf.prototype.name="CanceledError";function JA(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}JA.prototype.c=function(){throw delete av[this.a],this.b};var av={};function o_(o){var u={},f=u.document||document,p=ek(o).toString(),m=Np(document,"SCRIPT"),_={Xb:m,Ma:void 0},I=new Ea(_),A=null,U=u.timeout!=null?u.timeout:5e3;return 0<U&&(A=window.setTimeout(function(){uv(m,!0);var V=new s_(pq,"Timeout reached for loading script "+p);ov(I),Rf(I,!1,V)},U),_.Ma=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(uv(m,u.xd||!1,A),ov(I),Rf(I,!0,null))},m.onerror=function(){uv(m,!0,A);var V=new s_(dq,"Error while loading script "+p);ov(I),Rf(I,!1,V)},_=u.attributes||{},sr(_,{type:"text/javascript",charset:"UTF-8"}),pk(m,_),z5(m,o),fq(f).appendChild(m),I}function fq(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function hq(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&uv(o,!0,this.Ma)}}function uv(o,u,f){f!=null&&c.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var dq=0,pq=1;function s_(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),z.call(this,f),this.code=o}L(s_,z);function lv(o){this.f=o}L(lv,Tf),lv.prototype.a=function(){return new this.f},lv.prototype.b=function(){return{}};function yi(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||vq,this.g=Jo(o.secureTokenHeaders||gq),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||mq,this.a=Jo(o.firebaseHeaders||yq),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Bi()=="Node",f=c.XMLHttpRequest||f&&X.INTERNAL.node&&X.INTERNAL.node.XMLHttpRequest,!f&&!gi())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gi()?this.f=new tv(self):Zk()?this.f=new lv(f):this.f=new Zp,this.b=null}var a_,wi="idToken",vq=new ns(3e4,6e4),gq={"Content-Type":"application/x-www-form-urlencoded"},mq=new ns(3e4,6e4),yq={"Content-Type":"application/json"};function ZA(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function cv(o,u){u&&(o.l=u_("https://securetoken.googleapis.com/v1/token",u),o.h=u_("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=u_("https://identitytoolkit.googleapis.com/v2/",u))}function u_(o,u){return o=lr(o),u=lr(u.url),o.f=o.a+o.f,cf(o,u.c),o.a=u.a,ff(o,u.g),o.toString()}function eR(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}yi.prototype.T=function(){return this.b};function tR(o,u,f,p,m,_,I){E6()||gi()?o=O(o.u,o):(a_||(a_=new Ee(function(A,U){_q(A,U)})),o=O(o.s,o)),o(u,f,p,m,_,I)}yi.prototype.u=function(o,u,f,p,m,_){if(gi()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var I=new kf(this.f);if(_){I.g=Math.max(0,_);var A=setTimeout(function(){I.dispatchEvent("timeout")},_)}Fk(I,"complete",function(){A&&clearTimeout(A);var U=null;try{U=JSON.parse(lq(this))||null}catch{U=null}u&&u(U)}),vw(I,"ready",function(){A&&clearTimeout(A),Pk(this)}),vw(I,"timeout",function(){A&&clearTimeout(A),Pk(this),u&&u(null)}),sq(I,o,f,p,m)};var wq=new $i(kp,"https://apis.google.com/js/client.js?onload=%{onload}"),nR="__fcb"+Math.floor(1e6*Math.random()).toString();function _q(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[nR]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=X0(wq,{onload:nR});cq(o_(f),function(){u(Error("CORS_UNSUPPORTED"))})}}yi.prototype.s=function(o,u,f,p,m){var _=this;a_.then(function(){window.gapi.client.setApiKey(_.c);var I=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(A){window.gapi.auth.setToken(I),u&&u(A)}})}).o(function(I){u&&u({error:{message:I&&I.message||"CORS_UNSUPPORTED"}})})};function bq(o,u){return new Ee(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?tR(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(g_(m)):m.access_token&&m.refresh_token?f(m):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",zk(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function rR(o,u,f,p,m,_,I){var A=lr(u+f);mt(A,"key",o.c),I&&mt(A,"cb",Date.now().toString());var U=p=="GET";if(U)for(var V in m)m.hasOwnProperty(V)&&mt(A,V,m[V]);return new Ee(function(fe,$e){tR(o,A.toString(),function(Ne){Ne?Ne.error?$e(g_(Ne,_||{})):fe(Ne):$e(new R("network-request-failed"))},p,U?void 0:Hk(nA(m)),o.a,o.v.get())})}function Sa(o){if(o=o.email,typeof o!="string"||!I6.test(o))throw new R("invalid-email")}function iR(o){"email"in o&&Sa(o)}function Eq(o,u){return Se(o,Nq,{identifier:u,continueUri:Bp()?pf():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function Sq(o){return Se(o,qq,{}).then(function(u){return u.authorizedDomains||[]})}function cr(o){if(!o[wi])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,Jo(o)):new R("internal-error")}function l_(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}yi.prototype.Ab=function(){return Se(this,Gq,{})},yi.prototype.Cb=function(o,u){return Se(this,aR,{idToken:o,email:u})},yi.prototype.Db=function(o,u){return Se(this,uR,{idToken:o,password:u})};var Tq={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=yi.prototype,e.Eb=function(o,u){var f={idToken:o},p=[];return QC(Tq,function(m,_){var I=u[_];I===null?p.push(m):_ in u&&(f[_]=I)}),p.length&&(f.deleteAttribute=p),Se(this,aR,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},sr(o,u),Se(this,zq,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},sr(o,u),Se(this,$q,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},sr(o,u),Se(this,Vq,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},sr(o,f),Se(this,Bq,o)};function Iq(o,u){return Se(o,Kq,u)}e.gb=function(o){return Se(this,tW,o)};function xq(o,u){return Se(o,Qq,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function oR(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function Cq(o,u){return Se(o,Yq,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function kq(o,u,f){return Se(o,Dq,{idToken:u,deleteProvider:f})}function c_(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function f_(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new da(o.postBody),ww(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function sR(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Xp(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Xp(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Xp(o)):o.errorMessage&&(u=cR(o.errorMessage)),u)throw u;cr(o)}function h_(o,u){return u.returnIdpCredential=!0,Se(o,Xq,u)}function d_(o,u){return u.returnIdpCredential=!0,Se(o,Zq,u)}function p_(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Se(o,Jq,u)}function v_(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return Se(this,Hq,{oobCode:o,newPassword:u})},e.Sa=function(o){return Se(this,Rq,{oobCode:o})},e.kb=function(o){return Se(this,Aq,{oobCode:o})};var Aq={endpoint:"setAccountInfo",A:v_,Z:"email",B:!0},Rq={endpoint:"resetPassword",A:v_,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},Pq={endpoint:"signupNewUser",A:function(o){if(Sa(o),!o.password)throw new R("weak-password")},G:cr,V:!0,B:!0},Nq={endpoint:"createAuthUri",B:!0},Oq={endpoint:"deleteAccount",O:["idToken"]},Dq={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},Lq={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Sa,G:cr,V:!0,B:!0},Mq={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Sa,G:cr,V:!0},jq={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:oR,G:cr,B:!0,Na:!0},Fq={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:oR,G:cr,B:!0,Na:!0},Uq={endpoint:"getAccountInfo"},$q={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Sa(o)},Z:"email",B:!0},Vq={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},Bq={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},zq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Sa(o)},Z:"email",B:!0},qq={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Wq={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},Hq={endpoint:"resetPassword",A:v_,Z:"email",B:!0},Kq={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},aR={endpoint:"setAccountInfo",O:["idToken"],A:iR,V:!0},uR={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(iR(o),!o.password)throw new R("weak-password")},G:cr,V:!0},Gq={endpoint:"signupNewUser",G:cr,V:!0,B:!0},Qq={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Yq={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Xq={endpoint:"verifyAssertion",A:c_,Za:f_,G:sR,V:!0,B:!0},Jq={endpoint:"verifyAssertion",A:c_,Za:f_,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw cR(o.errorMessage);cr(o)},V:!0,B:!0},Zq={endpoint:"verifyAssertion",A:function(o){if(c_(o),!o.idToken)throw new R("internal-error")},Za:f_,G:sR,V:!0},eW={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:cr,V:!0,B:!0},lR={endpoint:"verifyPassword",A:function(o){if(Sa(o),!o.password)throw new R("wrong-password")},G:cr,V:!0,B:!0},tW={endpoint:"verifyPhoneNumber",A:l_,G:cr,B:!0},nW={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");l_(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Xp(o);cr(o)}},rW={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:l_,G:cr,B:!0},iW={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[wi]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function Se(o,u,f){if(!N6(f,u.O))return tt(new R("internal-error"));var p=!!u.Na,m=u.Vb||"POST",_;return oe(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?rR(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):rR(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(I){return _=I,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function cR(o){return g_({error:{errors:[{message:o}],code:400,message:o}})}function g_(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},sr(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new R(p[m],u);return!u&&o&&(u=gf(o)),new R("internal-error",u)}function oW(o){this.b=o,this.a=null,this.sb=sW(this)}function sW(o){return hW().then(function(){return new Ee(function(u,f){nt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},fW.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function aW(o,u){return o.sb.then(function(){return new Ee(function(f){o.a.send(u.type,u,f,nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function uW(o,u){o.sb.then(function(){o.a.register("authEvent",u,nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var lW=new $i(kp,"https://apis.google.com/js/api.js?onload=%{onload}"),cW=new ns(3e4,6e4),fW=new ns(5e3,15e3),fv=null;function hW(){return fv||(fv=new Ee(function(o,u){function f(){iA(),nt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){iA(),u(Error("Network Error"))},timeout:cW.get()})}if(nt("gapi.iframes.Iframe"))o();else if(nt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[p]=function(){nt("gapi.load")?f():u(Error("Network Error"))},p=X0(lW,{onload:p}),oe(o_(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw fv=null,o}))}function fR(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=lr(this.g.url),o=$p(o.c,o.a,o.g,"/emulator/auth/iframe")):o=$p("https",this.l,null,"/__/auth/iframe"),this.a=o,mt(this.a,"apiKey",this.h),mt(this.a,"appName",this.i),this.b=null,this.c=[]}fR.prototype.toString=function(){return this.f?mt(this.a,"v",this.f):Vi(this.a.b,"v"),this.b?mt(this.a,"eid",this.b):Vi(this.a.b,"eid"),this.c.length?mt(this.a,"fw",this.c.join(",")):Vi(this.a.b,"fw"),this.a.toString()};function m_(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}m_.prototype.zb=function(o){return this.h=o,this},m_.prototype.toString=function(){if(this.v){var o=lr(this.v.url);o=$p(o.c,o.a,o.g,"/emulator/auth/handler")}else o=$p("https",this.u,null,"/__/auth/handler");if(mt(o,"apiKey",this.s),mt(o,"appName",this.c),mt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=X.app(this.c).auth().la()}catch{f=null}u.pb=f,mt(o,"providerId",this.a.providerId),f=this.a,u=nA(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=Jo(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),ua(u)||mt(o,"customParameters",gf(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&mt(o,"scopes",f.join(","))),this.l?mt(o,"redirectUrl",this.l):Vi(o.b,"redirectUrl"),this.g?mt(o,"eventId",this.g):Vi(o.b,"eventId"),this.i?mt(o,"v",this.i):Vi(o.b,"v"),this.b)for(var I in this.b)this.b.hasOwnProperty(I)&&!Gr(o,I)&&mt(o,I,this.b[I]);return this.h?mt(o,"tid",this.h):Vi(o.b,"tid"),this.f?mt(o,"eid",this.f):Vi(o.b,"eid"),I=y_(this.c),I.length&&mt(o,"fw",I.join(",")),o.toString()};function y_(o){try{return X.app(o).auth().Ga()}catch{return[]}}function hR(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function dR(o){var u=pf();return Sq(o).then(function(f){e:{var p=lr(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var I=f[_],A=p,U=m;if(I.indexOf("chrome-extension://")==0?A=lr(I).a==A&&U=="chrome-extension":U!="http"&&U!="https"?A=!1:T6.test(I)?A=A==I:(I=I.split(".").join("\\."),A=new RegExp("^(.+\\."+I+"|"+I+")$","i").test(A)),A){f=!0;break e}}f=!1}if(!f)throw new Qw(pf())})}function pR(o){return o.m||(o.m=Vp().then(function(){if(!o.u){var u=o.c,f=o.i,p=y_(o.b),m=new fR(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=aa(p||[]),o.u=m.toString()}o.v=new oW(o.u),dW(o)})),o.m}e=hR.prototype,e.Pb=function(o,u,f){var p=new R("popup-closed-by-user"),m=new R("web-storage-unsupported"),_=this,I=!1;return this.ma().then(function(){pW(_).then(function(A){A||(o&&pa(o),u(m),I=!0)})}).o(function(){}).then(function(){if(!I)return S6(o)}).then(function(){if(!I)return qu(f).then(function(){u(p)})})},e.Yb=function(){var o=sn();return!vf(o)&&!rA(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,p,m,_,I,A){if(!o)return tt(new R("popup-blocked"));if(I&&!vf())return this.ma().o(function(V){pa(o),m(V)}),p(),oe();this.a||(this.a=dR(vR(this)));var U=this;return this.a.then(function(){var V=U.ma().o(function(fe){throw pa(o),m(fe),fe});return p(),V}).then(function(){if(Kw(f),!I){var V=Nf(U.s,U.g,U.b,u,f,null,_,U.c,void 0,U.i,A,U.f);Qk(V,o)}}).o(function(V){throw V.code=="auth/network-request-failed"&&(U.a=null),V})};function vR(o){return o.l||(o.C=o.c?Gu(o.c,y_(o.b)):null,o.l=new yi(o.g,le(o.i),o.C),o.f&&cv(o.l,o.f)),o.l}e.Ob=function(o,u,f,p){this.a||(this.a=dR(vR(this)));var m=this;return this.a.then(function(){Kw(u);var _=Nf(m.s,m.g,m.b,o,u,pf(),f,m.c,void 0,m.i,p,m.f);Qk(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},e.ma=function(){var o=this;return pR(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Nf(o,u,f,p,m,_,I,A,U,V,fe,$e){return o=new m_(o,u,f,p,m,$e),o.l=_,o.g=I,o.i=A,o.b=Jo(U||null),o.f=V,o.zb(fe).toString()}function dW(o){if(!o.v)throw Error("IfcHandler must be initialized!");uW(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=FA(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",oe(f)}return f.status="ERROR",oe(f)})}function pW(o){var u={type:"webStorageSupport"};return pR(o).then(function(){return aW(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){pi(this.h,function(u){return u==o})};function gR(o){if(this.a=o||X.INTERNAL.reactNative&&X.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=gR.prototype,e.get=function(o){return oe(this.a.getItem(o)).then(function(u){return u&&Yu(u)})},e.set=function(o,u){return oe(this.a.setItem(o,gf(u)))},e.U=function(o){return oe(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function mR(o){this.b=o,this.a={},this.f=O(this.c,this)}var yR=[];function vW(){var o=gi()?self:null;if(Me(yR,function(f){f.b==o&&(u=f)}),!u){var u=new mR(o);yR.push(u)}return u}mR.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];Me(p,function(_){m.push(oe().then(function(){return _(o.origin,o.data.data)}))}),Ek(m).then(function(_){var I=[];Me(_,function(A){I.push({fulfilled:A.Qb,value:A.value,reason:A.reason?A.reason.message:void 0})}),Me(I,function(A){for(var U in A)typeof A[U]>"u"&&delete A[U]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:I})})}};function wR(o,u,f){ua(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function _R(o){this.a=o}_R.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function bR(o){this.c=o,this.b=!1,this.a=[]}function ER(o,u,f,p){var m,_=f||{},I,A,U,V=null;if(o.b)return tt(Error("connection_unavailable"));var fe=p?800:50,$e=typeof MessageChannel<"u"?new MessageChannel:null;return new Ee(function(Ne,Ht){$e?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),$e.port1.start(),A=setTimeout(function(){Ht(Error("unsupported_event"))},fe),I=function(So){So.data.eventId===m&&(So.data.status==="ack"?(clearTimeout(A),U=setTimeout(function(){Ht(Error("timeout"))},3e3)):So.data.status==="done"?(clearTimeout(U),typeof So.data.response<"u"?Ne(So.data.response):Ht(Error("unknown_error"))):(clearTimeout(A),clearTimeout(U),Ht(Error("invalid_response"))))},V={messageChannel:$e,onMessage:I},o.a.push(V),$e.port1.addEventListener("message",I),o.c.postMessage({eventType:u,eventId:m,data:_},[$e.port2])):Ht(Error("connection_unavailable"))}).then(function(Ne){return w_(o,V),Ne}).o(function(Ne){throw w_(o,V),Ne})}function w_(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),pi(o.a,function(m){return m==u})}}bR.prototype.close=function(){for(;0<this.a.length;)w_(this,this.a[0]);this.b=!0};function SR(){if(!E_())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;gi()&&self?(this.v=vW(),wR(this.v,"keyChanged",function(u,f){return xR(o).then(function(p){return 0<p.length&&Me(o.a,function(m){m(p)}),{keyProcessed:yo(p,f.key)}})}),wR(this.v,"ping",function(){return oe(["keyChanged"])})):R6().then(function(u){(o.h=u)&&(o.g=new bR(new _R(u)),ER(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&yo(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var __;function gW(o){return new Ee(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function TR(o){return new Ee(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):gW(o).then(function(){return TR(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function b_(o){return o.i||(o.i=TR(o)),o.i}function hv(o,u){function f(m,_){b_(o).then(u).then(m).o(function(I){if(3<++p)_(I);else return b_(o).then(function(A){return A.close(),o.i=void 0,f(m,_)}).o(function(A){_(A)})})}var p=0;return new Ee(f)}function E_(){try{return!!c.indexedDB}catch{return!1}}function Of(o){return o.objectStore("firebaseLocalStorage")}function Df(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function el(o){return new Ee(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=SR.prototype,e.set=function(o,u){var f=this,p=!1;return hv(this,function(m){return m=Of(Df(m,!0)),el(m.get(o))}).then(function(m){return hv(f,function(_){if(_=Of(Df(_,!0)),m)return m.value=u,el(_.put(m));f.b++,p=!0;var I={};return I.fbase_key=o,I.value=u,el(_.add(I))})}).then(function(){return f.c[o]=u,IR(f,o)}).oa(function(){p&&f.b--})};function IR(o,u){return o.g&&o.h&&A6()===o.h?ER(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):oe()}e.get=function(o){return hv(this,function(u){return el(Of(Df(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return hv(this,function(p){return f=!0,u.b++,el(Of(Df(p,!0)).delete(o))}).then(function(){return delete u.c[o],IR(u,o)}).oa(function(){f&&u.b--})};function xR(o){return b_(o).then(function(u){var f=Of(Df(u,!1));return f.getAll?el(f.getAll()):new Ee(function(p,m){var _=[],I=f.openCursor();I.onsuccess=function(A){(A=A.target.result)?(_.push(A.value),A.continue()):p(_)},I.onerror=function(A){m(A.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=Yk(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&mW(this),this.a.push(o)},e.ia=function(o){pi(this.a,function(u){return u==o}),this.a.length==0&&CR(this)};function mW(o){function u(){o.f=setTimeout(function(){o.l=xR(o).then(function(f){0<f.length&&Me(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}CR(o),u()}function CR(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function kR(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=oe().then(function(){if(E_()){var p=ga(),m="__sak"+p;return __||(__=new SR),f=__,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){Me(u.a,function(_){_(m)})}),p})}e=kR.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){pi(this.a,function(u){return u==o})};function Lf(){this.a={},this.type="inMemory"}e=Lf.prototype,e.get=function(o){return oe(this.a[o])},e.set=function(o,u){return this.a[o]=u,oe()},e.U=function(o){return delete this.a[o],oe()},e.ca=function(){},e.ia=function(){};function dv(){if(!yW())throw Bi()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=AR()||X.INTERNAL.node.localStorage,this.type="localStorage"}function AR(){try{var o=c.localStorage,u=ga();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function yW(){var o=Bi()=="Node";if(o=AR()||o&&X.INTERNAL.node&&X.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=dv.prototype,e.get=function(o){var u=this;return oe().then(function(){var f=u.a.getItem(o);return Yu(f)})},e.set=function(o,u){var f=this;return oe().then(function(){var p=gf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return oe().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&Kr(c.window,"storage",o)},e.ia=function(o){c.window&&Ir(c.window,"storage",o)};function S_(){this.type="nullStorage"}e=S_.prototype,e.get=function(){return oe(null)},e.set=function(){return oe()},e.U=function(){return oe()},e.ca=function(){},e.ia=function(){};function T_(){if(!wW())throw Bi()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=RR()||X.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function RR(){try{var o=c.sessionStorage,u=ga();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function wW(){var o=Bi()=="Node";if(o=RR()||o&&X.INTERNAL.node&&X.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=T_.prototype,e.get=function(o){var u=this;return oe().then(function(){var f=u.a.getItem(o);return Yu(f)})},e.set=function(o,u){var f=this;return oe().then(function(){var p=gf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return oe().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function _W(){var o={};o.Browser=bW,o.Node=EW,o.ReactNative=SW,o.Worker=TW,this.a=o[Bi()]}var I_,bW={F:dv,cb:T_},EW={F:dv,cb:T_},SW={F:gR,cb:S_},TW={F:dv,cb:S_},tl={rd:"local",NONE:"none",td:"session"};function IW(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in tl)if(tl[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Bi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!E_()&&o!=="none")throw f;break;default:if(!Iw()&&o!=="none")throw f}}function PR(){var o=!!(!rA(sn())&&Sw()),u=vf(),f=Iw();this.m=o,this.h=u,this.l=f,this.a={},I_||(I_=new _W),o=I_;try{this.g=!bw()&&oA()||!c.indexedDB?new o.a.F:new kR(gi()?new Lf:new o.a.F)}catch{this.g=new Lf,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Lf}this.v=new Lf,this.f=O(this.Zb,this),this.b={}}var x_;function Mf(){return x_||(x_=new PR),x_}function Ta(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function nl(o,u){return"firebase:"+o.name+(u?":"+u:"")}function xW(o,u,f){var p=nl(u,f),m=Ta(o,u.F);return o.get(u,f).then(function(_){var I=null;try{I=Yu(c.localStorage.getItem(p))}catch{}if(I&&!_)return c.localStorage.removeItem(p),o.set(u,I,f);I&&_&&m.type!="localStorage"&&c.localStorage.removeItem(p)})}e=PR.prototype,e.get=function(o,u){return Ta(this,o.F).get(nl(o,u))};function rl(o,u,f){return f=nl(u,f),u.F=="local"&&(o.b[f]=null),Ta(o,u.F).U(f)}e.set=function(o,u,f){var p=nl(o,f),m=this,_=Ta(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(I){o.F=="local"&&(m.b[p]=I)})},e.addListener=function(o,u,f){o=nl(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),ua(this.a)&&(Ta(this,"local").ca(this.f),this.h||(bw()||!oA())&&c.indexedDB||!this.l||CW(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=nl(o,u),this.a[o]&&(pi(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),ua(this.a)&&(Ta(this,"local").ia(this.f),C_(this))};function CW(o){C_(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new fa({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function C_(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=c.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ta(this,"local").ia(this.f):C_(this),this.m){if(f=c.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?c.localStorage.setItem(u,p):c.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},vi&&Zo&&Zo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Me(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&Me(this.a[o],function(u){u()})};function kW(o){this.a=o,this.b=Mf()}var k_={name:"authEvent",F:"local"};function AW(o){return o.b.get(k_,o.a).then(function(u){return FA(u)})}function RW(){this.a=Mf()}function PW(){this.b=-1}function pv(o,u){this.b=NR,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),vv===void 0&&(c.Int32Array?vv=new Int32Array(LR):vv=LR),this.reset()}var vv;L(pv,PW);for(var NR=64,NW=NR-1,OR=[],A_=0;A_<NW;A_++)OR[A_]=0;var DR=G0(128,OR);pv.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):aa(this.h)};function R_(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,I=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+I|0}p=o.a[0]|0,m=o.a[1]|0;var A=o.a[2]|0,U=o.a[3]|0,V=o.a[4]|0,fe=o.a[5]|0,$e=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ne=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&A^m&A)|0;I=V&fe^~V&$e,_=_+((V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))|0,I=I+(vv[u]|0)|0,I=_+(I+(f[u]|0)|0)|0,_=$e,$e=fe,fe=V,V=U+I|0,U=A,A=m,m=p,p=I+Ne|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+A|0,o.a[3]=o.a[3]+U|0,o.a[4]=o.a[4]+V|0,o.a[5]=o.a[5]+fe|0,o.a[6]=o.a[6]+$e|0,o.a[7]=o.a[7]+_|0}function P_(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(R_(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(R_(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var LR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function MR(){pv.call(this,8,OW)}L(MR,pv);var OW=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function jR(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new RW,this.g=new kW(this.h),this.f=null,this.b=[],this.a=this.c=null}function gv(o){return new R("invalid-cordova-configuration",o)}e=jR.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=x6().then(function(){if(typeof nt("universalLinks.subscribe",c)!="function")throw gv("cordova-universal-links-plugin-fix is not installed");if(typeof nt("BuildInfo.packageName",c)>"u")throw gv("cordova-plugin-buildinfo is not installed");if(typeof nt("cordova.plugins.browsertab.openUrl",c)!="function")throw gv("cordova-plugin-browsertab is not installed");if(typeof nt("cordova.InAppBrowser.open",c)!="function")throw gv("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function DW(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function LW(o){var u=new MR;P_(u,o),o=[];var f=8*u.g;56>u.c?P_(u,DR,56-u.c):P_(u,DR,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(R_(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return H6(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),oe()},e.Nb=function(){return tt(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,p){if(this.c)return tt(new R("redirect-operation-pending"));var m=this,_=c.document,I=null,A=null,U=null,V=null;return this.c=oe().then(function(){return Kw(u),UR(m)}).then(function(){return MW(m,o,u,f,p)}).then(function(){return new Ee(function(fe,$e){A=function(){var Ne=nt("cordova.plugins.browsertab.close",c);return fe(),typeof Ne=="function"&&Ne(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(A),U=function(){I||(I=qu(2e3).then(function(){$e(new R("redirect-cancelled-by-user"))}))},V=function(){xw()&&U()},_.addEventListener("resume",U,!1),sn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",V,!1)}).o(function(fe){return N_(m).then(function(){throw fe})})}).oa(function(){U&&_.removeEventListener("resume",U,!1),V&&_.removeEventListener("visibilitychange",V,!1),I&&I.cancel(),A&&m.Ta(A),m.c=null})};function MW(o,u,f,p,m){var _=DW(),I=new mi(u,p,null,_,new R("no-auth-event"),null,m),A=nt("BuildInfo.packageName",c);if(typeof A!="string")throw new R("invalid-cordova-configuration");var U=nt("BuildInfo.displayName",c),V={};if(sn().toLowerCase().match(/iphone|ipad|ipod/))V.ibi=A;else if(sn().toLowerCase().match(/android/))V.apn=A;else return tt(new R("operation-not-supported-in-this-environment"));U&&(V.appDisplayName=U),_=LW(_),V.sessionId=_;var fe=Nf(o.v,o.i,o.l,u,f,null,p,o.m,V,o.u,m,o.s);return o.ma().then(function(){var $e=o.h;return o.C.a.set(k_,I.w(),$e)}).then(function(){var $e=nt("cordova.plugins.browsertab.isAvailable",c);if(typeof $e!="function")throw new R("invalid-cordova-configuration");var Ne=null;$e(function(Ht){if(Ht){if(Ne=nt("cordova.plugins.browsertab.openUrl",c),typeof Ne!="function")throw new R("invalid-cordova-configuration");Ne(fe)}else{if(Ne=nt("cordova.InAppBrowser.open",c),typeof Ne!="function")throw new R("invalid-cordova-configuration");Ht=sn(),o.a=Ne(fe,Ht.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ht.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function FR(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function UR(o){return o.f||(o.f=o.ma().then(function(){return new Ee(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),jW(o)})})),o.f}function N_(o){var u=null;return AW(o.g).then(function(f){return u=f,f=o.g,rl(f.b,k_,f.a)}).then(function(){return u})}function jW(o){function u(I){p=!0,m&&m.cancel(),N_(o).then(function(A){var U=f;if(A&&I&&I.url){var V=null;U=RA(I.url),U.indexOf("/__/auth/callback")!=-1&&(V=lr(U),V=Yu(Gr(V,"firebaseError")||null),V=(V=typeof V=="object"?Ce(V):null)?new mi(A.c,A.b,null,null,V,null,A.T()):new mi(A.c,A.b,U,A.f,null,null,A.T())),U=V||f}FR(o,U)})}var f=new mi("unknown",null,null,null,new R("no-auth-event")),p=!1,m=qu(500).then(function(){return N_(o).then(function(){p||FR(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(I){if(I.toLowerCase().indexOf(nt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:I}),typeof _=="function")try{_(I)}catch(A){console.error(A)}},Gw||(Gw=new eq),tq(u)}e.Ea=function(o){this.b.push(o),UR(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new mi("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){pi(this.b,function(u){return u==o})};function FW(o){this.a=o,this.b=Mf()}var O_={name:"pendingRedirect",F:"session"};function UW(o){return o.b.set(O_,"pending",o.a)}function D_(o){return rl(o.b,O_,o.a)}function $W(o){return o.b.get(O_,o.a).then(function(u){return u=="pending"})}function mv(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new wv,this.C=new QR,this.g=new FW(HR(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=$R(this.D,this.v,this.m,Tt,this.J)}function $R(o,u,f,p,m){var _=X.SDK_VERSION||null;return Ew()?new jR(o,u,f,_,p,m):new hR(o,u,f,_,p,m)}mv.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=$R(this.D,this.v,this.m,null,this.J),this.i={}};function VR(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function BR(o){o.a.Yb()&&VR(o).o(function(u){var f=new mi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));M_(u)&&o.s(f)}),o.a.Ub()||KR(o.b)}function yv(o,u){yo(o.h,u)||o.h.push(u),o.f||$W(o.g).then(function(f){f?D_(o.g).then(function(){VR(o).o(function(p){var m=new mi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));M_(p)&&o.s(m)})}):BR(o)}).o(function(){BR(o)})}function L_(o,u){pi(o.h,function(f){return f==u})}mv.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return KR(this.b),u};var VW=new ns(2e3,1e4),BW=new ns(3e4,6e4);mv.prototype.ra=function(){return this.b.ra()};function zR(o,u,f,p,m,_,I){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,I)}function M_(o){return!!(o&&o.code=="auth/cordova-not-ready")}function qR(o,u,f,p,m){var _;return UW(o.g).then(function(){return o.a.Ob(u,f,p,m).o(function(I){if(M_(I))throw new R("operation-not-supported-in-this-environment");return _=I,D_(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new Ee(function(){}):D_(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function WR(o,u,f,p,m){return o.a.Pb(p,function(_){u.na(f,null,_,m)},VW.get())}var j_={};function HR(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function F_(o,u,f,p){var m=HR(u,f,p);return j_[m]||(j_[m]=new mv(o,u,f,p)),j_[m]}function wv(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}wv.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},wv.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(Ia(this,!0,null,o.a),oe()):u.Fa(f,p)?zW(this,o,u):tt(new R("invalid-auth-event")):(Ia(this,!1,null,null),oe())}else tt(new R("invalid-auth-event"))};function KR(o){o.g||(o.g=!0,Ia(o,!1,null,null))}function _v(o){o.g&&!o.i&&Ia(o,!1,null,null)}function zW(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,I=u.T(),A=!!u.c.match(/Redirect$/);f(p,m,I,_).then(function(U){Ia(o,A,U,null)}).o(function(U){Ia(o,A,null,U)})}function qW(o,u){if(o.b=function(){return tt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function GR(o,u){if(o.b=function(){return oe(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ia(o,u,f,p){u?p?qW(o,p):GR(o,f):GR(o,{user:null}),o.f=[],o.c=[]}wv.prototype.ra=function(){var o=this;return new Ee(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),WW(o))})};function WW(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=qu(BW.get()).then(function(){o.b||(o.g=!0,Ia(o,!0,null,u))})}function QR(){}QR.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),oe()):u.Fa(f,p)?HW(o,u):tt(new R("invalid-auth-event"))}else tt(new R("invalid-auth-event"))};function HW(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function YR(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function U_(o,u){this.a=u,te(this,"verificationId",o)}U_.prototype.confirm=function(o){return o=jA(this.verificationId,o),this.a(o)};function $_(o,u,f,p){return new bo(o).gb(u,f).then(function(m){return new U_(m,p)})}function KW(o){var u=EA(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vn(this,{token:o,expirationTime:mf(1e3*u.exp),authTime:mf(1e3*u.auth_time),issuedAtTime:mf(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function V_(o,u,f){var p=u&&u[JR];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Jo(u),this.g=f,this.c=new Qp(null,p),this.b=[];var m=this;Me(u[XR]||[],function(_){(_=Nw(_))&&m.b.push(_)}),te(this,"auth",this.a),te(this,"session",this.c),te(this,"hints",this.b)}var XR="mfaInfo",JR="mfaPendingCredential";V_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=Jo(u.f);return delete p[XR],delete p[JR],sr(p,f),u.g(p)})};function B_(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new V_(o,u,f),te(this,"resolver",this.b)}L(B_,R);function ZR(o,u,f){if(o&&x(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new B_(u,o.serverResponse,f,o.message)}catch{}return null}function eP(){}eP.prototype.tb=function(o,u,f){return u.type==bf?GW(this,o,u,f):QW(this,o,u)};function GW(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),sr(m,{phoneVerificationInfo:Ef(o.a)}),Se(u,jq,m)})}function QW(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},sr(p,{phoneVerificationInfo:Ef(o.a)}),Se(u,Fq,p)})}function z_(o){te(this,"factorId",o.fa),this.a=o}L(z_,eP);function tP(o){if(z_.call(this,o),this.a.fa!=bo.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(tP,z_);function il(o,u){ur.call(this,o);for(var f in u)this[f]=u[f]}L(il,ur);function q_(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),Kr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Me(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[Dw]=p.uid),p.displayName&&(_[aA]=p.displayName),p.enrollmentTime&&(_[Ow]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[Lw]=p.phoneNumber);try{m=new yf(_)}catch{}p=m}else p=null;p&&f.push(p)}),bv(this,f)}function YW(o){var u=[];return Me(o.mfaInfo||[],function(f){(f=Nw(f))&&u.push(f)}),u}e=q_.prototype,e.yc=function(o){bv(this,YW(o.hd))};function bv(o,u){o.b=u,te(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Qp(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(m){return o.tb(p,m,u)}).then(function(m){return Wi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return Se(p,iW,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=mo(u.b,function(I){return I.uid!=f});return bv(u,_),Wi(u.a,m),u.a.reload().o(function(I){if(I.code!="auth/user-token-expired")throw I})})},e.w=function(){return{multiFactor:{enrolledFactors:Ui(this.b,function(o){return o.w()})}}};function W_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}W_.prototype.start=function(){this.a=this.c,H_(this,!0)};function XW(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function H_(o,u){o.stop(),o.b=qu(XW(o,u)).then(function(){return k6()}).then(function(){return o.h()}).then(function(){H_(o,!0)}).o(function(f){o.i(f)&&H_(o,!1)})}W_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function K_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}K_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function nP(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function rP(o,u){o.b=Kp(u[wi]||""),o.a=u.refreshToken,u=u.expiresIn,nP(o,typeof u<"u"?Number(u):void 0)}function JW(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function ZW(o,u){return bq(o.f,u).then(function(f){return o.b=Kp(f.access_token),o.a=f.refresh_token,nP(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}K_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?tt(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?ZW(this,{grant_type:"refresh_token",refresh_token:this.a}):oe(null):oe({accessToken:this.b.toString(),refreshToken:this.a})};function Ev(o,u){this.a=o||null,this.b=u||null,Vn(this,{lastSignInTime:mf(u||null),creationTime:mf(o||null)})}function eH(o){return new Ev(o.a,o.b)}Ev.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function tH(o,u,f,p,m,_){Vn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function Cr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=X.SDK_VERSION?Gu(X.SDK_VERSION):null;this.a=new yi(this.l,le(Tt),p),(this.u=o.emulatorConfig||null)&&cv(this.a,this.u),this.h=new K_(this.a),eb(this,u[wi]),rP(this.h,u),te(this,"refreshToken",this.h.a),oP(this,f||{}),$n.call(this),this.P=!1,this.s&&va()&&(this.b=F_(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=nH(this),this.ba=O(this.ib,this);var m=this;this.za=null,this.Pa=function(_){m.xa(_.h)},this.qa=null,this.Ba=function(_){G_(m,_.c)},this.$=null,this.aa=[],this.Oa=function(_){jf(m,_.f)},this.ja=null,this.S=new q_(this,f),te(this,"multiFactor",this.S)}L(Cr,$n),Cr.prototype.xa=function(o){this.za=o,ZA(this.a,o)};function G_(o,u){o.u=u,cv(o.a,u),o.b&&(u=o.b,o.b=F_(o.s,o.l,o.m,o.u),o.P&&(L_(u,o),yv(o.b,o)))}Cr.prototype.la=function(){return this.za};function Q_(o,u){o.qa&&Ir(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&Kr(u,"languageCodeChanged",o.Pa)}function Y_(o,u){o.$&&Ir(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&Kr(u,"emulatorConfigChanged",o.Ba)}function jf(o,u){o.aa=u,eR(o.a,X.SDK_VERSION?Gu(X.SDK_VERSION,o.aa):null)}Cr.prototype.Ga=function(){return aa(this.aa)};function X_(o,u){o.ja&&Ir(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&Kr(u,"frameworkChanged",o.Oa)}Cr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function J_(o){try{return X.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function nH(o){return new W_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function iP(o){o.J||o.D.b||(o.D.start(),Ir(o,"tokenChanged",o.ba),Kr(o,"tokenChanged",o.ba))}function Z_(o){Ir(o,"tokenChanged",o.ba),o.D.stop()}function eb(o,u){o.Aa=u,te(o,"_lat",u)}function rH(o,u){pi(o.W,function(f){return f==u})}function xa(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return Ek(u).then(function(){return o})}function Ff(o){o.b&&!o.P&&(o.P=!0,yv(o.b,o))}function oP(o,u){Vn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Ev(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}te(Cr.prototype,"providerId","firebase");function sP(){}function tb(o){return oe().then(function(){if(o.J)throw new R("app-deleted")})}function nb(o){return Ui(o.providerData,function(u){return u.providerId})}function rb(o,u){u&&(aP(o,u.providerId),o.providerData.push(u))}function aP(o,u){pi(o.providerData,function(f){return f.providerId==u})}function os(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&te(o,u,f)}function Sv(o,u){o!=u&&(Vn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?te(o,"metadata",eH(u.metadata)):te(o,"metadata",new Ev),Me(u.providerData,function(f){rb(o,f)}),JW(o.h,u.h),te(o,"refreshToken",o.h.a),bv(o.S,u.S.b))}e=Cr.prototype,e.reload=function(){var o=this;return Mt(this,tb(this).then(function(){return ib(o).then(function(){return xa(o)}).then(sP)}))};function ib(o){return o.I().then(function(u){var f=o.isAnonymous;return iH(o,u).then(function(){return f||os(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new KW(u)})},e.I=function(o){var u=this;return Mt(this,tb(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(eb(u,f.accessToken),u.dispatchEvent(new il("tokenChanged"))),os(u,"refreshToken",f.refreshToken),f.accessToken}))};function Wi(o,u){u[wi]&&o.Aa!=u[wi]&&(rP(o.h,u),o.dispatchEvent(new il("tokenChanged")),eb(o,u[wi]),os(o,"refreshToken",o.h.a))}function iH(o,u){return Se(o.a,Uq,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],oP(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=oH(o),f=0;f<u.length;f++)rb(this,u[f]);os(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:o}))};function oH(o){return(o=o.providerUserInfo)&&o.length?Ui(o,function(u){return new tH(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Cw("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return Mt(this,o.c(this.a,this.uid).then(function(p){return Wi(u,p),f=Uf(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Tv(o,u){return ib(o).then(function(){if(yo(nb(o),u))return xa(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return Cw("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return Mt(this,Tv(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Uf(u,p,"link"),uP(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Mt(this,Tv(this,"phone").then(function(){return $_(J_(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return Mt(this,oe().then(function(){return $_(J_(f),o,u,O(f.ub,f))}),!0)};function Uf(o,u,f){var p=Hw(u);return u=TA(u),zi({user:o,credential:p,additionalUserInfo:u,operationType:f})}function uP(o,u){return Wi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return Mt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Wi(u,f),u.reload()}))},e.ed=function(o){var u=this;return Mt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Wi(u,f),u.reload()}))},e.Db=function(o){var u=this;return Mt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Wi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return tb(this);var u=this;return Mt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Wi(u,f),os(u,"displayName",f.displayName||null),os(u,"photoURL",f.photoUrl||null),Me(u.providerData,function(p){p.providerId==="password"&&(te(p,"displayName",u.displayName),te(p,"photoURL",u.photoURL))}),xa(u)}).then(sP))},e.cd=function(o){var u=this;return Mt(this,ib(this).then(function(f){return yo(nb(u),o)?kq(u.a,f,[o]).then(function(p){var m={};return Me(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),Me(nb(u),function(_){m[_]||aP(u,_)}),m[bo.PROVIDER_ID]||te(u,"phoneNumber",null),xa(u)}):xa(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return Mt(this,this.I().then(function(u){return Se(o.a,Oq,{idToken:u})}).then(function(){o.dispatchEvent(new il("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");Q_(o,null),Y_(o,null),X_(o,null),o.N=[],o.J=!0,Z_(o),te(o,"refreshToken",null),o.b&&L_(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return lP(this,"linkViaPopup",o,function(){return Tv(u,o.providerId).then(function(){return xa(u)})},!1)},e.Nc=function(o){return lP(this,"reauthViaPopup",o,function(){return oe()},!0)};function lP(o,u,f,p,m){if(!va())return tt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return tt(o.i);var _=$w(f.providerId),I=ga(o.uid+":::"),A=null;(!vf()||Sw())&&o.s&&f.isOAuthProvider&&(A=Nf(o.s,o.l,o.m,u,f,null,I,X.SDK_VERSION||null,null,null,o.tenantId,o.u));var U=Jk(A,_&&_.va,_&&_.ua);return p=p().then(function(){if(fP(o),!m)return o.I().then(function(){})}).then(function(){return zR(o.b,U,u,f,I,!!A,o.tenantId)}).then(function(){return new Ee(function(V,fe){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=V,o.C=fe,o.g=I,o.c=WR(o.b,o,u,U,I)})}).then(function(V){return U&&pa(U),V?zi(V):null}).o(function(V){throw U&&pa(U),V}),Mt(o,p,m)}e.Fc=function(o){var u=this;return cP(this,"linkViaRedirect",o,function(){return Tv(u,o.providerId)},!1)},e.Oc=function(o){return cP(this,"reauthViaRedirect",o,function(){return oe()},!0)};function cP(o,u,f,p,m){if(!va())return tt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return tt(o.i);var _=null,I=ga(o.uid+":::");return p=p().then(function(){if(fP(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=I,xa(o)}).then(function(A){return o.ha&&(A=o.ha,A=A.b.set(ob,o.w(),A.a)),A}).then(function(){return qR(o.b,u,f,I,o.tenantId)}).o(function(A){if(_=A,o.ha)return dP(o.ha);throw _}).then(function(){if(_)throw _}),Mt(o,p,m)}function fP(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(I){return d_(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:I})}).then(function(I){return _=Uf(m,I,"link"),uP(m,I)}).then(function(){return _}),Mt(this,f)},e.Mb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,I=oe().then(function(){return Ju(p_(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(A){return _=Uf(m,A,"reauthenticate"),Wi(m,A),m.i=null,m.reload()}).then(function(){return _});return Mt(this,I,!0)},e.vb=function(o){var u=this,f=null;return Mt(this,this.I().then(function(p){return f=p,typeof o>"u"||ua(o)?{}:Wp(new qp(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,p=null;return Mt(this,this.I().then(function(m){return p=m,typeof u>"u"||ua(u)?{}:Wp(new qp(u))}).then(function(m){return f.a.Fb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Mt(o,u,f){var p=sH(o,u,f);return o.N.push(p),p.oa(function(){Cp(o.N,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=ZR(m.w(),J_(o),O(o.jc,o))),_||m})}e.jc=function(o){var u=null,f=this;return o=Ju(oe(o),f.uid).then(function(p){return u=Uf(f,p,"reauthenticate"),Wi(f,p),f.i=null,f.reload()}).then(function(){return u}),Mt(this,o,!0)};function sH(o,u,f){return o.i&&!f?(u.cancel(),tt(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new il("userInvalidated")),o.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&sr(o,this.metadata.w()),Me(this.providerData,function(u){o.providerData.push(P6(u))}),sr(o,this.S.w()),o};function hP(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[wi]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new Cr(u,f,o);return o.providerData&&Me(o.providerData,function(_){_&&rb(m,zi(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function aH(o,u,f,p){var m=new Cr(o,u);return f&&(m.ha=f),p&&jf(m,p),m.reload().then(function(){return m})}function uH(o,u,f,p){var m=o.h,_={};return _[wi]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new Cr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&jf(u,p),Sv(u,o),u}function lH(o){this.a=o,this.b=Mf()}var ob={name:"redirectUser",F:"session"};function dP(o){return rl(o.b,ob,o.a)}function cH(o,u){return o.b.get(ob,o.a).then(function(f){return f&&u&&(f.authDomain=u),hP(f||{})})}function sb(o){this.a=o,this.b=Mf(),this.c=null,this.f=fH(this),this.b.addListener(Hi("local"),this.a,O(this.g,this))}sb.prototype.g=function(){var o=this,u=Hi("local");ol(this,function(){return oe().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return ab(o,"local").then(function(){o.c=u})})})};function ab(o,u){var f=[],p;for(p in tl)tl[p]!==u&&f.push(rl(o.b,Hi(tl[p]),o.a));return f.push(rl(o.b,ub,o.a)),e6(f)}function fH(o){var u=Hi("local"),f=Hi("session"),p=Hi("none");return xW(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(I){return I?u:o.b.get(ub,o.a).then(function(A){return A?Hi(A):u})})})}).then(function(m){return o.c=m,ab(o,m.F)}).o(function(){o.c||(o.c=u)})}var ub={name:"persistence",F:"session"};function Hi(o){return{name:"authUser",F:o}}sb.prototype.yb=function(o){var u=null,f=this;return IW(o),ol(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,ab(f,o)}).then(function(){if(f.c=Hi(o),u)return f.b.set(f.c,u,f.a)}):oe()})};function hH(o){return ol(o,function(){return o.b.set(ub,o.c.F,o.a)})}function pP(o,u){return ol(o,function(){return o.b.set(o.c,u.w(),o.a)})}function vP(o){return ol(o,function(){return rl(o.b,o.c,o.a)})}function gP(o,u,f){return ol(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),hP(p||{})})})}function ol(o,u){return o.f=o.f.then(u,u),o.f}function _i(o){if(this.l=!1,te(this,"settings",new YR),te(this,"app",o),qe(this).options&&qe(this).options.apiKey)o=X.SDK_VERSION?Gu(X.SDK_VERSION):null,this.a=new yi(qe(this).options&&qe(this).options.apiKey,le(Tt),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=X.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=X.INTERNAL.createSubscribe(O(this.Ac,this)),sl(this,null),this.i=new sb(qe(this).options.apiKey+":"+qe(this).name),this.D=new lH(qe(this).options.apiKey+":"+qe(this).name),this.$=dt(this,yH(this)),this.h=dt(this,wH(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,vH(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,$n.call(this),pH(this),this.J=[],this.R=null}L(_i,$n);function mP(o){ur.call(this,"languageCodeChanged"),this.h=o}L(mP,ur);function yP(o){ur.call(this,"emulatorConfigChanged"),this.c=o}L(yP,ur);function wP(o){ur.call(this,"frameworkChanged"),this.f=o}L(wP,ur),e=_i.prototype,e.yb=function(o){return o=this.i.yb(o),dt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,ZA(this.a,this.aa),this.dispatchEvent(new mP(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,dH(u),this.R={url:o,ec:u},this.settings.jb=!0,cv(this.a,this.R),this.dispatchEvent(new yP(this.R))}};function dH(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Vp().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),eR(this.a,X.SDK_VERSION?Gu(X.SDK_VERSION,this.J):null),this.dispatchEvent(new wP(this.J))},e.Ga=function(){return aa(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function pH(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=lr(this.R.url);u=zi({protocol:u.c,host:u.a,port:u.g,options:zi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:qe(this).options.apiKey,authDomain:qe(this).options.authDomain,appName:qe(this).name,currentUser:pe(this)&&pe(this).w()}};function lb(o){return o.Oa||tt(new R("auth-domain-config-required"))}function vH(o){var u=qe(o).options.authDomain,f=qe(o).options.apiKey;u&&va()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=F_(u,f,qe(o).name,o.R),yv(o.b,o),pe(o)&&Ff(pe(o)),o.m){Ff(o.m);var p=o.m;p.xa(o.la()),Q_(p,o),p=o.m,jf(p,o.J),X_(p,o),p=o.m,G_(p,o.R),Y_(p,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ca(m,h_(m.a,_))})},e.Xc=function(o){if(!va())return tt(new R("operation-not-supported-in-this-environment"));var u=this,f=$w(o.providerId),p=ga(),m=null;(!vf()||Sw())&&qe(this).options.authDomain&&o.isOAuthProvider&&(m=Nf(qe(this).options.authDomain,qe(this).options.apiKey,qe(this).name,"signInViaPopup",o,null,p,X.SDK_VERSION||null,null,null,this.T(),this.R));var _=Jk(m,f&&f.va,f&&f.ua);return f=lb(this).then(function(I){return zR(I,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new Ee(function(I,A){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=I,u.C=A,u.g=p,u.c=WR(u.b,u,"signInViaPopup",_,p)})}).then(function(I){return _&&pa(_),I?zi(I):null}).o(function(I){throw _&&pa(_),I}),dt(this,f)},e.Yc=function(o){if(!va())return tt(new R("operation-not-supported-in-this-environment"));var u=this,f=lb(this).then(function(){return hH(u.i)}).then(function(){return qR(u.b,"signInViaRedirect",o,void 0,u.T())});return dt(this,f)};function _P(o){if(!va())return tt(new R("operation-not-supported-in-this-environment"));var u=lb(o).then(function(){return o.b.ra()}).then(function(f){return f?zi(f):null});return dt(o,u)}e.ra=function(){var o=this;return _P(this).then(function(u){return o.b&&_v(o.b.b),u}).o(function(u){throw o.b&&_v(o.b.b),u})},e.dd=function(o){if(!o)return tt(new R("null-user"));if(this.S!=o.tenantId)return tt(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=qe(this).options.apiKey,f.authDomain=qe(this).options.authDomain,f.appName=qe(this).name;var p=uH(o,f,u.D,u.Ga());return dt(this,this.h.then(function(){if(qe(u).options.apiKey!=o.l)return p.reload()}).then(function(){return pe(u)&&o.uid==pe(u).uid?(Sv(pe(u),o),u.da(o)):(sl(u,p),Ff(p),u.da(p))}).then(function(){$f(u)}))};function gH(o,u){var f={};return f.apiKey=qe(o).options.apiKey,f.authDomain=qe(o).options.authDomain,f.appName=qe(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return aH(f,u,o.D,o.Ga())}).then(function(p){return pe(o)&&p.uid==pe(o).uid?(Sv(pe(o),p),o.da(p)):(sl(o,p),Ff(p),o.da(p))}).then(function(){$f(o)})}function sl(o,u){pe(o)&&(rH(pe(o),o.Ba),Ir(pe(o),"tokenChanged",o.qa),Ir(pe(o),"userDeleted",o.za),Ir(pe(o),"userInvalidated",o.Aa),Z_(pe(o))),u&&(u.W.push(o.Ba),Kr(u,"tokenChanged",o.qa),Kr(u,"userDeleted",o.za),Kr(u,"userInvalidated",o.Aa),0<o.u&&iP(u)),te(o,"currentUser",u),u&&(u.xa(o.la()),Q_(u,o),jf(u,o.J),X_(u,o),G_(u,o.R),Y_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&_v(o.b.b),pe(o)?(sl(o,null),vP(o.i).then(function(){$f(o)})):oe()});return dt(this,u)};function mH(o){var u=cH(o.D,qe(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),dP(o.D)});return dt(o,u)}function yH(o){var u=qe(o).options.authDomain,f=mH(o).then(function(){return gP(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return pP(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:vP(o.i)})):null}).then(function(p){sl(o,p||null)});return dt(o,f)}function wH(o){return o.$.then(function(){return _P(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Hi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return gP(this.i,qe(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=pe(o)&&u){f=pe(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Sv(pe(o),u),pe(o).I();(pe(o)||u)&&(sl(o,u),u&&(Ff(u),u.ha=o.D),o.b&&yv(o.b,o),$f(o))}})},e.da=function(o){return pP(this.i,o)},e.mc=function(){$f(this),this.da(pe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ca(o,u){var f=null,p=null;return dt(o,u.then(function(m){return f=Hw(m),p=TA(m),gH(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=ZR(m.w(),o,O(o.kc,o))),_||m}).then(function(){return zi({user:pe(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ca(u,oe(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(pe(u))})},e.Ac=function(o){var u=this;_H(this,function(){o.next(pe(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(pe(p)):typeof o.next=="function"&&o.next(pe(p))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(pe(p)):typeof o.next=="function"&&o.next(pe(p))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return pe(u)?pe(u).I(o).then(function(p){return{accessToken:p}}):null});return dt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ca(u,Se(u.a,eW,{token:o}))}).then(function(f){var p=f.user;return os(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ca(f,Se(f.a,lR,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ca(f,Se(f.a,Pq,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ca(u,o.ka(u.a))})},e.Sc=function(o){return Cw("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=pe(o);if(u&&u.isAnonymous){var f=zi({providerId:null,isNewUser:!1});return zi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ca(o,o.a.Ab()).then(function(p){var m=p.user;return os(m,"isAnonymous",!0),o.da(m),p})})};function qe(o){return o.app}function pe(o){return o.currentUser}e.getUid=function(){return pe(this)&&pe(this).uid||null};function Iv(o){return pe(o)&&pe(o)._lat||null}function $f(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Iv(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Iv(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&pe(this)&&iP(pe(this))},e.Pc=function(o){var u=this;Me(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&pe(this)&&Z_(pe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),dt(this,this.h.then(function(){u.l||yo(u.s,o)&&o(Iv(u))}))},e.removeAuthTokenListener=function(o){pi(this.s,function(u){return u==o})};function _H(o,u){o.N.push(u),dt(o,o.h.then(function(){!o.l&&yo(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Iv(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Hi("local"),o.a,this.ja)),this.b&&(L_(this.b,this),_v(this.b.b)),Promise.resolve()};function dt(o,u){return o.P.push(u),u.oa(function(){Cp(o.P,u)}),u}e.hc=function(o){return dt(this,Eq(this.a,o))},e.Bc=function(o){return!!Ww(o)},e.xb=function(o,u){var f=this;return dt(this,oe().then(function(){var p=new qp(u);if(!p.c)throw new R("argument-error",Fw+" must be true when sending sign in link to email");return Wp(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return dt(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return dt(this,this.a.Sa(o).then(function(u){return new O6(u)}))},e.kb=function(o){return dt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return dt(this,oe().then(function(){return typeof u>"u"||ua(u)?{}:Wp(new qp(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.Wc=function(o,u){return dt(this,$_(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return dt(this,oe().then(function(){var p=u||pf(),m=MA(o,p);if(p=Ww(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(m)}))};function Vf(){}Vf.prototype.render=function(){},Vf.prototype.reset=function(){},Vf.prototype.getResponse=function(){},Vf.prototype.execute=function(){};function al(){this.a={},this.b=1e12}var cb=null;al.prototype.render=function(o,u){return this.a[this.b.toString()]=new xv(o,u),this.b++},al.prototype.reset=function(o){var u=fb(this,o);o=bP(o),u&&o&&(u.delete(),delete this.a[o])},al.prototype.getResponse=function(o){return(o=fb(this,o))?o.getResponse():null},al.prototype.execute=function(o){(o=fb(this,o))&&o.execute()};function fb(o,u){return(u=bP(u))&&o.a[u]||null}function bP(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function xv(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=af(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Kr(this.f,"click",this.i)}xv.prototype.getResponse=function(){return hb(this),this.b},xv.prototype.execute=function(){hb(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=C6();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},xv.prototype.delete=function(){hb(this),this.g=!0,clearTimeout(this.a),this.a=null,Ir(this.f,"click",this.i)};function hb(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function db(){}te(db,"FACTOR_ID","phone");function pb(){}pb.prototype.g=function(){return cb||(cb=new al),oe(cb)},pb.prototype.c=function(){};var vb=null;function gb(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bH=new $i(kp,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),EH=new ns(3e4,6e4);gb.prototype.g=function(o){var u=this;return new Ee(function(f,p){var m=setTimeout(function(){p(new R("network-request-failed"))},EH.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var I=c.grecaptcha.render;c.grecaptcha.render=function(A,U){return A=I(A,U),u.b++,A},clearTimeout(m),f(c.grecaptcha)}else clearTimeout(m),p(new R("internal-error"));delete c[u.a]};var _=X0(bH,{onload:u.a,hl:o||""});oe(o_(_)).o(function(){clearTimeout(m),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(c.grecaptcha)})},gb.prototype.c=function(){this.b--};var mb=null;function yb(o,u,f,p,m,_,I){if(te(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,I?(vb||(vb=new pb),I=vb):(mb||(mb=new gb),I=mb),this.m=I,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[TP])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[SH]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!af(u)||!this.i&&af(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new yi(o,_||null,m||null),this.u=p||function(){return null};var A=this;this.l=[];var U=this.a[EP];this.a[EP]=function(fe){if(IP(A,fe),typeof U=="function")U(fe);else if(typeof U=="string"){var $e=nt(U,c);typeof $e=="function"&&$e(fe)}};var V=this.a[SP];this.a[SP]=function(){if(IP(A,null),typeof V=="function")V();else if(typeof V=="string"){var fe=nt(V,c);typeof fe=="function"&&fe()}}}var EP="callback",SP="expired-callback",TP="sitekey",SH="size";function IP(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function TH(o,u){pi(o.l,function(f){return f==u})}function wb(o,u){return o.h.push(u),u.oa(function(){Cp(o.h,u)}),u}e=yb.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=wb(this,oe().then(function(){if(Bp()&&!gi())return Vp();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Se(o.s,Wq,{})}).then(function(u){o.a[TP]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Cv(this);var o=this;return wb(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=af(u);u=Y5("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Cv(this);var o=this;return wb(this,this.render().then(function(u){return new Ee(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(TH(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Cv(this),this.c!==null&&this.g.reset(this.c)};function Cv(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Cv(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=af(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function _b(o,u,f){var p=!1;try{this.b=f||X.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=X.SDK_VERSION?Gu(X.SDK_VERSION,_):null,yb.call(this,f,o,u,function(){try{var I=m.b.auth().la()}catch{I=null}return I},_,le(Tt),p)}L(_b,yb);function xP(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,I=0;I<u.length;I++)if(u[I].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=CP.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=CP[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var CP="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ee(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function bb(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function It(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:x}}function ul(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Ki(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function IH(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function xH(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof _i)}}}function CH(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof X.app.App)}}}function ss(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function kP(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function ll(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Eb(o,u){return x(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function AP(o){return x(o)&&typeof o.uid=="string"}function kv(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function yt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function at(o,u){for(var f in u){var p=u[f].name;o[p]=PP(p,o[f],u[f].j)}}function RP(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:j(function(m){return this[m]},f),set:j(function(m,_,I,A){xP(m,[I],[A],!0),this[_]=A},p,f,u[f].lb),enumerable:!0})}}function wt(o,u,f,p){o[u]=PP(u,f,p)}function PP(o,u,f){function p(){var I=Array.prototype.slice.call(arguments);return xP(m,f,I),u.apply(this,I)}if(!f)return u;var m=kH(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function kH(o){return o=o.split("."),o[o.length-1]}at(_i.prototype,{kb:{name:"applyActionCode",j:[ee("code")]},Sa:{name:"checkActionCode",j:[ee("code")]},ob:{name:"confirmPasswordReset",j:[ee("code"),ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ee("email"),ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ee("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[yt(It(),ul(),"nextOrObserver"),ul("opt_error",!0),ul("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[yt(It(),ul(),"nextOrObserver"),ul("opt_error",!0),ul("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ee("email"),yt(It("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ee("email"),It("actionCodeSettings")]},yb:{name:"setPersistence",j:[ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ss()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ss()]},Tc:{name:"signInWithCustomToken",j:[ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ee("email"),ee("password")]},Vc:{name:"signInWithEmailLink",j:[ee("email"),ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ee("phoneNumber"),kv()]},Xc:{name:"signInWithPopup",j:[ll()]},Yc:{name:"signInWithRedirect",j:[ll()]},dd:{name:"updateCurrentUser",j:[yt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Cr)}}}(),Ki(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ee("url"),It("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ee("code")]}}),RP(_i.prototype,{lc:{name:"languageCode",lb:yt(ee(),Ki(),"languageCode")},ti:{name:"tenantId",lb:yt(ee(),Ki(),"tenantId")}}),_i.Persistence=tl,_i.Persistence.LOCAL="local",_i.Persistence.SESSION="session",_i.Persistence.NONE="none",at(Cr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[bb("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[bb("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ss()]},rb:{name:"linkWithCredential",j:[ss()]},Dc:{name:"linkWithPhoneNumber",j:[ee("phoneNumber"),kv()]},Ec:{name:"linkWithPopup",j:[ll()]},Fc:{name:"linkWithRedirect",j:[ll()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ss()]},ub:{name:"reauthenticateWithCredential",j:[ss()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ee("phoneNumber"),kv()]},Nc:{name:"reauthenticateWithPopup",j:[ll()]},Oc:{name:"reauthenticateWithRedirect",j:[ll()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[yt(It("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ee(null,!0)]},cd:{name:"unlink",j:[ee("provider")]},Cb:{name:"updateEmail",j:[ee("email")]},Db:{name:"updatePassword",j:[ee("password")]},ed:{name:"updatePhoneNumber",j:[ss("phone")]},Eb:{name:"updateProfile",j:[It("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ee("email"),yt(It("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]}}),at(al.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),at(Vf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),at(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),RP(YR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:bb("appVerificationDisabledForTesting")}}),at(U_.prototype,{confirm:{name:"confirm",j:[ee("verificationCode")]}}),wt(Xu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[X6,J6,Z6,Y6],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[yt(ee(),It(),"json")]),wt(Qr,"credential",function(o,u){return new rs(o,u)},[ee("email"),ee("password")]),at(rs.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),at(wa.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[It("customOAuthParameters")]}}),wt(wa,"credential",NA,[yt(ee(),It(),"token")]),wt(Qr,"credentialWithLink",MA,[ee("email"),ee("emailLink")]),at(_a.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[It("customOAuthParameters")]}}),wt(_a,"credential",OA,[yt(ee(),It(),"token")]),at(ba.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[It("customOAuthParameters")]}}),wt(ba,"credential",DA,[yt(ee(),yt(It(),Ki()),"idToken"),yt(ee(),Ki(),"accessToken",!0)]),at(Zu.prototype,{Ka:{name:"setCustomParameters",j:[It("customOAuthParameters")]}}),wt(Zu,"credential",LA,[yt(ee(),It(),"token"),ee("secret",!0)]),at(xr.prototype,{Ca:{name:"addScope",j:[ee("scope")]},credential:{name:"credential",j:[yt(ee(),yt(It(),Ki()),"optionsOrIdToken"),yt(ee(),Ki(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[It("customOAuthParameters")]}}),at(_o.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),at(ma.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),wt(bo,"credential",jA,[ee("verificationId"),ee("verificationCode")]),at(bo.prototype,{gb:{name:"verifyPhoneNumber",j:[yt(ee(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Eb(f.session,bf)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Eb(f.session,Yp)&&AP(f.multiFactorHint):f.session&&f.multiFactorUid?Eb(f.session,Yp)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),kv()]}}),at(is.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),at(R.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),at(Sf.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),at(Qw.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),at(B_.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),at(V_.prototype,{Rc:{name:"resolveSignIn",j:[kP()]}}),at(q_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[kP(),ee("displayName",!0)]},bd:{name:"unenroll",j:[yt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:AP},ee(),"multiFactorInfoIdentifier")]}}),at(_b.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),wt(jw,"parseLink",pA,[ee("link")]),wt(db,"assertion",function(o){return new tP(o)},[ss("phone")]),function(){if(typeof X<"u"&&X.INTERNAL&&X.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Mw,VERIFY_AND_CHANGE_EMAIL:wf,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_i,AuthCredential:Xu,Error:R};wt(o,"EmailAuthProvider",Qr,[]),wt(o,"FacebookAuthProvider",wa,[]),wt(o,"GithubAuthProvider",_a,[]),wt(o,"GoogleAuthProvider",ba,[]),wt(o,"TwitterAuthProvider",Zu,[]),wt(o,"OAuthProvider",xr,[ee("providerId")]),wt(o,"SAMLAuthProvider",PA,[ee("providerId")]),wt(o,"PhoneAuthProvider",bo,[xH()]),wt(o,"RecaptchaVerifier",_b,[yt(ee(),IH(),"recaptchaContainer"),It("recaptchaParameters",!0),CH()]),wt(o,"ActionCodeURL",jw,[]),wt(o,"PhoneMultiFactorGenerator",db,[]),X.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new _i(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),X.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),X.registerVersion("@firebase/auth","0.16.8"),X.INTERNAL.extendNamespace({User:Cr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var K9={},G9="@firebase/database",Q9="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jU="";function FU(e){jU=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y9=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$t(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ad(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X9=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return $r(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UU=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Y9(t)}}catch{}return new X9},Ua=UU("localStorage"),JS=UU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=new xu("@firebase/database"),$U=function(){var e=1;return function(){return e++}}(),VU=function(e){var t=p9(e),n=new c9;n.update(t);var r=n.digest();return uc.encodeByteArray(r)},Gd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Gd.apply(null,i):typeof i=="object"?n+=$t(i):n+=i,n+=" "}return n},Xa=null,wO=!0,BU=function(e,t){H(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Hl.logLevel=be.VERBOSE,Xa=Hl.log.bind(Hl),t&&JS.set("logging_enabled",!0)):typeof e=="function"?Xa=e:(Xa=null,JS.remove("logging_enabled"))},Xt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(wO===!0&&(wO=!1,Xa===null&&JS.get("logging_enabled")===!0&&BU(!0)),Xa){var n=Gd.apply(null,e);Xa(n)}},Qd=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Xt.apply(void 0,me([e],dn(t)))}},ZS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Gd.apply(void 0,me([],dn(e)));Hl.error(n)},lo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Gd.apply(void 0,me([],dn(e)));throw Hl.error(n),new Error(n)},mn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Gd.apply(void 0,me([],dn(e)));Hl.warn(n)},J9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Oy=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Z9=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zo="[MIN_NAME]",co="[MAX_NAME]",Cu=function(e,t){if(e===t)return 0;if(e===zo||t===co)return-1;if(t===zo||e===co)return 1;var n=ym(e),r=ym(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},e7=function(e,t){return e===t?0:e<t?-1:1},Yf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$t(t))},vI=function(e){if(typeof e!="object"||e===null)return $t(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=$t(t[i]),r+=":",r+=vI(e[t[i]]);return r+="}",r},zU=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var qU=function(e){H(!Oy(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},t7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},n7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function r7(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var i7=new RegExp("^-?(0*)\\d{1,10}$"),WU=-2147483648,gI=2147483647,ym=function(e){if(i7.test(e)){var t=Number(e);if(t>=WU&&t<=gI)return t}return null},Bc=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw mn("Exception was thrown by user callback.",n),t},Math.floor(0))}},o7=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xh=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s7=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){mn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a7=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(t)},e}(),Ch=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mI="5",HU="v",KU="s",GU="r",QU="f",YU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XU="ls",u7="p",eT="ac",JU="websocket",ZU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function l7(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function e$(e,t,n){H(typeof t=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");var r;if(t===JU)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ZU)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);l7(e)&&(n.ns=e.namespace);var i=[];return qt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),$r(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return xU(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iE={},oE={};function wI(e){var t=e.toString();return iE[t]||(iE[t]=new c7),iE[t]}function f7(e,t){var n=e.toString();return oE[n]||(oE[n]=t()),oE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h7=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(d){l[d]&&Bc(function(){r.onMessage_(l[d])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _O="start",d7="close",p7="pLPCommand",v7="pRTLPCB",t$="id",n$="pw",r$="ser",g7="cb",m7="seg",y7="ts",w7="d",_7="dframe",i$=1870,o$=30,b7=i$-o$,E7=25e3,S7=3e4,_I=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qd(t),this.stats_=wI(n),this.urlFn=function(h){return c.appCheckToken&&(h[eT]=c.appCheckToken),e$(n,ZU,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new h7(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(S7)),Z9(function(){if(!r.isClosed_){r.scriptTagHolder=new T7(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=dn(a,5),h=c[0],d=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===_O)r.id=d,r.password=v;else if(h===d7)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=dn(a,2),h=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[_O]="t",i[r$]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[g7]=r.scriptTagHolder.uniqueCallbackIdentifier),i[HU]=mI,r.transportSessionId&&(i[KU]=r.transportSessionId),r.lastSessionId&&(i[XU]=r.lastSessionId),r.applicationId&&(i[u7]=r.applicationId),r.appCheckToken&&(i[eT]=r.appCheckToken),typeof location<"u"&&location.hostname&&YU.test(location.hostname)&&(i[GU]=QU);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!t7()&&!n7()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=QQ(n),i=zU(r,b7),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[_7]="t",r[t$]=t,r[n$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=$t(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),T7=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$U(),window[p7+this.uniqueCallbackIdentifier]=t,window[v7+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Xt("frame writing exception"),c.stack&&Xt(c.stack),Xt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Xt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[t$]=this.myID,t[n$]=this.myPW,t[r$]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+o$+r.length<=i$){var a=this.pendingSegs.shift();r=r+"&"+m7+i+"="+a.seg+"&"+y7+i+"="+a.ts+"&"+w7+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(E7)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Xt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=16384,x7=45e3,wm=null;typeof MozWebSocket<"u"?wm=MozWebSocket:typeof WebSocket<"u"&&(wm=WebSocket);var Oa=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qd(this.connId),this.stats_=wI(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[HU]=mI,typeof location<"u"&&location.hostname&&YU.test(location.hostname)&&(s[GU]=QU),n&&(s[KU]=n),r&&(s[XU]=r),i&&(s[eT]=i),e$(t,JU,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!RU()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new wm(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&wm!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Ua.isInMemoryStorage||Ua.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Ua.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ad(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=zU(n,I7);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(x7))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C7=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[_I,Oa]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Oa&&Oa.isAvailable(),s=i&&!Oa.previouslyFailed();if(t.webSocketOnly&&(i||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Oa];else{var a=this.transports_=[];try{for(var l=nn(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k7=6e4,A7=5e3,R7=10*1024,P7=100*1024,sE="t",bO="d",N7="s",EO="r",O7="e",SO="o",TO="a",IO="n",xO="p",D7="h",s$=function(){function e(t,n,r,i,s,a,l,c,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qd("c:"+this.id+":"),this.transportManager_=new C7(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=xh(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>P7?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>R7?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(sE in t){var n=t[sE];n===TO?this.upgradeIfSecondaryHealthy_():n===EO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===SO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Yf("t",t),r=Yf("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xO,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:IO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Yf("t",t),r=Yf("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Yf(sE,t);if(bO in t){var r=t[bO];if(n===D7)this.onHandshake_(r);else if(n===IO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===N7?this.onConnectionShutdown_(r):n===EO?this.onReset_(r):n===O7?ZS("Server Error: "+r):n===SO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZS("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mI!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),xh(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(k7))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xh(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(A7))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xO,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a$=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u$=function(){function e(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=me([],dn(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){H(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CO=function(e){Q(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lI()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return H(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(u$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kO=32,AO=768,Ue=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function De(){return new Ue("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function zs(e){return e.pieces_.length-e.pieceNum_}function He(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ue(e.pieces_,t)}function bI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function L7(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ud(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function l$(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ue(t,0)}function ot(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ue)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ue(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Xn(e,t){var n=ye(e),r=ye(t);if(n===null)return t;if(n===r)return Xn(He(e),He(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function M7(e,t){for(var n=ud(e,0),r=ud(t,0),i=0;i<n.length&&i<r.length;i++){var s=Cu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function EI(e,t){if(zs(e)!==zs(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ei(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(zs(e)>zs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var j7=function(){function e(t,n){this.errorPrefix_=n,this.parts_=ud(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ny(this.parts_[r]);c$(this)}return e}();function F7(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ny(t),c$(e)}function U7(e){var t=e.parts_.pop();e.byteLength_-=Ny(t),e.parts_.length>0&&(e.byteLength_-=1)}function c$(e){if(e.byteLength_>AO)throw new Error(e.errorPrefix_+"has a key path longer than "+AO+" bytes ("+e.byteLength_+").");if(e.parts_.length>kO)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kO+") or object contains a cycle "+Pa(e))}function Pa(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=function(e){Q(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]},t}(u$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=1e3,V7=60*5*1e3,B7=3*1e3,RO=30*1e3,z7=1.3,q7=3e4,W7="server_kill",PO=3,Ja=function(e){Q(t,e);function t(n,r,i,s,a,l,c,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=l,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=Qd("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Xf,d.maxReconnectDelay_=V7,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!RU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $7.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&CO.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_($t(a)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Zt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},B7),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&$r(n,"w")){var i=cu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();mn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||u9(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RO)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=a9(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+$t(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ZS("Unrecognized action received from server: "+$t(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Xf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>q7&&(this.reconnectDelay_=Xf),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*z7)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,E,x=this;return P(this,function(S){switch(S.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},d=function(T){H(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(T)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=dn.apply(void 0,[S.sent(),2]),y=g[0],w=g[1],l?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new s$(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){mn(T+" ("+x.repoInfo_.toString()+")"),x.interrupt(W7)},a)),[3,4];case 3:return E=S.sent(),this.log_("Failed to get token: "+E),l||(this.repoInfo_.nodeAdmin&&mn(E),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Xt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Xt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],YS(this.interruptReasons_)&&(this.reconnectDelay_=Xf,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return vI(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Ue(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Xt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PO&&(this.reconnectDelay_=RO,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Xt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PO&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=nn(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,nn(c.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+jU.replace(/\./g,"-")]=1,lI()?n["framework.cordova"]=1:AU()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=CO.getInstance().currentlyOnline();return YS(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(a$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dy=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ie(zo,t),i=new Ie(zo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ie.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gv,f$=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Gv},set:function(n){Gv=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Cu(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw $c("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(co,Gv)},t.prototype.makePost=function(n,r){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new Ie(n,Gv)},t.prototype.toString=function(){return".key"},t}(Dy),io=new f$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Ci=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??No.EMPTY_NODE,this.right=s??No.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return No.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return No.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),H7=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ci(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),No=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ci.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ci.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Qv(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Qv(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Qv(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Qv(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new H7,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(e,t){return Cu(e.name,t.name)}function SI(e,t){return Cu(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tT;function G7(e){tT=e}var h$=function(e){return typeof e=="number"?"number:"+qU(e):"string:"+e},d$=function(e){if(e.isLeafNode()){var t=e.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&$r(t,".sv"),"Priority must be a string or number.")}else H(e===tT||e.isEmpty(),"priority of unexpected type.");H(e===tT||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NO,cc=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),d$(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return NO},set:function(t){NO=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:ye(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||zs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+h$(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=qU(this.value_):t+=this.value_,this.lazyHash_=VU(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return H(i>=0,"Unknown leaf type: "+n),H(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p$,v$;function Q7(e){p$=e}function Y7(e){v$=e}var X7=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Cu(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(co,new cc("[PRIORITY-POST]",v$))},t.prototype.makePost=function(n,r){var i=p$(n);return new Ie(r,new cc("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Dy),Ye=new X7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J7=Math.log(2),Z7=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/J7,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),_m=function(e,t,n,r){e.sort(t);var i=function(c,h){var d=h-c,v,g;if(d===0)return null;if(d===1)return v=e[c],g=n?n(v):v,new Ci(g,v.node,Ci.BLACK,null,null);var y=parseInt(d/2,10)+c,w=i(c,y),E=i(y+1,h);return v=e[y],g=n?n(v):v,new Ci(g,v.node,Ci.BLACK,w,E)},s=function(c){for(var h=null,d=null,v=e.length,g=function(S,T){var C=v-S,k=v;v-=S;var D=i(C+1,k),O=e[C],j=n?n(O):O;y(new Ci(j,O.node,T,null,D))},y=function(S){h?(h.left=S,h=S):(d=S,h=S)},w=0;w<c.count;++w){var E=c.nextBitIsOne(),x=Math.pow(2,c.count-(w+1));E?g(x,Ci.BLACK):(g(x,Ci.BLACK),g(x,Ci.RED))}return d},a=new Z7(e.length),l=s(a);return new No(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE,hl={},bm=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return H(hl&&Ye,"ChildrenNode.ts has not been loaded"),aE=aE||new e({".priority":hl},{".priority":Ye}),aE},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=cu(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof No?n:null},e.prototype.hasIndex=function(t){return $r(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){H(t!==io,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ie.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=_m(r,t.getCompare()):l=hl;var c=t.toString(),h=ae({},this.indexSet_);h[c]=t;var d=ae({},this.indexes_);return d[c]=l,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=gm(this.indexes_,function(s,a){var l=cu(r.indexSet_,a);if(H(l,"Missing index implementation for "+a),s===hl)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Ie.Wrap),d=h.getNext();d;)d.name!==t.name&&c.push(d),d=h.getNext();return c.push(t),_m(c,l.getCompare())}else return hl;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Ie(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=gm(this.indexes_,function(i){if(i===hl)return i;var s=n.get(t.name);return s?i.remove(new Ie(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf,de=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&d$(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Jf||(Jf=new e(new No(SI),null,bm.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Jf},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Jf:n},e.prototype.getChild=function(t){var n=ye(t);return n===null?this:this.getImmediateChild(n).getChild(He(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(H(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ie(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Jf:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ye(t);if(r===null)return n;H(ye(t)!==".priority"||zs(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(He(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Ye,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+h$(this.getPriority().val())+":"),this.forEachChild(Ye,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":VU(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ie(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Yd?-1:0},e.prototype.withIndex=function(t){if(t===io||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===io||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Ye),i=n.getIterator(Ye),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===io?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),eY=function(e){Q(t,e);function t(){return e.call(this,new No(SI),de.EMPTY_NODE,bm.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return de.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(de),Yd=new eY;Object.defineProperties(Ie,{MIN:{value:new Ie(zo,de.EMPTY_NODE)},MAX:{value:new Ie(co,Yd)}});f$.__EMPTY_NODE=de.EMPTY_NODE;cc.__childrenNodeConstructor=de;G7(Yd);Y7(Yd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tY=!0;function ct(e,t){if(t===void 0&&(t=null),e===null)return de.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new cc(n,ct(t))}if(!(e instanceof Array)&&tY){var r=[],i=!1,s=e;if(qt(s,function(h,d){if(h.substring(0,1)!=="."){var v=ct(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ie(h,v)))}}),r.length===0)return de.EMPTY_NODE;var a=_m(r,K7,function(h){return h.name},SI);if(i){var l=_m(r,Ye.getCompare());return new de(a,ct(t),new bm({".priority":l},{".priority":Ye}))}else return new de(a,ct(t),bm.Default)}else{var c=de.EMPTY_NODE;return qt(e,function(h,d){if($r(e,h)&&h.substring(0,1)!=="."){var v=ct(d);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(ct(t))}}Q7(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,H(!we(n)&&ye(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Cu(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=ct(n),s=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(r,s)},t.prototype.maxPost=function(){var n=de.EMPTY_NODE.updateChild(this.indexPath_,Yd);return new Ie(co,n)},t.prototype.toString=function(){return ud(this.indexPath_,0).join("/")},t}(Dy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nY=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Cu(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(n,r){var i=ct(n);return new Ie(r,i)},t.prototype.toString=function(){return".value"},t}(Dy),II=new nY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nT="-",g$="z",m$=786,rY=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=fc.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=fc.charAt(t[i]);return H(a.length===20,"nextPushId: Length should be 20."),a}}(),OO=function(e){if(e===""+gI)return nT;var t=ym(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<m$)return n.push(nT),n.join("");for(var i=n.length-1;i>=0&&n[i]===g$;)i--;if(i===-1)return co;var s=n[i],a=fc.charAt(fc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},DO=function(e){if(e===""+WU)return zo;var t=ym(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===nT?n.length===1?""+gI:(delete n[n.length-1],n.join("")):(n[n.length-1]=fc.charAt(fc.indexOf(n[n.length-1])-1),n.join("")+g$.repeat(m$-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(e){return{type:"value",snapshotNode:e}}function hc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ld(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cd(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function iY(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(ld(n,l)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(hc(n,r)):a.trackChildChange(cd(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ye,function(i,s){n.hasChild(i)||r.trackChildChange(ld(i,s))}),n.isLeafNode()||n.forEachChild(Ye,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(cd(i,s,a))}else r.trackChildChange(hc(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?de.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w$=function(){function e(t){this.indexedFilter_=new xI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ie(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);var s=this;return n.forEachChild(Ye,function(a,l){s.matches(new Ie(a,l))||(i=i.updateImmediateChild(a,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oY=function(){function e(t){this.rangedFilter_=new w$(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ie(n,r))||(r=de.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(x,S){return g(S,x)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,d)<=0;c?a++:i=i.updateImmediateChild(l.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,C){return l(C,T)}}else a=this.index_.getCompare();var c=t;H(c.numChildren()===this.limit_,"");var h=new Ie(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),E=v&&!r.isEmpty()&&w>=0;if(E)return s!=null&&s.trackChildChange(cd(n,r,g)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(ld(n,g));var x=c.updateImmediateChild(n,de.EMPTY_NODE),S=y!=null&&this.rangedFilter_.matches(y);return S?(s!=null&&s.trackChildChange(hc(y.name,y.node)),x.updateImmediateChild(y.name,y.node)):x}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(ld(d.name,d.node)),s.trackChildChange(hc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,de.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:co},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ye},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function sY(e){return e.loadsAllData()?new xI(e.getIndex()):e.hasLimit()?new oY(e):new w$(e)}function aY(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function uY(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function rT(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function lY(e,t,n){var r;if(e.index_===io)typeof t=="string"&&(t=OO(t)),r=rT(e,t,n);else{var i=void 0;n==null?i=co:i=OO(n),r=rT(e,t,i)}return r.startAfterSet_=!0,r}function iT(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function cY(e,t,n){var r,i;return e.index_===io?(typeof t=="string"&&(t=DO(t)),i=iT(e,t,n)):(n==null?r=zo:r=DO(n),i=iT(e,t,r)),i.endBeforeSet_=!0,i}function Ly(e,t){var n=e.copy();return n.index_=t,n}function LO(e){var t={};if(e.isDefault())return t;var n;return e.index_===Ye?n="$priority":e.index_===II?n="$value":e.index_===io?n="$key":(H(e.index_ instanceof TI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=$t(n),e.startSet_&&(t.startAt=$t(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+$t(e.indexStartName_))),e.endSet_&&(t.endAt=$t(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+$t(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function MO(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ye&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fY=function(e){Q(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Qd("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var d=LO(n._queryParams);this.restRequest_(l+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),cu(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=LO(n._queryParams),s=n._path.toString(),a=new Zt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=dn(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+l9(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=ad(v.responseText)}catch{mn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&mn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(a$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hY=function(){function e(){this.rootNode_=de.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){return{value:null,children:new Map}}function zc(e,t,n){if(we(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Em());var i=e.children.get(r);t=He(t),zc(i,t,n)}}function oT(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ye,function(s,a){zc(e,new Ue(s),a)}),oT(e,t)}else if(e.children.size>0){var r=ye(t);if(t=He(t),e.children.has(r)){var i=oT(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function sT(e,t,n){e.value!==null?n(t,e.value):dY(e,function(r,i){var s=new Ue(t.toString()+"/"+r);sT(i,s,n)})}function dY(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b$=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ae({},t);return this.last_&&qt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jO=10*1e3,pY=30*1e3,vY=5*60*1e3,gY=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new b$(t);var r=jO+(pY-jO)*Math.random();xh(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;qt(n,function(s,a){a>0&&$r(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),xh(this.reportStats_.bind(this),Math.floor(Math.random()*2*vY))},e}();function mY(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ri||(Ri={}));function CI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yY=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ri.ACK_USER_WRITE,this.source=CI()}return e.prototype.operationForChild=function(t){if(we(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ue(t));return new e(De(),n,this.revert)}else return H(ye(this.path)===t,"operationForChild called for unrelated child."),new e(He(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E$=function(){function e(t,n){this.source=t,this.path=n,this.type=Ri.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,De()):new e(this.source,He(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ri.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,De(),this.snap.getImmediateChild(t)):new e(this.source,He(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ri.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new Ue(t));return n.isEmpty()?null:n.value?new My(this.source,De(),n.value):new e(this.source,De(),n)}else return H(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,He(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(we(t))return this.isFullyInitialized()&&!this.filtered_;var n=ye(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wY=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function _Y(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(iY(a.childName,a.snapshotNode))}),Zf(e,i,"child_removed",t,r,n),Zf(e,i,"child_added",t,r,n),Zf(e,i,"child_moved",s,r,n),Zf(e,i,"child_changed",t,r,n),Zf(e,i,"value",t,r,n),i}function Zf(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return EY(e,l,c)}),a.forEach(function(l){var c=bY(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function bY(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function EY(e,t,n){if(t.childName==null||n.childName==null)throw $c("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e,t){return{eventCache:e,serverCache:t}}function kh(e,t,n,r){return jy(new qs(t,n,r),e.serverCache)}function S$(e,t,n,r){return jy(e.eventCache,new qs(t,n,r))}function Sm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uE,SY=function(){return uE||(uE=new No(e7)),uE},Vr=function(){function e(t,n){n===void 0&&(n=SY()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return qt(t,function(r,i){n=n.set(new Ue(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(we(t))return null;var r=ye(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(He(t),n);if(s!=null){var a=ot(new Ue(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(we(t))return this;var n=ye(t),r=this.children.get(n);return r!==null?r.subtree(He(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=ye(t),i=this.children.get(r)||new e(null),s=i.set(He(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(He(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(we(t))return this.value;var n=ye(t),r=this.children.get(n);return r?r.get(He(t)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r=ye(t),i=this.children.get(r)||new e(null),s=i.setTree(He(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(De(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(ot(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,De(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(we(t))return null;var s=ye(t),a=this.children.get(s);return a?a.findOnPath_(He(t),ot(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,De(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=ye(t),s=this.children.get(i);return s?s.foreachOnPath_(He(t),ot(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(De(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(ot(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Vr(null))},e}();function Ah(e,t,n){if(we(t))return new Mo(new Vr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Xn(i,t);return s=s.updateChild(a,n),new Mo(e.writeTree_.set(i,s))}else{var l=new Vr(n),c=e.writeTree_.setTree(t,l);return new Mo(c)}}function aT(e,t,n){var r=e;return qt(n,function(i,s){r=Ah(r,ot(t,i),s)}),r}function FO(e,t){if(we(t))return Mo.empty();var n=e.writeTree_.setTree(t,new Vr(null));return new Mo(n)}function uT(e,t){return ku(e,t)!=null}function ku(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Xn(n.path,t)):null}function UO(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,function(r,i){t.push(new Ie(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ie(r,i.value))}),t}function Ls(e,t){if(we(t))return e;var n=ku(e,t);return n!=null?new Mo(new Vr(n)):new Mo(e.writeTree_.subtree(t))}function lT(e){return e.writeTree_.isEmpty()}function dc(e,t){return T$(De(),e.writeTree_,t)}function T$(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(H(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=T$(ot(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ot(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e,t){return k$(t,e)}function TY(e,t,n,r,i){H(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ah(e.visibleWrites,t,n)),e.lastWriteId=r}function IY(e,t,n,r){H(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=aT(e.visibleWrites,t,n),e.lastWriteId=r}function xY(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function CY(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});H(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&kY(l,r.path)?i=!1:ei(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return AY(e),!0;if(r.snap)e.visibleWrites=FO(e.visibleWrites,r.path);else{var c=r.children;qt(c,function(h){e.visibleWrites=FO(e.visibleWrites,ot(r.path,h))})}return!0}else return!1}function kY(e,t){if(e.snap)return ei(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ei(ot(e.path,n),t))return!0;return!1}function AY(e){e.visibleWrites=I$(e.allWrites,RY,De()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function RY(e){return e.visible}function I$(e,t,n){for(var r=Mo.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)ei(n,a)?(l=Xn(n,a),r=Ah(r,l,s.snap)):ei(a,n)&&(l=Xn(a,n),r=Ah(r,De(),s.snap.getChild(l)));else if(s.children){if(ei(n,a))l=Xn(n,a),r=aT(r,l,s.children);else if(ei(a,n))if(l=Xn(a,n),we(l))r=aT(r,De(),s.children);else{var c=cu(s.children,ye(l));if(c){var h=c.getChild(He(l));r=Ah(r,De(),h)}}}else throw $c("WriteRecord should have .snap or .children")}}return r}function x$(e,t,n,r,i){if(!r&&!i){var s=ku(e.visibleWrites,t);if(s!=null)return s;var a=Ls(e.visibleWrites,t);if(lT(a))return n;if(n==null&&!uT(a,De()))return null;var l=n||de.EMPTY_NODE;return dc(a,l)}else{var c=Ls(e.visibleWrites,t);if(!i&&lT(c))return n;if(!i&&n==null&&!uT(c,De()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(ei(g.path,t)||ei(t,g.path))},d=I$(e.allWrites,h,t),l=n||de.EMPTY_NODE;return dc(d,l)}}function PY(e,t,n){var r=de.EMPTY_NODE,i=ku(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ye,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Ls(e.visibleWrites,t);return n.forEachChild(Ye,function(l,c){var h=dc(Ls(s,new Ue(l)),c);r=r.updateImmediateChild(l,h)}),UO(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Ls(e.visibleWrites,t);return UO(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function NY(e,t,n,r,i){H(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=ot(t,n);if(uT(e.visibleWrites,s))return null;var a=Ls(e.visibleWrites,s);return lT(a)?i.getChild(n):dc(a,i.getChild(n))}function OY(e,t,n,r){var i=ot(t,n),s=ku(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Ls(e.visibleWrites,i);return dc(a,r.getNode().getImmediateChild(n))}else return null}function DY(e,t){return ku(e.visibleWrites,t)}function LY(e,t,n,r,i,s,a){var l,c=Ls(e.visibleWrites,t),h=ku(c,De());if(h!=null)l=h;else if(n!=null)l=dc(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function MY(){return{visibleWrites:Mo.empty(),allWrites:[],lastWriteId:-1}}function Tm(e,t,n,r){return x$(e.writeTree,e.treePath,t,n,r)}function PI(e,t){return PY(e.writeTree,e.treePath,t)}function $O(e,t,n,r){return NY(e.writeTree,e.treePath,t,n,r)}function Im(e,t){return DY(e.writeTree,ot(e.treePath,t))}function jY(e,t,n,r,i,s){return LY(e.writeTree,e.treePath,t,n,r,i,s)}function NI(e,t,n){return OY(e.writeTree,e.treePath,t,n)}function C$(e,t){return k$(ot(e.treePath,t),e.writeTree)}function k$(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FY=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cd(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ld(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,hc(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cd(r,t.snapshotNode,i.oldSnap));else throw $c("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UY=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),A$=new UY,OI=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return NI(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fu(this.viewCache_),s=jY(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(e){return{filter:e}}function VY(e,t){H(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function BY(e,t,n,r,i){var s=new FY,a,l;if(n.type===Ri.OVERWRITE){var c=n;c.source.fromUser?a=cT(e,t,c.path,c.snap,r,i,s):(H(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=xm(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Ri.MERGE){var h=n;h.source.fromUser?a=qY(e,t,h.path,h.children,r,i,s):(H(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=fT(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Ri.ACK_USER_WRITE){var d=n;d.revert?a=KY(e,t,d.path,r,i,s):a=WY(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===Ri.LISTEN_COMPLETE)a=HY(e,t,n.path,r,s);else throw $c("Unknown operation type: "+n.type);var v=s.getChanges();return zY(t,a,v),{viewCache:a,changes:v}}function zY(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Sm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(y$(Sm(t)))}}function R$(e,t,n,r,i,s){var a=t.eventCache;if(Im(r,n)!=null)return t;var l=void 0,c=void 0;if(we(n))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=fu(t),d=h instanceof de?h:de.EMPTY_NODE,v=PI(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=Tm(r,fu(t));l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=ye(n);if(y===".priority"){H(zs(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var E=$O(r,n,w,c);E!=null?l=e.filter.updatePriority(w,E):l=a.getNode()}else{var x=He(n),S=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var T=$O(r,n,a.getNode(),c);T!=null?S=a.getNode().getImmediateChild(y).updateChild(x,T):S=a.getNode().getImmediateChild(y)}else S=NI(r,y,t.serverCache);S!=null?l=e.filter.updateChild(a.getNode(),y,S,x,i,s):l=a.getNode()}}return kh(t,l,a.isFullyInitialized()||we(n),e.filter.filtersNodes())}function xm(e,t,n,r,i,s,a,l){var c=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(we(n))h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=d.updateFullNode(c.getNode(),v,null)}else{var g=ye(n);if(!c.isCompleteForPath(n)&&zs(n)>1)return t;var y=He(n),w=c.getNode().getImmediateChild(g),E=w.updateChild(y,r);g===".priority"?h=d.updatePriority(c.getNode(),E):h=d.updateChild(c.getNode(),g,E,y,A$,null)}var x=S$(t,h,c.isFullyInitialized()||we(n),d.filtersNodes()),S=new OI(i,x,s);return R$(e,x,n,i,S,l)}function cT(e,t,n,r,i,s,a){var l=t.eventCache,c,h,d=new OI(i,t,s);if(we(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=kh(t,h,!0,e.filter.filtersNodes());else{var v=ye(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=kh(t,h,l.isFullyInitialized(),l.isFiltered());else{var g=He(n),y=l.getNode().getImmediateChild(v),w=void 0;if(we(g))w=r;else{var E=d.getCompleteChild(v);E!=null?bI(g)===".priority"&&E.getChild(l$(g)).isEmpty()?w=E:w=E.updateChild(g,r):w=de.EMPTY_NODE}if(y.equals(w))c=t;else{var x=e.filter.updateChild(l.getNode(),v,w,g,d,a);c=kh(t,x,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function VO(e,t){return e.eventCache.isCompleteForChild(t)}function qY(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var d=ot(n,c);VO(t,ye(d))&&(l=cT(e,l,d,h,i,s,a))}),r.foreach(function(c,h){var d=ot(n,c);VO(t,ye(d))||(l=cT(e,l,d,h,i,s,a))}),l}function BO(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function fT(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;we(n)?h=r:h=new Vr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=BO(e,y,g);c=xm(e,c,new Ue(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),E=BO(e,w,g);c=xm(e,c,new Ue(v),E,i,s,a,l)}}),c}function WY(e,t,n,r,i,s,a){if(Im(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(we(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return xm(e,t,n,c.getNode().getChild(n),i,s,l,a);if(we(n)){var h=new Vr(null);return c.getNode().forEachChild(io,function(v,g){h=h.set(new Ue(v),g)}),fT(e,t,n,h,i,s,l,a)}else return t}else{var d=new Vr(null);return r.foreach(function(v,g){var y=ot(n,v);c.isCompleteForPath(y)&&(d=d.set(v,c.getNode().getChild(y)))}),fT(e,t,n,d,i,s,l,a)}}function HY(e,t,n,r,i){var s=t.serverCache,a=S$(t,s.getNode(),s.isFullyInitialized()||we(n),s.isFiltered());return R$(e,a,n,r,A$,i)}function KY(e,t,n,r,i,s){var a;if(Im(r,n)!=null)return t;var l=new OI(r,t,i),c=t.eventCache.getNode(),h=void 0;if(we(n)||ye(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Tm(r,fu(t));else{var v=t.serverCache.getNode();H(v instanceof de,"serverChildren would be complete if leaf node"),d=PI(r,v)}d=d,h=e.filter.updateFullNode(c,d,s)}else{var g=ye(n),y=NI(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=c.getImmediateChild(g)),y!=null?h=e.filter.updateChild(c,g,y,He(n),l,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(c,g,de.EMPTY_NODE,He(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Tm(r,fu(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Im(r,De())!=null,kh(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GY=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new xI(r.getIndex()),s=sY(r);this.processor_=$Y(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(de.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(de.EMPTY_NODE,l.getNode(),null),d=new qs(c,a.isFullyInitialized(),i.filtersNodes()),v=new qs(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=jy(v,d),this.eventGenerator_=new wY(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function QY(e){return e.viewCache_.serverCache.getNode()}function YY(e){return Sm(e.viewCache_)}function XY(e,t){var n=fu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function zO(e){return e.eventRegistrations_.length===0}function JY(e,t){e.eventRegistrations_.push(t)}function qO(e,t,n){var r=[];if(n){H(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function WO(e,t,n,r){t.type===Ri.MERGE&&t.source.queryId!==null&&(H(fu(e.viewCache_),"We should always have a full cache before handling merges"),H(Sm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=BY(e.processor_,i,t,n,r);return VY(e.processor_,s.viewCache),H(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,P$(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ZY(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Ye,function(s,a){r.push(hc(s,a))})}return n.isFullyInitialized()&&r.push(y$(n.getNode())),P$(e,r,n.getNode(),t)}function P$(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return _Y(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm,N$=function(){function e(){this.views=new Map}return e}();function eX(e){H(!Cm,"__referenceConstructor has already been defined"),Cm=e}function tX(){return H(Cm,"Reference.ts has not been loaded"),Cm}function nX(e){return e.views.size===0}function DI(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return H(l!=null,"SyncTree gave us an op for an invalid query."),WO(l,t,n,r)}else{var c=[];try{for(var h=nn(e.views.values()),d=h.next();!d.done;d=h.next()){var l=d.value;c=c.concat(WO(l,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function O$(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Tm(n,i?r:null),c=!1;l?c=!0:r instanceof de?(l=PI(n,r),c=!1):(l=de.EMPTY_NODE,c=!1);var h=jy(new qs(l,c,!1),new qs(r,i,!1));return new GY(t,h)}return a}function rX(e,t,n,r,i,s){var a=O$(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),JY(a,n),ZY(a,n)}function iX(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Ws(e);if(a==="default")try{for(var d=nn(e.views.entries()),v=d.next();!v.done;v=d.next()){var g=dn(v.value,2),y=g[0],w=g[1];c=c.concat(qO(w,n,r)),zO(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(qO(w,n,r)),zO(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!Ws(e)&&l.push(new(tX())(t._repo,t._path)),{removed:l,events:c}}function D$(e){var t,n,r=[];try{for(var i=nn(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ms(e,t){var n,r,i=null;try{for(var s=nn(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||XY(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function L$(e,t){var n=t._queryParams;if(n.loadsAllData())return Uy(e);var r=t._queryIdentifier;return e.views.get(r)}function M$(e,t){return L$(e,t)!=null}function Ws(e){return Uy(e)!=null}function Uy(e){var t,n;try{for(var r=nn(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km;function oX(e){H(!km,"__referenceConstructor has already been defined"),km=e}function sX(){return H(km,"Reference.ts has not been loaded"),km}var aX=1,HO=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Vr(null),this.pendingWriteTree_=MY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function LI(e,t,n,r,i){return TY(e.pendingWriteTree_,t,n,r,i),i?qc(e,new My(CI(),t,n)):[]}function uX(e,t,n,r){IY(e.pendingWriteTree_,t,n,r);var i=Vr.fromObject(n);return qc(e,new RI(CI(),t,i))}function xs(e,t,n){n===void 0&&(n=!1);var r=xY(e.pendingWriteTree_,t),i=CY(e.pendingWriteTree_,t);if(i){var s=new Vr(null);return r.snap!=null?s=s.set(De(),!0):qt(r.children,function(a){s=s.set(new Ue(a),!0)}),qc(e,new yY(r.path,s,n))}else return[]}function Xd(e,t,n){return qc(e,new My(kI(),t,n))}function lX(e,t,n){var r=Vr.fromObject(n);return qc(e,new RI(kI(),t,r))}function cX(e,t){return qc(e,new E$(kI(),t))}function fX(e,t,n){var r=MI(e,n);if(r){var i=jI(r),s=i.path,a=i.queryId,l=Xn(s,t),c=new E$(AI(a),l);return FI(e,s,c)}else return[]}function hT(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||M$(s,t))){var l=iX(s,t,n,r);nX(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(T,C){return Ws(C)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=vX(v),y=0;y<g.length;++y){var w=g[y],E=w.query,x=U$(e,w);e.listenProvider_.startListening(Rh(E),Am(e,E),x.hashFn,x.onComplete)}}if(!d&&c.length>0&&!r)if(h){var S=null;e.listenProvider_.stopListening(Rh(t),S)}else c.forEach(function(T){var C=e.queryToTagMap.get(Vy(T));e.listenProvider_.stopListening(Rh(T),C)});gX(e,c)}return a}function hX(e,t,n,r){var i=MI(e,r);if(i!=null){var s=jI(i),a=s.path,l=s.queryId,c=Xn(a,t),h=new My(AI(l),c,n);return FI(e,a,h)}else return[]}function dX(e,t,n,r){var i=MI(e,r);if(i){var s=jI(i),a=s.path,l=s.queryId,c=Xn(a,t),h=Vr.fromObject(n),d=new RI(AI(l),c,h);return FI(e,a,d)}else return[]}function KO(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(E,x){var S=Xn(E,r);i=i||Ms(x,S),s=s||Ws(x)});var a=e.syncPointTree_.get(r);a?(s=s||Ws(a),i=i||Ms(a,De())):(a=new N$,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=de.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(E,x){var S=Ms(x,De());S&&(i=i.updateImmediateChild(E,S))})}var h=M$(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=Vy(t);H(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=mX();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var g=Fy(e.pendingWriteTree_,r),y=rX(a,t,n,g,i,l);if(!h&&!s){var w=L$(a,t);y=y.concat(yX(e,t,w))}return y}function $y(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Xn(a,t),h=Ms(l,c);if(h)return h});return x$(i,t,s,n,r)}function pX(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Xn(h,n);r=r||Ms(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Ms(i,De()):(i=new N$,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new qs(r,!0,!1):null,l=Fy(e.pendingWriteTree_,t._path),c=O$(i,t,l,s?a.getNode():de.EMPTY_NODE,s);return YY(c)}function qc(e,t){return j$(t,e.syncPointTree_,null,Fy(e.pendingWriteTree_,De()))}function j$(e,t,n,r){if(we(e.path))return F$(e,t,n,r);var i=t.get(De());n==null&&i!=null&&(n=Ms(i,De()));var s=[],a=ye(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,d=C$(r,a);s=s.concat(j$(l,c,h,d))}return i&&(s=s.concat(DI(i,e,r,n))),s}function F$(e,t,n,r){var i=t.get(De());n==null&&i!=null&&(n=Ms(i,De()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=C$(r,a),d=e.operationForChild(a);d&&(s=s.concat(F$(d,l,c,h)))}),i&&(s=s.concat(DI(i,e,r,n))),s}function U$(e,t){var n=t.query,r=Am(e,n);return{hashFn:function(){var i=QY(t)||de.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?fX(e,n._path,r):cX(e,n._path);var s=r7(i,n);return hT(e,n,null,s)}}}function Am(e,t){var n=Vy(t);return e.queryToTagMap.get(n)}function Vy(e){return e._path.toString()+"$"+e._queryIdentifier}function MI(e,t){return e.tagToQueryMap.get(t)}function jI(e){var t=e.indexOf("$");return H(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ue(e.substr(0,t))}}function FI(e,t,n){var r=e.syncPointTree_.get(t);H(r,"Missing sync point for query tag that we're tracking");var i=Fy(e.pendingWriteTree_,t);return DI(r,n,i,null)}function vX(e){return e.fold(function(t,n,r){if(n&&Ws(n)){var i=Uy(n);return[i]}else{var s=[];return n&&(s=D$(n)),qt(r,function(a,l){s=s.concat(l)}),s}})}function Rh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(sX())(e._repo,e._path):e}function gX(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Vy(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function mX(){return aX++}function yX(e,t,n){var r=t._path,i=Am(e,t),s=U$(e,n),a=e.listenProvider_.startListening(Rh(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)H(!Ws(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,g,y){if(!we(v)&&g&&Ws(g))return[Uy(g).query];var w=[];return g&&(w=w.concat(D$(g).map(function(E){return E.query}))),qt(y,function(E,x){w=w.concat(x)}),w}),h=0;h<c.length;++h){var d=c[h];e.listenProvider_.stopListening(Rh(d),Am(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wX=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),_X=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=ot(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return $y(this.syncTree_,this.path_)},e}(),bX=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},GO=function(e,t,n){if(!e||typeof e!="object")return e;if(H(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return EX(e[".sv"],t,n);if(typeof e[".sv"]=="object")return SX(e[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},EX=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+e)}},SX=function(e,t,n){e.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);var i=t.node();if(H(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},$$=function(e,t,n,r){return $I(t,new _X(n,e),r)},UI=function(e,t,n){return $I(e,new wX(t),n)};function $I(e,t,n){var r=e.getPriority().val(),i=GO(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=GO(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new cc(l,ct(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new cc(i))),c.forEachChild(Ye,function(h,d){var v=$I(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VI=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function By(e,t){for(var n=t instanceof Ue?t:new Ue(t),r=e,i=ye(n);i!==null;){var s=cu(r.node.children,i)||{children:{},childCount:0};r=new VI(i,r,s),n=He(n),i=ye(n)}return r}function Au(e){return e.node.value}function BI(e,t){e.node.value=t,dT(e)}function V$(e){return e.node.childCount>0}function TX(e){return Au(e)===void 0&&!V$(e)}function zy(e,t){qt(e.node.children,function(n,r){t(new VI(n,e,r))})}function B$(e,t,n,r){n&&!r&&t(e),zy(e,function(i){B$(i,t,!0,r)}),n&&r&&t(e)}function IX(e,t,n){for(var r=e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Jd(e){return new Ue(e.parent===null?e.name:Jd(e.parent)+"/"+e.name)}function dT(e){e.parent!==null&&xX(e.parent,e.name,e)}function xX(e,t,n){var r=TX(n),i=$r(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dT(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,dT(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CX=/[\[\].#$\/\u0000-\u001F\u007F]/,kX=/[\[\].#$\u0000-\u001F\u007F]/,lE=10*1024*1024,qy=function(e){return typeof e=="string"&&e.length!==0&&!CX.test(e)},z$=function(e){return typeof e=="string"&&e.length!==0&&!kX.test(e)},AX=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),z$(e)},fd=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Oy(e)||e&&typeof e=="object"&&$r(e,".sv")},fo=function(e,t,n,r){r&&t===void 0||Zd(br(e,"value"),t,n)},Zd=function(e,t,n){var r=n instanceof Ue?new j7(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Pa(r));if(typeof t=="function")throw new Error(e+"contains a function "+Pa(r)+" with contents = "+t.toString());if(Oy(t))throw new Error(e+"contains "+t.toString()+" "+Pa(r));if(typeof t=="string"&&t.length>lE/3&&Ny(t)>lE)throw new Error(e+"contains a string greater than "+lE+" utf8 bytes "+Pa(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(qt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!qy(a)))throw new Error(e+" contains an invalid key ("+a+") "+Pa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);F7(r,a),Zd(e,l,r),U7(r)}),i&&s)throw new Error(e+' contains ".value" child '+Pa(r)+" in addition to actual children.")}},RX=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ud(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!qy(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(M7);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&ei(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},q$=function(e,t,n,r){var i=br(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];qt(t,function(a,l){var c=new Ue(a);if(Zd(i,l,ot(n,c)),bI(c)===".priority"&&!fd(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),RX(i,s)},zI=function(e,t,n){if(Oy(t))throw new Error(br(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fd(t))throw new Error(br(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},PX=function(e,t,n){if(t!==void 0)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(br(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ep=function(e,t,n,r){if(n!==void 0&&!qy(n))throw new Error(br(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},hd=function(e,t,n,r){if(!z$(n))throw new Error(br(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NX=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hd(e,t,n)},ti=function(e,t){if(ye(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},W$=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AX(n))throw new Error(br(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},OX=function(e,t,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(br(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DX=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Wy(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!EI(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function qI(e,t,n){Wy(e,n),H$(e,function(r){return EI(r,t)})}function fi(e,t,n){Wy(e,n),H$(e,function(r){return ei(r,t)||ei(t,r)})}function H$(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(LX(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function LX(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Xa&&Xt("event: "+n.toString()),Bc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K$="repo_interrupt",MX=25,jX=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Em(),this.transactionQueueTree_=new VI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function FX(e,t,n){if(e.stats_=wI(e.repoInfo_),e.forceRestClient_||o7())e.server_=new fY(e.repoInfo_,function(r,i,s,a){QO(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return YO(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ja(e.repoInfo_,t,function(r,i,s,a){QO(e,r,i,s,a)},function(r){YO(e,r)},function(r){$X(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=f7(e.repoInfo_,function(){return new gY(e.stats_,e.server_)}),e.infoData_=new hY,e.infoSyncTree_=new HO({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Xd(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),WI(e,"connected",!1),e.serverSyncTree_=new HO({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);fi(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function G$(e){var t=e.infoData_.getNode(new Ue(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function tp(e){return bX({timestamp:G$(e)})}function QO(e,t,n,r,i){e.dataUpdateCount++;var s=new Ue(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=gm(n,function(g){return ct(g)});a=dX(e.serverSyncTree_,s,l,i)}else{var c=ct(n);a=hX(e.serverSyncTree_,s,c,i)}else if(r){var h=gm(n,function(g){return ct(g)});a=lX(e.serverSyncTree_,s,h)}else{var d=ct(n);a=Xd(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=pc(e,s)),fi(e.eventQueue_,v,a)}function UX(e,t){e.interceptServerDataCallback_=t}function YO(e,t){WI(e,"connected",t),t===!1&&zX(e)}function $X(e,t){qt(t,function(n,r){WI(e,n,r)})}function WI(e,t,n){var r=new Ue("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var s=Xd(e.infoSyncTree_,r,i);fi(e.eventQueue_,r,s)}function Hy(e){return e.nextWriteId_++}function VX(e,t){var n=pX(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=ct(r).withIndex(t._queryParams.getIndex()),s=Xd(e.serverSyncTree_,t._path,i);return qI(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Wc(e,"get for query "+$t(t)+" failed: "+r),Promise.reject(new Error(r))})}function HI(e,t,n,r,i){Wc(e,"set",{path:t.toString(),value:n,priority:r});var s=tp(e),a=ct(n,r),l=$y(e.serverSyncTree_,t),c=UI(a,l,s),h=Hy(e),d=LI(e.serverSyncTree_,t,c,h,!0);Wy(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,y){var w=g==="ok";w||mn("set at "+t+" failed: "+g);var E=xs(e.serverSyncTree_,h,!w);fi(e.eventQueue_,t,E),Hs(e,i,g,y)});var v=GI(e,t);pc(e,v),fi(e.eventQueue_,v,[])}function BX(e,t,n,r){Wc(e,"update",{path:t.toString(),value:n});var i=!0,s=tp(e),a={};if(qt(n,function(h,d){i=!1,a[h]=$$(ot(t,h),ct(d),e.serverSyncTree_,s)}),i)Xt("update() called with empty data.  Don't do anything."),Hs(e,r,"ok",void 0);else{var l=Hy(e),c=uX(e.serverSyncTree_,t,a,l);Wy(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||mn("update at "+t+" failed: "+h);var g=xs(e.serverSyncTree_,l,!v),y=g.length>0?pc(e,t):t;fi(e.eventQueue_,y,g),Hs(e,r,h,d)}),qt(n,function(h){var d=GI(e,ot(t,h));pc(e,d)}),fi(e.eventQueue_,t,[])}}function zX(e){Wc(e,"onDisconnectEvents");var t=tp(e),n=Em();sT(e.onDisconnect_,De(),function(i,s){var a=$$(i,s,e.serverSyncTree_,t);zc(n,i,a)});var r=[];sT(n,De(),function(i,s){r=r.concat(Xd(e.serverSyncTree_,i,s));var a=GI(e,i);pc(e,a)}),e.onDisconnect_=Em(),fi(e.eventQueue_,De(),r)}function qX(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&oT(e.onDisconnect_,t),Hs(e,n,r,i)})}function XO(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&zc(e.onDisconnect_,t,i),Hs(e,r,s,a)})}function WX(e,t,n,r,i){var s=ct(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&zc(e.onDisconnect_,t,s),Hs(e,i,a,l)})}function HX(e,t,n,r){if(YS(n)){Xt("onDisconnect().update() called with empty data.  Don't do anything."),Hs(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&qt(n,function(a,l){var c=ct(l);zc(e.onDisconnect_,ot(t,a),c)}),Hs(e,r,i,s)})}function KX(e,t,n){var r;ye(t._path)===".info"?r=KO(e.infoSyncTree_,t,n):r=KO(e.serverSyncTree_,t,n),qI(e.eventQueue_,t._path,r)}function pT(e,t,n){var r;ye(t._path)===".info"?r=hT(e.infoSyncTree_,t,n):r=hT(e.serverSyncTree_,t,n),qI(e.eventQueue_,t._path,r)}function Q$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(K$)}function GX(e){e.persistentConnection_&&e.persistentConnection_.resume(K$)}function QX(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new b$(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);qt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function YX(e,t){e.stats_.incrementCounter(t),mY(e.statsReporter_,t)}function Wc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Xt.apply(void 0,me([r],dn(t)))}function Hs(e,t,n,r){t&&Bc(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function XX(e,t,n,r,i,s){Wc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:$U(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=KI(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Zd("transaction failed: Data returned ",c,a.path),a.status=0;var h=By(e.transactionQueueTree_,t),d=Au(h)||[];d.push(a),BI(h,d);var v=void 0;if(typeof c=="object"&&c!==null&&$r(c,".priority"))v=cu(c,".priority"),H(fd(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=$y(e.serverSyncTree_,t)||de.EMPTY_NODE;v=g.getPriority().val()}var y=tp(e),w=ct(c,v),E=UI(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=E,a.currentWriteId=Hy(e);var x=LI(e.serverSyncTree_,t,E,a.currentWriteId,a.applyLocally);fi(e.eventQueue_,t,x),Ky(e,e.transactionQueueTree_)}}function KI(e,t,n){return $y(e.serverSyncTree_,t,n)||de.EMPTY_NODE}function Ky(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Gy(e,t),Au(t)){var n=X$(e,t);H(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&JX(e,Jd(t),n)}else V$(t)&&zy(t,function(i){Ky(e,i)})}function JX(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=KI(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];H(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Xn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(g){Wc(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var w=[],E=function(S){n[S].status=2,y=y.concat(xs(e.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&w.push(function(){return n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)}),n[S].unwatcher()},x=0;x<n.length;x++)E(x);Gy(e,By(e.transactionQueueTree_,t)),Ky(e,e.transactionQueueTree_),fi(e.eventQueue_,t,y);for(var x=0;x<w.length;x++)Bc(w[x])}else{if(g==="datastale")for(var x=0;x<n.length;x++)n[x].status===3?n[x].status=4:n[x].status=0;else{mn("transaction at "+v.toString()+" failed: "+g);for(var x=0;x<n.length;x++)n[x].status=4,n[x].abortReason=g}pc(e,t)}},a)}function pc(e,t){var n=Y$(e,t),r=Jd(n),i=X$(e,n);return ZX(e,i,r),r}function ZX(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var d=t[h],v=Xn(n,d.path),g=!1,y;if(H(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(xs(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=MX)g=!0,y="maxretry",i=i.concat(xs(e.serverSyncTree_,d.currentWriteId,!0));else{var w=KI(e,d.path,a);d.currentInputSnapshot=w;var E=t[h].update(w.val());if(E!==void 0){Zd("transaction failed: Data returned ",E,d.path);var x=ct(E),S=typeof E=="object"&&E!=null&&$r(E,".priority");S||(x=x.updatePriority(w.getPriority()));var T=d.currentWriteId,C=tp(e),k=UI(x,w,C);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=k,d.currentWriteId=Hy(e),a.splice(a.indexOf(T),1),i=i.concat(LI(e.serverSyncTree_,d.path,k,d.currentWriteId,d.applyLocally)),i=i.concat(xs(e.serverSyncTree_,T,!0))}else g=!0,y="nodata",i=i.concat(xs(e.serverSyncTree_,d.currentWriteId,!0))}fi(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Gy(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Bc(r[c]);Ky(e,e.transactionQueueTree_)}}function Y$(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);n!==null&&Au(r)===void 0;)r=By(r,n),t=He(t),n=ye(t);return r}function X$(e,t){var n=[];return J$(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function J$(e,t,n){var r=Au(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);zy(t,function(s){J$(e,s,n)})}function Gy(e,t){var n=Au(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,BI(t,n.length>0?n:void 0)}zy(t,function(s){Gy(e,s)})}function GI(e,t){var n=Jd(Y$(e,t)),r=By(e.transactionQueueTree_,t);return IX(r,function(i){cE(e,i)}),cE(e,r),B$(r,function(i){cE(e,i)}),n}function cE(e,t){var n=Au(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(H(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(H(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(xs(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?BI(t,void 0):n.length=s+1,fi(e.eventQueue_,Jd(t),i);for(var a=0;a<r.length;a++)Bc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function tJ(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=nn(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):mn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var vT=function(e,t){var n=nJ(e),r=n.namespace;n.domain==="firebase.com"&&lo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J9();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yI(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ue(n.pathString)}},nJ=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=eJ(e.substring(d,v)));var g=tJ(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+$t(this.snapshot.exportVal())},e}(),e4=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t4=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Zt;return qX(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){ti("OnDisconnect.remove",this._path);var t=new Zt;return XO(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){ti("OnDisconnect.set",this._path),fo("OnDisconnect.set",t,this._path,!1);var n=new Zt;return XO(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){ti("OnDisconnect.setWithPriority",this._path),fo("OnDisconnect.setWithPriority",t,this._path,!1),zI("OnDisconnect.setWithPriority",n);var r=new Zt;return WX(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){ti("OnDisconnect.update",this._path),q$("OnDisconnect.update",t,this._path);var n=new Zt;return HX(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return we(this._path)?null:bI(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new po(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=MO(this._queryParams),n=vI(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return MO(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=ve(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=EI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+L7(this._path)},e}();function Qy(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Zs(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===io){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==zo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==co)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Ye){if(t!=null&&!fd(t)||n!=null&&!fd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(e.getIndex()instanceof TI||e.getIndex()===II,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var po=function(e){Q(t,e);function t(n,r){return e.call(this,n,r,new _$,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=l$(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(di),Xy=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ue(t),r=hu(this.ref,t);return new e(this._node.getChild(n),r,Ye)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,hu(n.ref,i),Ye))})},e.prototype.hasChild=function(t){var n=new Ue(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function n4(e,t){return e=ve(e),e._checkNotDeleted("ref"),t!==void 0?hu(e._root,t):e._root}function JO(e,t){e=ve(e),e._checkNotDeleted("refFromURL");var n=vT(t,e._repo.repoInfo_.nodeAdmin);W$("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&lo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),n4(e,n.path.toString())}function hu(e,t){return e=ve(e),ye(e._path)===null?NX("child","path",t):hd("child","path",t),new po(e._repo,ot(e._path,t))}function iJ(e,t){e=ve(e),ti("push",e._path),fo("push",t,e._path,!0);var n=G$(e._repo),r=rY(n),i=hu(e,r),s=hu(e,r),a;return t!=null?a=QI(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function oJ(e){return ti("remove",e._path),QI(e,null)}function QI(e,t){e=ve(e),ti("set",e._path),fo("set",t,e._path,!1);var n=new Zt;return HI(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function sJ(e,t){e=ve(e),ti("setPriority",e._path),zI("setPriority",t);var n=new Zt;return HI(e._repo,ot(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function aJ(e,t,n){if(ti("setWithPriority",e._path),fo("setWithPriority",t,e._path,!1),zI("setWithPriority",n),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Zt;return HI(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function uJ(e,t){q$("update",t,e._path);var n=new Zt;return BX(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function lJ(e){return e=ve(e),VX(e._repo,e).then(function(t){return new Xy(t,new po(e._repo,e._path),e._queryParams.getIndex())})}var r4=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new Z$("value",this,new Xy(t.snapshotNode,new po(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new e4(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),i4=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new e4(this,t,n):null},e.prototype.createEvent=function(t,n){H(t.childName!=null,"Child events should have a childName.");var r=hu(new po(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Z$(t.type,this,new Xy(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function np(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(d,v){pT(e._repo,e,h),a(d,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new t4(n,s||void 0),h=t==="value"?new r4(c):new i4(t,c);return KX(e._repo,e,h),function(){return pT(e._repo,e,h)}}function gT(e,t,n,r){return np(e,"value",t,n,r)}function ZO(e,t,n,r){return np(e,"child_added",t,n,r)}function eD(e,t,n,r){return np(e,"child_changed",t,n,r)}function tD(e,t,n,r){return np(e,"child_moved",t,n,r)}function nD(e,t,n,r){return np(e,"child_removed",t,n,r)}function rD(e,t,n){var r=null,i=n?new t4(n):null;t==="value"?r=new r4(i):t&&(r=new i4(t,i)),pT(e._repo,e,r)}var Fi=function(){function e(){}return e}(),o4=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){fo("endAt",this._value,n._path,!0);var r=iT(n._queryParams,this._value,this._key);if(Yy(r),Zs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function cJ(e,t){return ep("endAt","key",t),new o4(e,t)}var fJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){fo("endBefore",this._value,n._path,!1);var r=cY(n._queryParams,this._value,this._key);if(Yy(r),Zs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function hJ(e,t){return ep("endBefore","key",t),new fJ(e,t)}var s4=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){fo("startAt",this._value,n._path,!0);var r=rT(n._queryParams,this._value,this._key);if(Yy(r),Zs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function dJ(e,t){return e===void 0&&(e=null),ep("startAt","key",t),new s4(e,t)}var pJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){fo("startAfter",this._value,n._path,!1);var r=lY(n._queryParams,this._value,this._key);if(Yy(r),Zs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function vJ(e,t){return ep("startAfter","key",t),new pJ(e,t)}var gJ=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(n._repo,n._path,aY(n._queryParams,this._limit),n._orderByCalled)},t}(Fi);function mJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gJ(e)}var yJ=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(n._repo,n._path,uY(n._queryParams,this._limit),n._orderByCalled)},t}(Fi);function wJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yJ(e)}var _J=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Qy(n,"orderByChild");var r=new Ue(this._path);if(we(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new TI(r),s=Ly(n._queryParams,i);return Zs(s),new di(n._repo,n._path,s,!0)},t}(Fi);function bJ(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hd("orderByChild","path",e),new _J(e)}var EJ=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Qy(n,"orderByKey");var r=Ly(n._queryParams,io);return Zs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function SJ(){return new EJ}var TJ=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Qy(n,"orderByPriority");var r=Ly(n._queryParams,Ye);return Zs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function IJ(){return new TJ}var xJ=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Qy(n,"orderByValue");var r=Ly(n._queryParams,II);return Zs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function CJ(){return new xJ}var kJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(fo("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new o4(this._value,this._key)._apply(new s4(this._value,this._key)._apply(n))},t}(Fi);function AJ(e,t){return ep("equalTo","key",t),new kJ(e,t)}function Ei(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=ve(e);try{for(var a=nn(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}eX(po);oX(po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RJ="FIREBASE_DATABASE_EMULATOR_HOST",mT={},a4=!1;function PJ(e,t,n,r){e.repoInfo_=new yI(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function u4(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=vT(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=K9[RJ]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=vT(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new Ch(Ch.OWNER):new a7(e.name,e.options,t);W$("Invalid Firebase Database URL",a),we(a.path)||lo("Database URL must point to the root of a Firebase Database (not including a child path).");var v=OJ(l,e,d,new s7(e.name,n));return new LJ(v,e)}function NJ(e,t){var n=mT[t];(!n||n[e.key]!==e)&&lo("Database "+t+"("+e.repoInfo_+") has already been deleted."),Q$(e),delete n[e.key]}function OJ(e,t,n,r){var i=mT[t.name];i||(i={},mT[t.name]=i);var s=i[e.toURLString()];return s&&lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new jX(e,a4,n,r),i[e.toURLString()]=s,s}function DJ(e){a4=e}var LJ=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(FX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new po(this._repo,De())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(NJ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&lo("Cannot call "+t+" on a deleted database.")},e}();function MJ(e,t,n,r){r===void 0&&(r={}),e=ve(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&lo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ch(Ch.OWNER);else if(r.mockUserToken){var a=CU(r.mockUserToken,e.app.options.projectId);s=new Ch(a)}PJ(i,t,n,s)}function jJ(e){e=ve(e),e._checkNotDeleted("goOffline"),Q$(e._repo)}function FJ(e){e=ve(e),e._checkNotDeleted("goOnline"),GX(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UJ={".sv":"timestamp"};function $J(){return UJ}function VJ(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function zJ(e,t,n){var r;if(e=ve(e),ti("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Zt,a=function(c,h,d){var v=null;c?s.reject(c):(v=new Xy(d,new po(e._repo,e._path),Ye),s.resolve(new BJ(h,v)))},l=gT(e,function(){});return XX(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qJ=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){ue("OnDisconnect.cancel",0,1,arguments.length),Yt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){ue("OnDisconnect.remove",0,1,arguments.length),Yt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){ue("OnDisconnect.set",1,2,arguments.length),Yt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){ue("OnDisconnect.setWithPriority",2,3,arguments.length),Yt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(ue("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,mn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WJ=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return ue("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return ue("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return ue("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return ue("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return ue("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return ue("DataSnapshot.child",0,1,arguments.length),t=String(t),hd("DataSnapshot.child","path",t),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return ue("DataSnapshot.hasChild",1,1,arguments.length),hd("DataSnapshot.hasChild","path",t),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return ue("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return ue("DataSnapshot.forEach",1,1,arguments.length),Yt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return ue("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return ue("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return ue("DataSnapshot.ref",0,0,arguments.length),new $a(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),l4=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;ue("Query.on",2,4,arguments.length),Yt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(d,v){n.call(l.context,new Ph(s.database,d),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return gT(this._delegate,c,h),n;case"child_added":return ZO(this._delegate,c,h),n;case"child_removed":return nD(this._delegate,c,h),n;case"child_changed":return eD(this._delegate,c,h),n;case"child_moved":return tD(this._delegate,c,h),n;default:throw new Error(br("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(ue("Query.off",0,3,arguments.length),PX("Query.off",t),Yt("Query.off","callback",n,!0),mO("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,rD(this._delegate,t,i)}else rD(this._delegate,t)},e.prototype.get=function(){var t=this;return lJ(this._delegate).then(function(n){return new Ph(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;ue("Query.once",1,4,arguments.length),Yt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Zt,c=function(d,v){var g=new Ph(s.database,d);n&&n.call(a.context,g,v),l.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),l.reject(d)};switch(t){case"value":gT(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":ZO(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":nD(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":eD(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":tD(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(br("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return ue("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ei(this._delegate,mJ(t)))},e.prototype.limitToLast=function(t){return ue("Query.limitToLast",1,1,arguments.length),new e(this.database,Ei(this._delegate,wJ(t)))},e.prototype.orderByChild=function(t){return ue("Query.orderByChild",1,1,arguments.length),new e(this.database,Ei(this._delegate,bJ(t)))},e.prototype.orderByKey=function(){return ue("Query.orderByKey",0,0,arguments.length),new e(this.database,Ei(this._delegate,SJ()))},e.prototype.orderByPriority=function(){return ue("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ei(this._delegate,IJ()))},e.prototype.orderByValue=function(){return ue("Query.orderByValue",0,0,arguments.length),new e(this.database,Ei(this._delegate,CJ()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),ue("Query.startAt",0,2,arguments.length),new e(this.database,Ei(this._delegate,dJ(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),ue("Query.startAfter",0,2,arguments.length),new e(this.database,Ei(this._delegate,vJ(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),ue("Query.endAt",0,2,arguments.length),new e(this.database,Ei(this._delegate,cJ(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),ue("Query.endBefore",0,2,arguments.length),new e(this.database,Ei(this._delegate,hJ(t,n)))},e.prototype.equalTo=function(t,n){return ue("Query.equalTo",1,2,arguments.length),new e(this.database,Ei(this._delegate,AJ(t,n)))},e.prototype.toString=function(){return ue("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return ue("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(ue("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Yt(t,"cancel",i.cancel,!0),i.context=r,mO(t,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(br(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new $a(this.database,new po(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),$a=function(e){Q(t,e);function t(n,r){var i=e.call(this,n,new di(r._repo,r._path,new _$,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return ue("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return ue("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,hu(this._delegate,n))},t.prototype.getParent=function(){ue("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return ue("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){ue("Reference.set",1,2,arguments.length),Yt("Reference.set","onComplete",r,!0);var i=QI(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(ue("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,mn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),Yt("Reference.update","onComplete",r,!0);var a=uJ(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){ue("Reference.setWithPriority",2,3,arguments.length),Yt("Reference.setWithPriority","onComplete",i,!0);var s=aJ(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){ue("Reference.remove",0,1,arguments.length),Yt("Reference.remove","onComplete",n,!0);var r=oJ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;ue("Reference.transaction",1,3,arguments.length),Yt("Reference.transaction","transactionUpdate",n,!1),Yt("Reference.transaction","onComplete",r,!0),OX("Reference.transaction","applyLocally",i);var a=zJ(this._delegate,n,{applyLocally:i}).then(function(l){return new WJ(l.committed,new Ph(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){ue("Reference.setPriority",1,2,arguments.length),Yt("Reference.setPriority","onComplete",r,!0);var i=sJ(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;ue("Reference.push",0,2,arguments.length),Yt("Reference.push","onComplete",r,!0);var s=iJ(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return ti("Reference.onDisconnect",this._delegate._path),new qJ(new rJ(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(l4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rm=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),MJ(this._delegate,t,n,r)},e.prototype.ref=function(t){if(ue("database.ref",0,1,arguments.length),t instanceof $a){var n=JO(this._delegate,t.toString());return new $a(this,n)}else{var n=n4(this._delegate,t);return new $a(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";ue(n,1,1,arguments.length);var r=JO(this._delegate,t);return new $a(this,r)},e.prototype.goOffline=function(){return ue("database.goOffline",0,0,arguments.length),jJ(this._delegate)},e.prototype.goOnline=function(){return ue("database.goOnline",0,0,arguments.length),FJ(this._delegate)},e.ServerValue={TIMESTAMP:$J(),increment:function(t){return VJ(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ=function(){Oa.forceDisallow(),_I.forceAllow()},KJ=function(){_I.forceDisallow()},GJ=function(){return Oa.isAvailable()},QJ=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},YJ=function(e,t){QX(e._delegate._repo,t)},XJ=function(e,t){YX(e._delegate._repo,t)},JJ=function(e){return e._delegate._repo.dataUpdateCount},ZJ=function(e,t){return UX(e._delegate._repo,t)};function eZ(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;FU(r);var c=new NU("auth-internal",new OU("database-standalone"));return c.setComponent(new Mn("auth-internal",function(){return i},"PRIVATE")),{instance:new Rm(u4(t,c,void 0,n,l),t),namespace:s}}var tZ=Object.freeze({__proto__:null,forceLongPolling:HJ,forceWebSockets:KJ,isWebSocketsAvailable:GJ,setSecurityDebugCallback:QJ,stats:YJ,statsIncrementCounter:XJ,dataUpdateCount:JJ,interceptServerData:ZJ,initStandalone:eZ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nZ=Ja;Ja.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ja.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var rZ=s$,iZ=function(e){var t=Ja.prototype.put;return Ja.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Ja.prototype.put=t}},oZ=yI,sZ=function(e){return e._delegate._queryIdentifier},aZ=function(e){DJ(e)},uZ=Object.freeze({__proto__:null,DataConnection:nZ,RealTimeConnection:rZ,hijackHash:iZ,ConnectionTarget:oZ,queryIdentifier:sZ,forceRestClient:aZ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lZ=Rm.ServerValue;function cZ(e){FU(e.SDK_VERSION),e.INTERNAL.registerComponent(new Mn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Rm(u4(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:$a,Query:l4,Database:Rm,DataSnapshot:Ph,enableLogging:BU,INTERNAL:tZ,ServerValue:lZ,TEST_ACCESS:uZ}).setMultipleInstances(!0)),e.registerVersion(G9,Q9)}cZ(X);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yT=function(e,t){return yT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yT(e,t)};function fZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function c4(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var hZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,YI=YI||{},he=hZ||self;function Pm(){}function wT(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Jy(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function dZ(e){return Object.prototype.hasOwnProperty.call(e,fE)&&e[fE]||(e[fE]=++pZ)}var fE="closure_uid_"+(1e9*Math.random()>>>0),pZ=0;function vZ(e,t,n){return e.call.apply(e.bind,arguments)}function gZ(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function yn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=vZ:yn=gZ,yn.apply(null,arguments)}function Yv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function En(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ea(){this.s=this.s,this.o=this.o}var mZ=0;ea.prototype.s=!1;ea.prototype.na=function(){!this.s&&(this.s=!0,this.M(),mZ!=0)&&dZ(this)};ea.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var f4=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},h4=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function yZ(e){e:{for(var t=cee,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function iD(e){return Array.prototype.concat.apply([],arguments)}function XI(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nm(e){return/^[\s\xa0]*$/.test(e)}var oD=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qn(e,t){return e.indexOf(t)!=-1}function hE(e,t){return e<t?-1:e>t?1:0}var Yn;e:{var sD=he.navigator;if(sD){var aD=sD.userAgent;if(aD){Yn=aD;break e}}Yn=""}function JI(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function d4(e){var t={};for(var n in e)t[n]=e[n];return t}var uD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p4(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<uD.length;s++)n=uD[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ZI(e){return ZI[" "](e),e}ZI[" "]=Pm;function wZ(e){var t=EZ;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var _Z=Qn(Yn,"Opera"),vc=Qn(Yn,"Trident")||Qn(Yn,"MSIE"),v4=Qn(Yn,"Edge"),_T=v4||vc,g4=Qn(Yn,"Gecko")&&!(Qn(Yn.toLowerCase(),"webkit")&&!Qn(Yn,"Edge"))&&!(Qn(Yn,"Trident")||Qn(Yn,"MSIE"))&&!Qn(Yn,"Edge"),bZ=Qn(Yn.toLowerCase(),"webkit")&&!Qn(Yn,"Edge");function m4(){var e=he.document;return e?e.documentMode:void 0}var Om;e:{var dE="",pE=function(){var e=Yn;if(g4)return/rv:([^\);]+)(\)|;)/.exec(e);if(v4)return/Edge\/([\d\.]+)/.exec(e);if(vc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(bZ)return/WebKit\/(\S+)/.exec(e);if(_Z)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(pE&&(dE=pE?pE[1]:""),vc){var vE=m4();if(vE!=null&&vE>parseFloat(dE)){Om=String(vE);break e}}Om=dE}var EZ={};function SZ(){return wZ(function(){for(var e=0,t=oD(String(Om)).split("."),n=oD("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=hE(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||hE(s[2].length==0,a[2].length==0)||hE(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var bT;if(he.document&&vc){var lD=m4();bT=lD||parseInt(Om,10)||void 0}else bT=void 0;var TZ=bT,IZ=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{he.addEventListener("test",Pm,t),he.removeEventListener("test",Pm,t)}catch{}return e}();function Nn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};function dd(e,t){if(Nn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g4){e:{try{ZI(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xZ[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dd.Z.h.call(this)}}En(dd,Nn);var xZ={2:"touch",3:"pen",4:"mouse"};dd.prototype.h=function(){dd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zy="closure_listenable_"+(1e6*Math.random()|0),CZ=0;function kZ(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++CZ,this.ca=this.fa=!1}function e0(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function t0(e){this.src=e,this.g={},this.h=0}t0.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=ST(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new kZ(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function ET(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=f4(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(e0(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ST(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var ex="closure_lm_"+(1e6*Math.random()|0),gE={};function y4(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)y4(e,t[s],n,r,i);return null}return n=b4(n),e&&e[Zy]?e.N(t,n,Jy(r)?!!r.capture:!!r,i):AZ(e,t,n,!1,r,i)}function AZ(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Jy(i)?!!i.capture:!!i,l=nx(e);if(l||(e[ex]=l=new t0(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=RZ(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)IZ||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_4(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RZ(){function e(n){return t.call(e.src,e.listener,n)}var t=PZ;return e}function w4(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)w4(e,t[s],n,r,i);else r=Jy(r)?!!r.capture:!!r,n=b4(n),e&&e[Zy]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ST(s,n,r,i),-1<n&&(e0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=nx(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ST(t,n,r,i)),(n=-1<e?t[e]:null)&&tx(n))}function tx(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Zy])ET(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_4(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nx(t))?(ET(n,e),n.h==0&&(n.src=null,t[ex]=null)):e0(e)}}}function _4(e){return e in gE?gE[e]:gE[e]="on"+e}function PZ(e,t){if(e.ca)e=!0;else{t=new dd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&tx(e),e=n.call(r,t)}return e}function nx(e){return e=e[ex],e instanceof t0?e:null}var mE="__closure_events_fn_"+(1e9*Math.random()>>>0);function b4(e){return typeof e=="function"?e:(e[mE]||(e[mE]=function(t){return e.handleEvent(t)}),e[mE])}function rn(){ea.call(this),this.i=new t0(this),this.P=this,this.I=null}En(rn,ea);rn.prototype[Zy]=!0;rn.prototype.removeEventListener=function(e,t,n,r){w4(this,e,t,n,r)};function wn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Nn(t,e);else if(t instanceof Nn)t.target=t.target||e;else{var i=t;t=new Nn(r,e),p4(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Xv(a,r,!0,t)&&i}if(a=t.g=e,i=Xv(a,r,!0,t)&&i,i=Xv(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Xv(a,r,!1,t)&&i}rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)e0(n[r]);delete e.g[t],e.h--}}this.I=null};rn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};rn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Xv(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&ET(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var rx=he.JSON.stringify;function NZ(){var e=S4,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var OZ=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=E4.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),E4=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new DZ},function(e){return e.reset()}),DZ=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function LZ(e){he.setTimeout(function(){throw e},0)}function ix(e,t){TT||MZ(),IT||(TT(),IT=!0),S4.add(e,t)}var TT;function MZ(){var e=he.Promise.resolve(void 0);TT=function(){e.then(jZ)}}var IT=!1,S4=new OZ;function jZ(){for(var e;e=NZ();){try{e.h.call(e.g)}catch(n){LZ(n)}var t=E4;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}IT=!1}function n0(e,t){rn.call(this),this.h=e||1,this.g=t||he,this.j=yn(this.kb,this),this.l=Date.now()}En(n0,rn);Z=n0.prototype;Z.da=!1;Z.S=null;Z.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wn(this,"tick"),this.da&&(ox(this),this.start()))}};Z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ox(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Z.M=function(){n0.Z.M.call(this),ox(this),delete this.g};function sx(e,t,n){if(typeof e=="function")n&&(e=yn(e,n));else if(e&&typeof e.handleEvent=="function")e=yn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:he.setTimeout(e,t||0)}function T4(e){e.g=sx(function(){e.g=null,e.i&&(e.i=!1,T4(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var FZ=function(e){fZ(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:T4(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ea);function pd(e){ea.call(this),this.h=e,this.g={}}En(pd,ea);var cD=[];function I4(e,t,n,r){Array.isArray(n)||(n&&(cD[0]=n.toString()),n=cD);for(var i=0;i<n.length;i++){var s=y4(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function x4(e){JI(e.g,function(t,n){this.g.hasOwnProperty(n)&&tx(t)},e),e.g={}}pd.prototype.M=function(){pd.Z.M.call(this),x4(this)};pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function r0(){this.g=!0}r0.prototype.Aa=function(){this.g=!1};function UZ(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function $Z(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Fl(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+BZ(e,n)+(r?" "+r:"")})}function VZ(e,t){e.info(function(){return"TIMEOUT: "+t})}r0.prototype.info=function(){};function BZ(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return rx(n)}catch{return t}}var Ru={},fD=null;function i0(){return fD=fD||new rn}Ru.Ma="serverreachability";function C4(e){Nn.call(this,Ru.Ma,e)}En(C4,Nn);function vd(e){var t=i0();wn(t,new C4(t))}Ru.STAT_EVENT="statevent";function k4(e,t){Nn.call(this,Ru.STAT_EVENT,e),this.stat=t}En(k4,Nn);function Jn(e){var t=i0();wn(t,new k4(t,e))}Ru.Na="timingevent";function A4(e,t){Nn.call(this,Ru.Na,e),this.size=t}En(A4,Nn);function rp(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){e()},t)}var o0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},R4={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ax(){}ax.prototype.h=null;function hD(e){return e.h||(e.h=e.i())}function P4(){}var ip={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ux(){Nn.call(this,"d")}En(ux,Nn);function lx(){Nn.call(this,"c")}En(lx,Nn);var xT;function s0(){}En(s0,ax);s0.prototype.g=function(){return new XMLHttpRequest};s0.prototype.i=function(){return{}};xT=new s0;function op(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new pd(this),this.P=zZ,e=_T?125:void 0,this.W=new n0(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new N4}function N4(){this.i=null,this.g="",this.h=!1}var zZ=45e3,CT={},Dm={};Z=op.prototype;Z.setTimeout=function(e){this.P=e};function kT(e,t,n){e.K=1,e.v=u0(qo(t)),e.s=n,e.U=!0,O4(e,null)}function O4(e,t){e.F=Date.now(),sp(e),e.A=qo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$4(n.h,"t",r),e.C=0,n=e.l.H,e.h=new N4,e.g=sV(e.l,n?t:null,!e.s),0<e.O&&(e.L=new FZ(yn(e.Ia,e,e.g),e.O)),I4(e.V,e.g,"readystatechange",e.gb),t=e.H?d4(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),vd(),UZ(e.j,e.u,e.A,e.m,e.X,e.s)}Z.gb=function(e){e=e.target;var t=this.L;t&&Oo(e)==3?t.l():this.Ia(e)};Z.Ia=function(e){try{if(e==this.g)e:{var t=Oo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||_T||this.g&&(this.h.h||this.g.ga()||gD(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?vd(3):vd(2)),a0(this);var i=this.g.ba();this.N=i;t:if(D4(this)){var s=gD(this.g);e="";var a=s.length,l=Oo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Va(this),Nh(this);var c="";break t}this.h.i=new he.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,$Z(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nm(h)){var v=h;break t}}v=null}if(i=v)Fl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AT(this,i);else{this.i=!1,this.o=3,Jn(12),Va(this),Nh(this);break e}}this.U?(L4(this,t,c),_T&&this.i&&t==3&&(I4(this.V,this.W,"tick",this.fb),this.W.start())):(Fl(this.j,this.m,c,null),AT(this,c)),t==4&&Va(this),this.i&&!this.I&&(t==4?nV(this.l,this):(this.i=!1,sp(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),Va(this),Nh(this)}}}catch{}finally{}};function D4(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function L4(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=qZ(e,n),i==Dm){t==4&&(e.o=4,Jn(14),r=!1),Fl(e.j,e.m,null,"[Incomplete Response]");break}else if(i==CT){e.o=4,Jn(15),Fl(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Fl(e.j,e.m,i,null),AT(e,i);D4(e)&&i!=Dm&&i!=CT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Jn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yx(t),t.L=!0,Jn(11))):(Fl(e.j,e.m,n,"[Invalid Chunked Response]"),Va(e),Nh(e))}Z.fb=function(){if(this.g){var e=Oo(this.g),t=this.g.ga();this.C<t.length&&(a0(this),L4(this,e,t),this.i&&e!=4&&sp(this))}};function qZ(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Dm:(n=Number(t.substring(n,r)),isNaN(n)?CT:(r+=1,r+n>t.length?Dm:(t=t.substr(r,n),e.C=r+n,t)))}Z.cancel=function(){this.I=!0,Va(this)};function sp(e){e.Y=Date.now()+e.P,M4(e,e.P)}function M4(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=rp(yn(e.eb,e),t)}function a0(e){e.B&&(he.clearTimeout(e.B),e.B=null)}Z.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(VZ(this.j,this.A),this.K!=2&&(vd(),Jn(17)),Va(this),this.o=2,Nh(this)):M4(this,this.Y-e)};function Nh(e){e.l.G==0||e.I||nV(e.l,e)}function Va(e){a0(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ox(e.W),x4(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function AT(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||RT(n.i,e))){if(n.I=e.N,!e.J&&RT(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Fm(n),f0(n);else break e;mx(n),Jn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=rp(yn(n.ab,n),6e3));if(1>=z4(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ba(n,11)}else if((e.J||n.g==e)&&Fm(n),!Nm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(Qn(d,"spdy")||Qn(d,"quic")||Qn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(hx(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,it(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=oV(r,r.H?r.la:null,r.W),y.J){q4(r.i,y);var w=y,E=r.K;E&&w.setTimeout(E),w.B&&(a0(w),sp(w)),r.g=y}else eV(r);0<n.l.length&&h0(n)}else s[0]!="stop"&&s[0]!="close"||Ba(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Ba(n,7):gx(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}vd(4)}catch{}}function WZ(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(wT(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function cx(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(wT(e)||typeof e=="string")h4(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(wT(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=WZ(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Hc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Z=Hc.prototype;Z.R=function(){fx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Z.T=function(){return fx(this),this.g.concat()};function fx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];du(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],du(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Z.get=function(e,t){return du(this.h,e)?this.h[e]:t};Z.set=function(e,t){du(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Z.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function du(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var j4=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function HZ(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function pu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof pu){this.g=t!==void 0?t:e.g,Lm(this,e.j),this.s=e.s,Mm(this,e.i),jm(this,e.m),this.l=e.l,t=e.h;var n=new gd;n.i=t.i,t.g&&(n.g=new Hc(t.g),n.h=t.h),dD(this,n),this.o=e.o}else e&&(n=String(e).match(j4))?(this.g=!!t,Lm(this,n[1]||"",!0),this.s=Oh(n[2]||""),Mm(this,n[3]||"",!0),jm(this,n[4]),this.l=Oh(n[5]||"",!0),dD(this,n[6]||"",!0),this.o=Oh(n[7]||"")):(this.g=!!t,this.h=new gd(null,this.g))}pu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dh(t,pD,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(dh(t,pD,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(dh(n,n.charAt(0)=="/"?XZ:YZ,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dh(n,ZZ)),e.join("")};function qo(e){return new pu(e)}function Lm(e,t,n){e.j=n?Oh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mm(e,t,n){e.i=n?Oh(t,!0):t}function jm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dD(e,t,n){t instanceof gd?(e.h=t,eee(e.h,e.g)):(n||(t=dh(t,JZ)),e.h=new gd(t,e.g))}function it(e,t,n){e.h.set(t,n)}function u0(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function KZ(e){return e instanceof pu?qo(e):new pu(e,void 0)}function GZ(e,t,n,r){var i=new pu(null,void 0);return e&&Lm(i,e),t&&Mm(i,t),n&&jm(i,n),r&&(i.l=r),i}function Oh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dh(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,QZ),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function QZ(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var pD=/[#\/\?@]/g,YZ=/[#\?:]/g,XZ=/[#\?]/g,JZ=/[#\?@]/g,ZZ=/#/g;function gd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ta(e){e.g||(e.g=new Hc,e.h=0,e.i&&HZ(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Z=gd.prototype;Z.add=function(e,t){ta(this),this.i=null,e=Kc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function F4(e,t){ta(e),t=Kc(e,t),du(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,du(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&fx(e)))}function U4(e,t){return ta(e),t=Kc(e,t),du(e.g.h,t)}Z.forEach=function(e,t){ta(this),this.g.forEach(function(n,r){h4(n,function(i){e.call(t,i,r,this)},this)},this)};Z.T=function(){ta(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Z.R=function(e){ta(this);var t=[];if(typeof e=="string")U4(this,e)&&(t=iD(t,this.g.get(Kc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=iD(t,e[n])}return t};Z.set=function(e,t){return ta(this),this.i=null,e=Kc(this,e),U4(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Z.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function $4(e,t,n){F4(e,t),0<n.length&&(e.i=null,e.g.set(Kc(e,t),XI(n)),e.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Kc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function eee(e,t){t&&!e.j&&(ta(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(F4(this,r),$4(this,i,n))},e)),e.j=t}var tee=function(){function e(t,n){this.h=t,this.g=n}return e}();function V4(e){this.l=e||nee,he.PerformanceNavigationTiming?(e=he.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nee=10;function B4(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function z4(e){return e.h?1:e.g?e.g.size:0}function RT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function hx(e,t){e.g?e.g.add(t):e.h=t}function q4(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}V4.prototype.cancel=function(){var e,t;if(this.i=W4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=c4(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function W4(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=c4(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return XI(e.i)}function dx(){}dx.prototype.stringify=function(e){return he.JSON.stringify(e,void 0)};dx.prototype.parse=function(e){return he.JSON.parse(e,void 0)};function ree(){this.g=new dx}function iee(e,t,n){var r=n||"";try{cx(e,function(i,s){var a=i;Jy(i)&&(a=rx(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function oee(e,t){var n=new r0;if(he.Image){var r=new Image;r.onload=Yv(Jv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yv(Jv,n,r,"TestLoadImage: error",!1,t),r.onabort=Yv(Jv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yv(Jv,n,r,"TestLoadImage: timeout",!1,t),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ap(e){this.l=e.$b||null,this.j=e.ib||!1}En(ap,ax);ap.prototype.g=function(){return new l0(this.l,this.j)};ap.prototype.i=function(e){return function(){return e}}({});function l0(e,t){rn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=px,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(l0,rn);var px=0;Z=l0.prototype;Z.open=function(e,t){if(this.readyState!=px)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,md(this)};Z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||he).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,up(this)),this.readyState=px};Z.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H4(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function H4(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Z.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?up(this):md(this),this.readyState==3&&H4(this)}};Z.Ua=function(e){this.g&&(this.response=this.responseText=e,up(this))};Z.Ta=function(e){this.g&&(this.response=e,up(this))};Z.ha=function(){this.g&&up(this)};function up(e){e.readyState=4,e.l=null,e.j=null,e.A=null,md(e)}Z.setRequestHeader=function(e,t){this.v.append(e,t)};Z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function md(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(l0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var see=he.JSON.parse;function Nt(e){rn.call(this),this.headers=new Hc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=K4,this.K=this.L=!1}En(Nt,rn);var K4="",aee=/^https?$/i,uee=["POST","PUT"];Z=Nt.prototype;Z.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xT.g(),this.C=this.u?hD(this.u):hD(xT),this.g.onreadystatechange=yn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){vD(this,s);return}e=n||"";var i=new Hc(this.headers);r&&cx(r,function(s,a){i.set(a,s)}),r=yZ(i.T()),n=he.FormData&&e instanceof he.FormData,!(0<=f4(uee,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y4(this),0<this.B&&((this.K=lee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.pa,this)):this.A=sx(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){vD(this,s)}};function lee(e){return vc&&SZ()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function cee(e){return e.toLowerCase()=="content-type"}Z.pa=function(){typeof YI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))};function vD(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,G4(e),c0(e)}function G4(e){e.D||(e.D=!0,wn(e,"complete"),wn(e,"error"))}Z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wn(this,"complete"),wn(this,"abort"),c0(this))};Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),c0(this,!0)),Nt.Z.M.call(this)};Z.Fa=function(){this.s||(this.F||this.v||this.l?Q4(this):this.cb())};Z.cb=function(){Q4(this)};function Q4(e){if(e.h&&typeof YI<"u"&&(!e.C[1]||Oo(e)!=4||e.ba()!=2)){if(e.v&&Oo(e)==4)sx(e.Fa,0,e);else if(wn(e,"readystatechange"),Oo(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(j4)[1]||null;if(!s&&he.self&&he.self.location){var a=he.self.location.protocol;s=a.substr(0,a.length-1)}i=!aee.test(s?s.toLowerCase():"")}r=i}if(r)wn(e,"complete"),wn(e,"success");else{e.m=6;try{var l=2<Oo(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",G4(e)}}finally{c0(e)}}}}function c0(e,t){if(e.g){Y4(e);var n=e.g,r=e.C[0]?Pm:null;e.g=null,e.C=null,t||wn(e,"ready");try{n.onreadystatechange=r}catch{}}}function Y4(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(he.clearTimeout(e.A),e.A=null)}function Oo(e){return e.g?e.g.readyState:0}Z.ba=function(){try{return 2<Oo(this)?this.g.status:-1}catch{return-1}};Z.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),see(t)}};function gD(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case K4:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Z.Da=function(){return this.m};Z.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function fee(e){var t="";return JI(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function vx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fee(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):it(e,t,n))}function eh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function X4(e){this.za=0,this.l=[],this.h=new r0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eh("baseRetryDelayMs",5e3,e),this.$a=eh("retryDelaySeedMs",1e4,e),this.Ya=eh("forwardChannelMaxRetries",2,e),this.ra=eh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new V4(e&&e.concurrentRequestLimit),this.Ca=new ree,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Z=X4.prototype;Z.ma=8;Z.G=1;function gx(e){if(J4(e),e.G==3){var t=e.V++,n=qo(e.F);it(n,"SID",e.J),it(n,"RID",t),it(n,"TYPE","terminate"),lp(e,n),t=new op(e,e.h,t,void 0),t.K=2,t.v=u0(qo(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(t.v.toString(),"")),!n&&he.Image&&(new Image().src=t.v,n=!0),n||(t.g=sV(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sp(t)}iV(e)}Z.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function f0(e){e.g&&(yx(e),e.g.cancel(),e.g=null)}function J4(e){f0(e),e.u&&(he.clearTimeout(e.u),e.u=null),Fm(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&he.clearTimeout(e.m),e.m=null)}function yE(e,t){e.l.push(new tee(e.Za++,t)),e.G==3&&h0(e)}function h0(e){B4(e.i)||e.m||(e.m=!0,ix(e.Ha,e),e.C=0)}function hee(e,t){return z4(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=rp(yn(e.Ha,e,t),rV(e,e.C)),e.C++,!0)}Z.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new op(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=d4(n),p4(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Z4(this,t,r),i=qo(this.F),it(i,"RID",e),it(i,"CVER",22),this.D&&it(i,"X-HTTP-Session-Id",this.D),lp(this,i),this.o&&n&&vx(i,this.o,n),hx(this.i,t),this.Ra&&it(i,"TYPE","init"),this.ja?(it(i,"$req",r),it(i,"SID","null"),t.$=!0,kT(t,i,null)):kT(t,i,r),this.G=2}}else this.G==3&&(e?mD(this,e):this.l.length==0||B4(this.i)||mD(this))};function mD(e,t){var n;t?n=t.m:n=e.V++;var r=qo(e.F);it(r,"SID",e.J),it(r,"RID",n),it(r,"AID",e.U),lp(e,r),e.o&&e.s&&vx(r,e.o,e.s),n=new op(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Z4(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hx(e.i,n),kT(n,r,t)}function lp(e,t){e.j&&cx({},function(n,r){it(t,r,n)})}function Z4(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yn(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,d=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{iee(d,a,"req"+h+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function eV(e){e.g||e.u||(e.Y=1,ix(e.Ga,e),e.A=0)}function mx(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=rp(yn(e.Ga,e),rV(e,e.A)),e.A++,!0)}Z.Ga=function(){if(this.u=null,tV(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rp(yn(this.bb,this),e)}};Z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jn(10),f0(this),tV(this))};function yx(e){e.B!=null&&(he.clearTimeout(e.B),e.B=null)}function tV(e){e.g=new op(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=qo(e.oa);it(t,"RID","rpc"),it(t,"SID",e.J),it(t,"CI",e.N?"0":"1"),it(t,"AID",e.U),lp(e,t),it(t,"TYPE","xmlhttp"),e.o&&e.s&&vx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=u0(qo(t)),n.s=null,n.U=!0,O4(n,e)}Z.ab=function(){this.v!=null&&(this.v=null,f0(this),mx(this),Jn(19))};function Fm(e){e.v!=null&&(he.clearTimeout(e.v),e.v=null)}function nV(e,t){var n=null;if(e.g==t){Fm(e),yx(e),e.g=null;var r=2}else if(RT(e.i,t))n=t.D,q4(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=i0(),wn(r,new A4(r,n)),h0(e)}else eV(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&hee(e,t)||r==2&&mx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ba(e,5);break;case 4:Ba(e,10);break;case 3:Ba(e,6);break;default:Ba(e,2)}}}function rV(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ba(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=yn(e.jb,e);n||(n=new pu("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Lm(n,"https"),u0(n)),oee(n.toString(),r)}else Jn(2);e.G=0,e.j&&e.j.va(t),iV(e),J4(e)}Z.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Jn(2)):(this.h.info("Failed to ping google.com"),Jn(1))};function iV(e){e.G=0,e.I=-1,e.j&&((W4(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,XI(e.l),e.l.length=0),e.j.ua())}function oV(e,t,n){var r=KZ(n);if(r.i!="")t&&Mm(r,t+"."+r.i),jm(r,r.m);else{var i=he.location;r=GZ(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&JI(e.aa,function(s,a){it(r,a,s)}),t=e.D,n=e.sa,t&&n&&it(r,t,n),it(r,"VER",e.ma),lp(e,r),r}function sV(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Nt(new ap({ib:!0})):new Nt(e.qa),t.L=e.H,t}function aV(){}Z=aV.prototype;Z.xa=function(){};Z.wa=function(){};Z.va=function(){};Z.ua=function(){};Z.Oa=function(){};function Um(){if(vc&&!(10<=Number(TZ)))throw Error("Environmental error: no available transport.")}Um.prototype.g=function(e,t){return new Br(e,t)};function Br(e,t){rn.call(this),this.g=new X4(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nm(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gc(this)}En(Br,rn);Br.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ix(yn(e.hb,e,t))),Jn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=oV(e,null,e.W),h0(e)};Br.prototype.close=function(){gx(this.g)};Br.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,yE(this.g,t)}else this.v?(t={},t.__data__=rx(e),yE(this.g,t)):yE(this.g,e)};Br.prototype.M=function(){this.g.j=null,delete this.j,gx(this.g),delete this.g,Br.Z.M.call(this)};function uV(e){ux.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}En(uV,ux);function lV(){lx.call(this),this.status=1}En(lV,lx);function Gc(e){this.g=e}En(Gc,aV);Gc.prototype.xa=function(){wn(this.g,"a")};Gc.prototype.wa=function(e){wn(this.g,new uV(e))};Gc.prototype.va=function(e){wn(this.g,new lV)};Gc.prototype.ua=function(){wn(this.g,"b")};Um.prototype.createWebChannel=Um.prototype.g;Br.prototype.send=Br.prototype.u;Br.prototype.open=Br.prototype.m;Br.prototype.close=Br.prototype.close;o0.NO_ERROR=0;o0.TIMEOUT=8;o0.HTTP_ERROR=6;R4.COMPLETE="complete";P4.EventType=ip;ip.OPEN="a";ip.CLOSE="b";ip.ERROR="c";ip.MESSAGE="d";rn.prototype.listen=rn.prototype.N;Nt.prototype.listenOnce=Nt.prototype.O;Nt.prototype.getLastError=Nt.prototype.La;Nt.prototype.getLastErrorCode=Nt.prototype.Da;Nt.prototype.getStatus=Nt.prototype.ba;Nt.prototype.getResponseJson=Nt.prototype.Qa;Nt.prototype.getResponseText=Nt.prototype.ga;Nt.prototype.send=Nt.prototype.ea;var dee=function(){return new Um},pee=function(){return i0()},wE=o0,vee=R4,gee=Ru,yD={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mee=ap,Zv=P4,yee=Nt,wee={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Lr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Q(t,e),t}(Error),Di=new xu("@firebase/firestore");function PT(){return Di.logLevel}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.DEBUG){var r=t.map(wx);Di.debug.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function Rt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.ERROR){var r=t.map(wx);Di.error.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function yd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.WARN){var r=t.map(wx);Di.warn.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function wx(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw Rt(t),new Error(t)}function ce(e,t){e||re()}function G(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cV=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=_ee(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Te(e,t){return e<t?-1:e>t?1:0}function gc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function fV(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Te(this.nanoseconds,t.nanoseconds):Te(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Er(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hV(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dV=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Le=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new B(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(dV),bee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return bee.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new B(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new B(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new B(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(dV),mc=function(){function e(t){this.fields=t,t.sort(ji.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return gc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),er=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Te(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();er.EMPTY_BYTE_STRING=new er("");var Eee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(e){if(ce(!!e),typeof e=="string"){var t=0,n=Eee.exec(e);if(ce(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ct(e.seconds),nanos:Ct(e.nanos)}}function Ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function yc(e){return typeof e=="string"?er.fromBase64String(e):er.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pV(e){var t=e.mapValue.fields.__previous_value__;return _x(t)?pV(t):t}function wd(e){var t=Ks(e.mapValue.fields.__local_write_time__.timestampValue);return new Er(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e){return e==null}function $m(e){return e===0&&1/e==-1/0}function vV(e){return typeof e=="number"&&Number.isInteger(e)&&!$m(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Le.fromString(t))},e.fromName=function(t){return new e(Le.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Le.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Le.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Le(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_x(e)?4:10:re()}function ho(e,t){var n=vu(e);if(n!==vu(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wd(e).isEqual(wd(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Ks(r.timestampValue),a=Ks(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return yc(r.bytesValue).isEqual(yc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Ct(r.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ct(r.integerValue)===Ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Ct(r.doubleValue),a=Ct(i.doubleValue);return s===a?$m(s)===$m(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return gc(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(wD(s)!==wD(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ho(s[l],a[l])))return!1;return!0}(e,t);default:return re()}}function _d(e,t){return(e.values||[]).find(function(n){return ho(n,t)})!==void 0}function wc(e,t){var n=vu(e),r=vu(t);if(n!==r)return Te(n,r);switch(n){case 0:return 0;case 1:return Te(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Ct(i.integerValue||i.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return _D(e.timestampValue,t.timestampValue);case 4:return _D(wd(e),wd(t));case 5:return Te(e.stringValue,t.stringValue);case 6:return function(i,s){var a=yc(i),l=yc(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Te(a[c],l[c]);if(h!==0)return h}return Te(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Te(Ct(i.latitude),Ct(s.latitude));return a!==0?a:Te(Ct(i.longitude),Ct(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=wc(a[c],l[c]);if(h)return h}return Te(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var d=0;d<l.length&&d<h.length;++d){var v=Te(l[d],h[d]);if(v!==0)return v;var g=wc(a[l[d]],c[h[d]]);if(g!==0)return g}return Te(l.length,h.length)}(e.mapValue,t.mapValue);default:throw re()}}function _D(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Te(e,t);var n=Ks(e),r=Ks(t),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function bx(e){return NT(e)}function NT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Ks(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ie.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=NT(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+NT(r.fields[c])}return i+"}"}(e.mapValue):re();var t,n}function Vm(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function OT(e){return!!e&&"integerValue"in e}function Ex(e){return!!e&&"arrayValue"in e}function bD(e){return!!e&&"nullValue"in e}function ED(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pg(e){return!!e&&"mapValue"in e}function Dh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Pu(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Dh(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dh(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Pg(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dh(n)},e.prototype.setAll=function(t){var n=this,r=ji.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=Dh(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ho(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Pu(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Dh(this.value))},e}();function gV(e){var t=[];return Pu(e.fields,function(n,r){var i=new ji([n]);if(Pg(r)){var s=gV(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new mc(t)}var bn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,_e.min(),Or.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Or.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Or.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Or.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Or.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),See=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new See(e,t,n,r,i,s,a)}function cp(e){var t=G(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+bx(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Nu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=zm(t.startAt)),t.endAt&&(n+="|ub:",n+=zm(t.endAt)),t.h=n}return t.h}function d0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Pee(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!ho(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ID(e.startAt,t.startAt)&&ID(e.endAt,t.endAt)}function Bm(e){return ie.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Mr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return Q(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Tee(n,r,i):r==="array-contains"?new Cee(n,i):r==="in"?new kee(n,i):r==="not-in"?new Aee(n,i):r==="array-contains-any"?new Ree(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new Iee(n,i):new xee(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(wc(r,this.value)):r!==null&&vu(this.value)===vu(r)&&this.m(wc(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return re()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Tee=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ie.fromName(i.referenceValue),s}return Q(t,e),t.prototype.matches=function(n){var r=ie.comparator(n.key,this.key);return this.m(r)},t}(Mr),Iee=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=mV("in",r),i}return Q(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Mr),xee=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=mV("not-in",r),i}return Q(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Mr);function mV(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ie.fromName(r.referenceValue)})}var Cee=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Ex(r)&&_d(r.arrayValue,this.value)},t}(Mr),kee=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&_d(this.value.arrayValue,r)},t}(Mr),Aee=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Q(t,e),t.prototype.matches=function(n){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!_d(this.value.arrayValue,r)},t}(Mr),Ree=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Ex(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return _d(r.value.arrayValue,s)})},t}(Mr),bd=function(e,t){this.position=e,this.before=t};function zm(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return bx(t)}).join(",")}var Kl=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function Pee(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function TD(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ie.comparator(ie.fromName(a.referenceValue),n.key):wc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ID(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ho(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function yV(e,t,n,r,i,s,a,l){return new Qo(e,t,n,r,i,s,a,l)}function Qc(e){return new Qo(e)}function Ng(e){return!Nu(e.limit)&&e.limitType==="F"}function qm(e){return!Nu(e.limit)&&e.limitType==="L"}function Sx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tx(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ix(e){return e.collectionGroup!==null}function _c(e){var t=G(e);if(t.p===null){t.p=[];var n=Tx(t),r=Sx(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Kl(n)),t.p.push(new Kl(ji.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Kl(ji.keyField(),c))}}}return t.p}function hi(e){var t=G(e);if(!t.T)if(t.limitType==="F")t.T=SD(t.path,t.collectionGroup,_c(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=_c(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Kl(s.field,a))}var l=t.endAt?new bd(t.endAt.position,!t.endAt.before):null,c=t.startAt?new bd(t.startAt.position,!t.startAt.before):null;t.T=SD(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function wV(e,t,n){return new Qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fp(e,t){return d0(hi(e),hi(t))&&e.limitType===t.limitType}function _V(e){return cp(hi(e))+"|lt:"+e.limitType}function DT(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+bx(i.value);var i}).join(", ")+"]"),Nu(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+zm(t.startAt)),t.endAt&&(n+=", endAt: "+zm(t.endAt)),"Target("+n+")"}(hi(e))+"; limitType="+e.limitType+")"}function hp(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ie.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!TD(n.startAt,_c(n),r))&&(!n.endAt||!TD(n.endAt,_c(n),r))}(e,t)}function bV(e){return function(t,n){for(var r=!1,i=0,s=_c(e);i<s.length;i++){var a=s[i],l=Nee(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Nee(e,t,n){var r=e.field.isKeyField()?ie.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?wc(l,c):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(t)?"-0":t}}function SV(e){return{integerValue:""+e}}function TV(e,t){return vV(t)?SV(t):EV(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p0=function(){this._=void 0};function Oee(e,t,n){return e instanceof bc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof gu?xV(e,t):e instanceof mu?CV(e,t):function(r,i){var s=IV(r,i),a=xD(s)+xD(r.A);return OT(s)&&OT(r.A)?SV(a):EV(r.R,a)}(e,t)}function Dee(e,t,n){return e instanceof gu?xV(e,t):e instanceof mu?CV(e,t):n}function IV(e,t){return e instanceof Ec?OT(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var bc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t}(p0),gu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Q(t,e),t}(p0);function xV(e,t){for(var n=kV(t),r=function(a){n.some(function(l){return ho(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var mu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Q(t,e),t}(p0);function CV(e,t){for(var n=kV(t),r=function(a){n=n.filter(function(l){return!ho(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ec=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return Q(t,e),t}(p0);function xD(e){return Ct(e.integerValue||e.doubleValue)}function kV(e){return Ex(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dp=function(e,t){this.field=e,this.transform=t},Lee=function(e,t){this.version=e,this.transformResults=t},Pn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Og(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var v0=function(){};function Mee(e,t,n){e instanceof pp?function(r,i,s){var a=r.value.clone(),l=AD(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof na?function(r,i,s){if(Og(r.precondition,i)){var a=AD(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(AV(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function LT(e,t,n){e instanceof pp?function(r,i,s){if(Og(r.precondition,i)){var a=r.value.clone(),l=RD(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(kD(i),a).setHasLocalMutations()}}(e,t,n):e instanceof na?function(r,i,s){if(Og(r.precondition,i)){var a=RD(r.fieldTransforms,s,i),l=i.data;l.setAll(AV(r)),l.setAll(a),i.convertToFoundDocument(kD(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Og(r.precondition,i)&&i.convertToNoDocument(_e.min())}(e,t)}function jee(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=IV(s.transform,a||null);l!=null&&(n==null&&(n=Or.empty()),n.set(s.field,l))}return n||null}function CD(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&gc(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof gu&&h instanceof gu||c instanceof mu&&h instanceof mu?gc(c.elements,h.elements,ho):c instanceof Ec&&h instanceof Ec?ho(c.A,h.A):c instanceof bc&&h instanceof bc}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function kD(e){return e.isFoundDocument()?e.version:_e.min()}var pp=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return Q(t,e),t}(v0),na=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Q(t,e),t}(v0);function AV(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function AD(e,t,n){var r=new Map;ce(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Dee(a,l,n[i]))}return r}function RD(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,Oee(l,c,t))}return r}var xt,Re,vp=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Q(t,e),t}(v0),xx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Q(t,e),t}(v0),Fee=function(e){this.count=e};function RV(e){switch(e){case F.OK:return re();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return re()}}function PV(e){if(e===void 0)return Rt("GRPC error has no .code"),F.UNKNOWN;switch(e){case xt.OK:return F.OK;case xt.CANCELLED:return F.CANCELLED;case xt.UNKNOWN:return F.UNKNOWN;case xt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case xt.INTERNAL:return F.INTERNAL;case xt.UNAVAILABLE:return F.UNAVAILABLE;case xt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case xt.NOT_FOUND:return F.NOT_FOUND;case xt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case xt.ABORTED:return F.ABORTED;case xt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case xt.DATA_LOSS:return F.DATA_LOSS;default:return re()}}(Re=xt||(xt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(t,n){this.comparator=t,this.root=n||ws.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ws.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new eg(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new eg(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new eg(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new eg(this.root,t,this.comparator,!0)},e}(),eg=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ws=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();var t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)},e}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw re()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ws(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt=function(){function e(t){this.comparator=t,this.data=new Fn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new PD(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new PD(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),PD=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Uee=new Fn(ie.comparator);function si(){return Uee}var $ee=new Fn(ie.comparator);function MT(){return $ee}var Vee=new Fn(ie.comparator);function NV(){return Vee}var Bee=new zt(ie.comparator);function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Bee,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var zee=new zt(Te);function g0(){return zee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cx=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,kx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_e.min(),r,g0(),si(),Be())},e}(),kx=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(er.EMPTY_BYTE_STRING,n,Be(),Be(),Be())},e}(),Dg=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},OV=function(e,t){this.targetId=e,this.V=t},DV=function(e,t,n,r){n===void 0&&(n=er.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ND=function(){function e(){this.S=0,this.D=DD(),this.C=er.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Be(),n=Be(),r=Be();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new kx(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=DD()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),qee=function(){function e(t){this.W=t,this.G=new Map,this.H=si(),this.J=OD(),this.Y=new zt(Te)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:re()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Bm(s))if(r===0){var a=new ie(s.path);this.tt(n,a,bn.newNoDocument(a,_e.min()))}else ce(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Bm(c.target)){var h=new ie(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,bn.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Be();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new Cx(t,r,this.Y,this.H,i);return this.H=si(),this.J=OD(),this.Y=new zt(Te),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new ND,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new zt(Te),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new ND),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function OD(){return new Fn(ie.comparator)}function DD(){return new Fn(ie.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wee={asc:"ASCENDING",desc:"DESCENDING"},Hee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kee=function(e,t){this.databaseId=e,this.I=t};function Ed(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function LV(e,t){return e.I?t.toBase64():t.toUint8Array()}function Gee(e,t){return Ed(e,t.toTimestamp())}function en(e){return ce(!!e),_e.fromTimestamp(function(t){var n=Ks(t);return new Er(n.seconds,n.nanos)}(e))}function Ax(e,t){return function(n){return new Le(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function MV(e){var t=Le.fromString(e);return ce(qV(t)),t}function Sd(e,t){return Ax(e.databaseId,t.path)}function oo(e,t){var n=MV(t);if(n.get(1)!==e.databaseId.projectId)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ie(FV(n))}function jT(e,t){return Ax(e.databaseId,t)}function jV(e){var t=MV(e);return t.length===4?Le.emptyPath():FV(t)}function Td(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function FV(e){return ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function LD(e,t,n){return{name:Sd(e,t),fields:n.value.mapValue.fields}}function UV(e,t,n){var r=oo(e,t.name),i=en(t.updateTime),s=new Or({mapValue:{fields:t.fields}}),a=bn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wm(e,t){var n;if(t instanceof pp)n={update:LD(e,t.key,t.value)};else if(t instanceof vp)n={delete:Sd(e,t.key)};else if(t instanceof na)n={update:LD(e,t.key,t.data),updateMask:Zee(t.fieldMask)};else{if(!(t instanceof xx))return re();n={verify:Sd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof bc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),increment:a.A};throw re()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Gee(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re()}(e,t.precondition)),n}function MD(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Pn.updateTime(en(h.updateTime)):h.exists!==void 0?Pn.exists(h.exists):Pn.none()}(t.currentDocument):Pn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)ce(v.setToServerValue==="REQUEST_TIME"),g=new bc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new gu(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new mu(w)}else"increment"in v?g=new Ec(d,v.increment):re();var E=ji.fromServerFormat(v.fieldPath);return new dp(E,g)}(e,h)}):[];if(t.update){t.update.name;var i=oo(e,t.update.name),s=new Or({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new mc(d.map(function(v){return ji.fromServerFormat(v)}))}(t.updateMask);return new na(i,s,a,n,r)}return new pp(i,s,n,r)}if(t.delete){var l=oo(e,t.delete);return new vp(l,n)}if(t.verify){var c=oo(e,t.verify);return new xx(c,n)}return re()}function $V(e,t){return{documents:[jT(e,t.path)]}}function VV(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=jT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(d){if(d.op==="=="){if(ED(d.value))return{unaryFilter:{field:dl(d.field),op:"IS_NAN"}};if(bD(d.value))return{unaryFilter:{field:dl(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(ED(d.value))return{unaryFilter:{field:dl(d.field),op:"IS_NOT_NAN"}};if(bD(d.value))return{unaryFilter:{field:dl(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(d.field),op:Yee(d.op),value:d.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:dl(h.field),direction:Qee(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Nu(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=jD(t.startAt)),t.endAt&&(n.structuredQuery.endAt=jD(t.endAt)),n}function BV(e){var t=jV(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ce(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=zV(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(g){return new Kl(Ul(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return Nu(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=FD(n.startAt));var d=null;return n.endAt&&(d=FD(n.endAt)),yV(t,i,l,a,c,"F",h,d)}function zV(e){return e?e.unaryFilter!==void 0?[Jee(e)]:e.fieldFilter!==void 0?[Xee(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return zV(t)}).reduce(function(t,n){return t.concat(n)}):re():[]}function jD(e){return{before:e.before,values:e.position}}function FD(e){var t=!!e.before,n=e.values||[];return new bd(n,t)}function Qee(e){return Wee[e]}function Yee(e){return Hee[e]}function dl(e){return{fieldPath:e.canonicalString()}}function Ul(e){return ji.fromServerFormat(e.fieldPath)}function Xee(e){return Mr.create(Ul(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}function Jee(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ul(e.unaryFilter.field);return Mr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ul(e.unaryFilter.field);return Mr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ul(e.unaryFilter.field);return Mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ul(e.unaryFilter.field);return Mr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return re()}}function Zee(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function qV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=UD(t)),t=ete(e.get(n),t);return UD(t)}function ete(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function UD(e){return e+""}function Do(e){var t=e.length;if(ce(t>=2),t===2)return ce(e.charAt(0)===""&&e.charAt(1)===""),Le.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&re(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:re()}s=a+2}return new Le(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tte=function(e,t){this.seconds=e,this.nanoseconds=t},Pr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Pr.store="owner",Pr.key="owner";var js=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};js.store="mutationQueues",js.keyPath="userId";var Ze=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ze.store="mutations",Ze.keyPath="batchId",Ze.userMutationsIndex="userMutationsIndex",Ze.userMutationsKeyPath=["userId","batchId"];var Rn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Li(n)]},e.key=function(t,n,r){return[t,Li(n),r]},e}();Rn.store="documentMutations",Rn.PLACEHOLDER=new Rn;var nte=function(e,t){this.path=e,this.readTime=t},rte=function(e,t){this.path=e,this.version=t},vt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};vt.store="remoteDocuments",vt.readTimeIndex="readTimeIndex",vt.readTimeIndexPath="readTime",vt.collectionReadTimeIndex="collectionReadTimeIndex",vt.collectionReadTimeIndexPath=["parentPath","readTime"];var to=function(e){this.byteSize=e};to.store="remoteDocumentGlobal",to.key="remoteDocumentGlobalKey";var mr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};mr.store="targets",mr.keyPath="targetId",mr.queryTargetsIndexName="queryTargetsIndex",mr.queryTargetsKeyPath=["canonicalId","targetId"];var pn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};pn.store="targetDocuments",pn.keyPath=["targetId","path"],pn.documentTargetsIndex="documentTargetsIndex",pn.documentTargetsKeyPath=["path","targetId"];var Nr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nr.key="targetGlobalKey",Nr.store="targetGlobal";var Za=function(e,t){this.collectionId=e,this.parent=t};Za.store="collectionParents",Za.keyPath=["collectionId","parent"];var jo=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};jo.store="clientMetadata",jo.keyPath="clientId";var Sc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Sc.store="bundles",Sc.keyPath="bundleId";var Tc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Tc.store="namedQueries",Tc.keyPath="name";var ite=me(me([],me(me([],me(me([],me(me([],[js.store,Ze.store,Rn.store,vt.store,mr.store,Pr.store,Nr.store,pn.store]),[jo.store])),[to.store])),[Za.store])),[Sc.store,Tc.store]),WV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HV=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),jn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},q=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),KV=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new jn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Lh(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=Rx(i.target.error);r.ft.reject(new Lh(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Lh(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(K("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new ste(n)},e}(),Ic=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(lu())===12.2&&Rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return K("SimpleDb","Removing database:",t),Da(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=lu(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=wee)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(K("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Lh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new B(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Lh(t,h))},l.onupgradeneeded=function(c){K("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){K("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,l=function(){var v,g,y,w,E;return P(this,function(x){switch(x.label){case 0:++a,x.label=1;case 1:return x.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=x.sent(),v=KV.open(c.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(S){return v.abort(S),q.reject(S)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(x.sent(),g),y)];case 4:return w=x.sent(),E=w.name!=="FirebaseError"&&a<3,K("SimpleDb","Transaction failed with error:",w.message,"Retrying:",E),c.close(),E?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,l()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ote=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Da(this.Pt.delete())},e}(),Lh=function(e){function t(n,r){var i=this;return(i=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Q(t,e),t}(B);function Ou(e){return e.name==="IndexedDbTransactionError"}var ste=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Da(r)},e.prototype.add=function(t){return K("SimpleDb","ADD",this.store.name,t,t),Da(this.store.add(t))},e.prototype.get=function(t){var n=this;return Da(this.store.get(t)).next(function(r){return r===void 0&&(r=null),K("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return K("SimpleDb","DELETE",this.store.name,t),Da(this.store.delete(t))},e.prototype.count=function(){return K("SimpleDb","COUNT",this.store.name),Da(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){K("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new q(function(r,i){n.onerror=function(s){var a=Rx(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new q(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new ote(l),h=n(l.primaryKey,l.value,c);if(h instanceof q){var d=h.catch(function(v){return c.done(),q.reject(v)});r.push(d)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return q.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Da(e){return new q(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Rx(r.target.error);n(i)}})}var $D=!1;function Rx(e){var t=Ic._t(lu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new B("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $D||($D=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VD=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return Q(t,e),t}(HV);function Tr(e,t){var n=G(e);return Ic.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Px=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&Mee(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&LT(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&LT(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(_e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Be())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&gc(this.mutations,t.mutations,function(n,r){return CD(n,r)})&&gc(this.baseMutations,t.baseMutations,function(n,r){return CD(n,r)})},e}(),ate=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ce(t.mutations.length===r.length);for(var i=NV(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),m0=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=_e.min()),a===void 0&&(a=_e.min()),l===void 0&&(l=er.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),GV=function(e){this.Lt=e};function FT(e,t){if(t.document)return UV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ie.fromSegments(t.noDocument.path),r=Cc(t.noDocument.readTime),i=bn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ie.fromSegments(t.unknownDocument.path);return r=Cc(t.unknownDocument.version),bn.newUnknownDocument(s,r)}return re()}function BD(e,t,n){var r=Nx(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:Sd(v,g.key),fields:g.data.value.mapValue.fields,updateTime:Ed(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new vt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=xc(t.version);return a=t.hasCommittedMutations,new vt(null,new nte(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=xc(t.version);return new vt(new rte(h,d),null,null,!0,r,i)}return re()}function Nx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function QV(e){var t=new Er(e[0],e[1]);return _e.fromTimestamp(t)}function xc(e){var t=e.toTimestamp();return new tte(t.seconds,t.nanoseconds)}function Cc(e){var t=new Er(e.seconds,e.nanoseconds);return _e.fromTimestamp(t)}function El(e,t){for(var n=(t.baseMutations||[]).map(function(c){return MD(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return MD(e.Lt,c)}),l=Er.fromMillis(t.localWriteTimeMs);return new Px(t.batchId,l,n,a)}function ph(e){var t,n,r=Cc(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Cc(e.lastLimboFreeSnapshotVersion):_e.min();return e.query.documents!==void 0?(ce((n=e.query).documents.length===1),t=hi(Qc(jV(n.documents[0])))):t=function(s){return hi(BV(s))}(e.query),new m0(t,e.targetId,0,e.lastListenSequenceNumber,r,i,er.fromBase64String(e.resumeToken))}function YV(e,t){var n,r=xc(t.snapshotVersion),i=xc(t.lastLimboFreeSnapshotVersion);n=Bm(t.target)?$V(e.Lt,t.target):VV(e.Lt,t.target);var s=t.resumeToken.toBase64();return new mr(t.targetId,cp(t.target),r,s,t.sequenceNumber,i,n)}function Ox(e){var t=BV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?wV(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ute=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return zD(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Cc(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return zD(t).put({bundleId:(r=n).id,createTime:xc(en(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return qD(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Ox(i.bundledQuery),readTime:Cc(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return qD(t).put(function(r){return{name:r.name,readTime:xc(en(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function zD(e){return Tr(e,Sc.store)}function qD(e){return Tr(e,Tc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lte=function(){function e(){this.Bt=new Dx}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),q.resolve()},e.prototype.getCollectionParents=function(t,n){return q.resolve(this.Bt.getEntries(n))},e}(),Dx=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new zt(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new zt(Le.comparator)).toArray()},e}(),cte=function(){function e(){this.qt=new Dx}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Li(s)};return WD(t).put(a)}return q.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[fV(n),""],!1,!0);return WD(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Do(c.parent))}return r})},e}();function WD(e){return Tr(e,Za.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ji=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(e,t,n){var r=e.store(Ze.store),i=e.store(Rn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,E,x){return l++,x.delete()});s.push(c.next(function(){ce(l===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=Rn.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return q.waitFor(s).next(function(){return h})}function Hm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw re();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(41943040,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);var fte=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ce(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(t).$t({index:Ze.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Sl(t),l=ls(t);return l.add({}).next(function(c){ce(typeof c=="number");for(var h=new Px(c,n,r,i),d=function(S,T,C){var k=C.baseMutations.map(function(O){return Wm(S.Lt,O)}),D=C.mutations.map(function(O){return Wm(S.Lt,O)});return new Ze(T,C.batchId,C.localWriteTime.toMillis(),k,D)}(s.R,s.userId,h),v=[],g=new zt(function(S,T){return Te(S.canonicalString(),T.canonicalString())}),y=0,w=i;y<w.length;y++){var E=w[y],x=Rn.key(s.userId,E.key.path,c);g=g.add(E.key.path.popLast()),v.push(l.put(d)),v.push(a.put(x,Rn.PLACEHOLDER))}return g.forEach(function(S){v.push(s.Ut.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),q.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return ls(t).get(n).next(function(i){return i?(ce(i.userId===r.userId),El(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?q.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return ls(t).$t({index:Ze.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ce(c.batchId>=i),a=El(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ls(t).$t({index:Ze.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ls(t).Nt(Ze.userMutationsIndex,r).next(function(i){return i.map(function(s){return El(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Rn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Sl(t).$t({range:s},function(l,c,h){var d=l[0],v=l[1],g=l[2],y=Do(v);if(d===r.userId&&n.path.isEqual(y))return ls(t).get(g).next(function(w){if(!w)throw re();ce(w.userId===r.userId),a.push(El(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new zt(Te),s=[];return n.forEach(function(a){var l=Rn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Sl(t).$t({range:c},function(d,v,g){var y=d[0],w=d[1],E=d[2],x=Do(w);y===r.userId&&a.path.isEqual(x)?i=i.add(E):g.done()});s.push(h)}),q.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=Rn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new zt(Te);return Sl(t).$t({range:l},function(h,d,v){var g=h[0],y=h[1],w=h[2],E=Do(y);g===r.userId&&i.isPrefixOf(E)?E.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(ls(t).get(a).next(function(l){if(l===null)throw re();ce(l.userId===r.userId),i.push(El(r.R,l))}))}),q.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return XV(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),q.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return q.resolve();var i=IDBKeyRange.lowerBound(Rn.prefixForUser(n.userId)),s=[];return Sl(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=Do(a[1]);s.push(h)}else c.done()}).next(function(){ce(s.length===0)})})},e.prototype.containsKey=function(t,n){return JV(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return ZV(t).get(this.userId).next(function(r){return r||new js(n.userId,-1,"")})},e}();function JV(e,t,n){var r=Rn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Sl(e).$t({range:s,kt:!0},function(l,c,h){var d=l[0],v=l[1];l[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function ls(e){return Tr(e,Ze.store)}function Sl(e){return Tr(e,Rn.store)}function ZV(e){return Tr(e,js.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Km=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),hte=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Km(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return _e.fromTimestamp(new Er(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return pl(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ce(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return pl(t).$t(function(l,c){var h=ph(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return q.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return pl(t).$t(function(r,i){var s=ph(i);n(s)})},e.prototype.Xt=function(t){return KD(t).get(Nr.key).next(function(n){return ce(n!==null),n})},e.prototype.Zt=function(t,n){return KD(t).put(Nr.key,n)},e.prototype.te=function(t,n){return pl(t).put(YV(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=cp(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return pl(t).$t({range:i,index:mr.queryTargetsIndexName},function(a,l,c){var h=ph(l);d0(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=_s(t);return n.forEach(function(l){var c=Li(l.path);s.push(a.put(new pn(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),q.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=_s(t);return q.forEach(n,function(a){var l=Li(a.path);return q.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=_s(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_s(t),s=Be();return i.$t({range:r,kt:!0},function(a,l,c){var h=Do(a[1]),d=new ie(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Li(n.path),i=IDBKeyRange.bound([r],[fV(r)],!1,!0),s=0;return _s(t).$t({index:pn.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return pl(t).get(n).next(function(r){return r?ph(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e){return Tr(e,mr.store)}function KD(e){return Tr(e,Nr.store)}function _s(e){return Tr(e,pn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e){return N(this,void 0,void 0,function(){return P(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==WV)throw e;return K("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Te(n,i);return a===0?Te(r,s):a}var dte=function(){function e(t){this.ne=t,this.buffer=new zt(GD),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();GD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),pte=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;K("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ou(i=s.sent())?(K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Du(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),vte=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return q.resolve(Lr.o);var i=new dte(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(HD)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),HD):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,l=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return s=g,c=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),PT()<=be.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),gte=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new vte(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return tg(t,r)},e.prototype.removeReference=function(t,n,r){return tg(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return tg(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return ZV(r).Ot(function(a){return JV(r,a,i).next(function(l){return l&&(s=!0),q.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(d){if(!d)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),_s(t).delete([0,Li(l.path)])})});s.push(h)}}).next(function(){return q.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return tg(t,n)},e.prototype.we=function(t,n){var r,i=_s(t),s=Lr.o;return i.$t({index:pn.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,d=l.sequenceNumber;c===0?(s!==Lr.o&&n(new ie(Do(r)),s),s=d,r=h):s=Lr.o}).next(function(){s!==Lr.o&&n(new ie(Do(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function tg(e,t){return _s(e).put(function(n,r){return new pn(0,Li(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Pu(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return hV(this.inner)},e}(),eB=function(){function e(){this.changes=new Yc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:_e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:bn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?q.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),mte=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return gs(t).put(ng(n),r)},e.prototype.removeEntry=function(t,n){var r=gs(t),i=ng(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return gs(t).get(ng(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return gs(t).get(ng(n)).next(function(i){return{document:r.ye(n,i),size:Hm(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=si();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=si(),s=new Fn(ie.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,Hm(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return q.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return gs(t).$t({range:i},function(l,c,h){for(var d=ie.fromSegments(l);a&&ie.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=si(),a=n.path.length+1,l={};if(r.isEqual(_e.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),d=Nx(r);l.range=IDBKeyRange.lowerBound([h,d],!0),l.index=vt.collectionReadTimeIndex}return gs(t).$t(l,function(v,g,y){if(v.length===a){var w=FT(i.R,g);n.path.isPrefixOf(w.key.path)?hp(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new yte(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return QD(t).get(to.key).next(function(n){return ce(!!n),n})},e.prototype.me=function(t,n){return QD(t).put(to.key,n)},e.prototype.ye=function(t,n){if(n){var r=FT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(_e.min()))return r}return bn.newInvalidDocument(t)},e}(),yte=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Yc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return Q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new zt(function(l,c){return Te(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var d=BD(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=Hm(d);s+=v-h,i.push(r.Ie.addEntry(n,l,d))}else if(s-=h,r.trackRemovals){var g=BD(r.Ie.R,bn.newNoDocument(l,_e.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,g))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),q.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(eB);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e){return Tr(e,to.store)}function gs(e){return Tr(e,vt.store)}function ng(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wte=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ce(r<i&&r>=0&&i<=11);var a=new KV("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Pr.store)}(t),function(c){c.createObjectStore(js.store,{keyPath:js.keyPath}),c.createObjectStore(Ze.store,{keyPath:Ze.keyPath,autoIncrement:!0}).createIndex(Ze.userMutationsIndex,Ze.userMutationsKeyPath,{unique:!0}),c.createObjectStore(Rn.store)}(t),YD(t),function(c){c.createObjectStore(vt.store)}(t));var l=q.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(pn.store),c.deleteObjectStore(mr.store),c.deleteObjectStore(Nr.store)}(t),YD(t)),l=l.next(function(){return function(c){var h=c.store(Nr.store),d=new Nr(0,0,_e.min().toTimestamp(),0);return h.put(Nr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Ze.store).Nt().next(function(d){c.deleteObjectStore(Ze.store),c.createObjectStore(Ze.store,{keyPath:Ze.keyPath,autoIncrement:!0}).createIndex(Ze.userMutationsIndex,Ze.userMutationsKeyPath,{unique:!0});var v=h.store(Ze.store),g=d.map(function(y){return v.put(y)});return q.waitFor(g)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(jo.store,{keyPath:jo.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(to.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(vt.store);h.createIndex(vt.readTimeIndex,vt.readTimeIndexPath,{unique:!1}),h.createIndex(vt.collectionReadTimeIndex,vt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(Sc.store,{keyPath:Sc.keyPath})})(t),function(c){c.createObjectStore(Tc.store,{keyPath:Tc.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(vt.store).$t(function(r,i){n+=Hm(i)}).next(function(){var r=new to(n);return t.store(to.store).put(to.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(js.store),i=t.store(Ze.store);return r.Nt().next(function(s){return q.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Ze.userMutationsIndex,l).next(function(c){return q.forEach(c,function(h){ce(h.userId===a.userId);var d=El(n.R,h);return XV(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(pn.store),r=t.store(vt.store);return t.store(Nr.store).get(Nr.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Le(a),h=function(d){return[0,Li(d)]}(c);s.push(n.get(h).next(function(d){return d?q.resolve():function(v){return n.put(new pn(0,Li(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return q.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Za.store,{keyPath:Za.keyPath});var r=n.store(Za.store),i=new Dx,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Li(c)})}};return n.store(vt.store).$t({kt:!0},function(a,l){var c=new Le(a);return s(c.popLast())}).next(function(){return n.store(Rn.store).$t({kt:!0},function(a,l){a[0];var c=a[1];a[2];var h=Do(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(mr.store);return r.$t(function(i,s){var a=ph(s),l=YV(n.R,a);return r.put(l)})},e}();function YD(e){e.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.documentTargetsIndex,pn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.queryTargetsIndexName,mr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Nr.store)}var _E="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_te=function(){function e(t,n,r,i,s,a,l,c,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new B(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gte(this,i),this.Le=n+"main",this.R=new GV(c),this.Be=new Ic(this.Le,11,new wte(this.R)),this.qe=new hte(this.referenceDelegate,this.R),this.Ut=new cte,this.Ue=function(v,g){return new mte(v,g)}(this.R,this.Ut),this.Ke=new ute,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&Rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,_E);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Lr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return P(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return rg(n).put(new jo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ou(n))return K("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return th(t).get(Pr.key).next(function(r){return q.resolve(n.tn(r))})},e.prototype.en=function(t){return rg(t).delete(this.clientId)},e.prototype.nn=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return P(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Tr(l,jo.store);return c.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return q.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?q.resolve(!0):th(t).get(Pr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,_E);return!1}}return!(!n.networkEnabled||!n.inForeground)||rg(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&K("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var t=this;return P(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Pr.store,jo.store],function(r){var i=new VD(r,Lr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return rg(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return fte.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;K("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,ite,function(l){return s=new VD(l,i.Ne?i.Ne.next():Lr.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw Rt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new B(F.FAILED_PRECONDITION,WV);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return th(t).get(Pr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new B(F.FAILED_PRECONDITION,_E)})},e.prototype.Ze=function(t){var n=new Pr(this.clientId,this.allowTabSynchronization,Date.now());return th(t).put(Pr.key,n)},e.yt=function(){return Ic.yt()},e.prototype.Xe=function(t){var n=this,r=th(t);return r.get(Pr.key).next(function(i){return n.tn(i)?(K("IndexedDbPersistence","Releasing primary lease."),r.delete(Pr.key)):q.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Rt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),t9()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return K("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Rt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Rt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function th(e){return Tr(e,Pr.store)}function rg(e){return Tr(e,jo.store)}function Lx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bte=function(e,t){this.progress=e,this.wn=t},tB=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Ix(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ie(n)).next(function(r){var i=MT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=MT();return this.Ut.getCollectionParents(t,s).next(function(l){return q.forEach(l,function(c){var h=function(d,v){return new Qo(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],E=w.key,x=i.get(E);x==null&&(x=bn.newInvalidDocument(E),i=i.insert(E,x)),LT(w,x,v.localWriteTime),x.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(l,c){hp(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Be(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof na&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},e}(),Ete=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Be(),i=Be(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),nB=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(_e.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Ng(n)||qm(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(PT()<=be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DT(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new zt(bV(t));return n.forEach(function(i,s){hp(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return PT()<=be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",DT(n)),this.Sn.getDocumentsMatchingQuery(t,n,_e.min())},e}(),Ste=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new Fn(Te),this.kn=new Yc(function(s){return cp(s)},d0),this.$n=_e.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new tB(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(e,t,n,r){return new Ste(e,t,n,r)}function iB(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=G(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new tB(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var d=[],v=[],g=Be(),y=0,w=c;y<w.length;y++){var E=w[y];d.push(E.batchId);for(var x=0,S=E.mutations;x<S.length;x++){var T=S[x];g=g.add(T.key)}}for(var C=0,k=h;C<k.length;C++){var D=k[C];v.push(D.batchId);for(var O=0,j=D.mutations;O<j.length;O++){var L=j[O];g=g.add(L.key)}}return i.pn(l,g).next(function(Y){return{Ln:Y,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Tte(e,t){var n=G(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var d=c.batch,v=d.keys(),g=q.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(l,y)}).next(function(w){var E=c.docVersions.get(y);ce(E!==null),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function oB(e){var t=G(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Ite(e,t){var n=G(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){l.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var w=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(E,x,S){return ce(x.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,w,d)&&l.push(n.qe.updateTargetData(s,w))}}});var c=si();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(sB(s,a,t.documentUpdates,r,void 0).next(function(d){c=d})),!r.isEqual(_e.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return q.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function sB(e,t,n,r,i){var s=Be();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=si();return n.forEach(function(c,h){var d=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(_e.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),l})}function xte(e,t){var n=G(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function kc(e,t){var n=G(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,q.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new m0(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Ac(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:r=G(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ou(a=l.sent()))throw a;return K("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function Gm(e,t,n){var r=G(e),i=_e.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var d=G(l),v=d.kn.get(h);return v!==void 0?q.resolve(d.Fn.get(v)):d.qe.getTargetData(c,h)}(r,a,hi(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:_e.min(),n?s:Be())}).next(function(l){return{documents:l,Bn:s}})})}function aB(e,t){var n=G(e),r=G(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function uB(e){var t=G(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=G(r),l=si(),c=Nx(s),h=gs(i),d=IDBKeyRange.lowerBound(c,!0);return h.$t({index:vt.readTimeIndex,range:d},function(v,g){var y=FT(a.R,g);l=l.insert(y.key,y),c=g.readTime}).next(function(){return{wn:l,readTime:QV(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function Cte(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,(t=G(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=gs(i),a=_e.min();return s.$t({index:vt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=QV(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function kte(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:for(i=G(e),s=Be(),a=si(),l=NV(),c=0,h=n;c<h.length;c++)d=h[c],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),l=l.insert(v,t.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,kc(i,function(E){return hi(Qc(Le.fromString("__bundle__/docs/"+E)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return sB(E,g,a,_e.min(),l).next(function(x){return g.apply(E),x}).next(function(x){return i.qe.removeMatchingKeysForTargetId(E,y.targetId).next(function(){return i.qe.addMatchingKeys(E,s,y.targetId)}).next(function(){return i.Mn.En(E,x)}).next(function(){return x})})})]}})})}function Ate(e,t,n){return n===void 0&&(n=Be()),N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,kc(e,hi(Ox(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=G(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=en(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(er.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rte=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return q.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:en(r.createTime)}),q.resolve()},e.prototype.getNamedQuery=function(t,n){return q.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Ox(r.bundledQuery),readTime:en(r.readTime)}}(n)),q.resolve()},e}(),Mx=function(){function e(){this.Wn=new zt(Kt.Gn),this.zn=new zt(Kt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Kt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Kt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ie(new Le([])),i=new Kt(r,t),s=new Kt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ie(new Le([])),r=new Kt(n,t),i=new Kt(n,t+1),s=Be();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Kt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Kt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ie.comparator(t.key,n.key)||Te(t.ns,n.ns)},e.Hn=function(t,n){return Te(t.ns,n.ns)||ie.comparator(t.key,n.key)},e}(),Pte=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new zt(Kt.Gn)}return e.prototype.checkEmpty=function(t){return q.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Px(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Kt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return q.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return q.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return q.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return q.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return q.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),q.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new zt(Te);return n.forEach(function(s){var a=new Kt(s,0),l=new Kt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),q.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));var a=new Kt(new ie(s),0),l=new zt(Te);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),q.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ce(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return q.forEach(n.mutations,function(s){var a=new Kt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Kt(n,0),i=this.rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,q.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Nte=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Fn(ie.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return q.resolve(r?r.document.clone():bn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=si();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():bn.newInvalidDocument(s))}),q.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=si(),s=new ie(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||hp(n,d)&&(i=i.insert(d.key,d.clone()))}return q.resolve(i)},e.prototype.fs=function(t,n){return q.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Ote(this)},e.prototype.getSize=function(t){return q.resolve(this.size)},e}(),Ote=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),q.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(eB),Dte=function(){function e(t){this.persistence=t,this.ds=new Yc(function(n){return cp(n)},d0),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ws=0,this._s=new Mx,this.targetCount=0,this.ys=Km.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),q.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return q.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return q.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),q.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),q.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Km(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,q.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),q.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,q.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),q.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return q.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return q.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),q.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),q.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),q.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return q.resolve(r)},e.prototype.containsKey=function(t,n){return q.resolve(this._s.containsKey(n))},e}(),Lte=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Lr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Dte(this),this.Ut=new lte,this.Ue=function(i,s){return new Nte(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new GV(n),this.Ke=new Rte(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Pte(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;K("MemoryPersistence","Starting transaction:",t);var s=new Mte(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return q.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Mte=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Q(t,e),t}(HV),jte=function(){function e(t){this.persistence=t,this.As=new Mx,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw re()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),q.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),q.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),q.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.vs,function(i){var s=ie.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return q.or([function(){return q.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),pr=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(e,t){return"firestore_clients_"+e+"_"+t}function JD(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function bE(e,t){return"firestore_targets_"+e+"_"+t}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid");var ZD=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new B(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Rt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),EE=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new B(i.error.code,i.error.message)),s?new e(t,i.state,r):(Rt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),eL=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=g0(),a=0;i&&a<r.activeTargetIds.length;++a)i=vV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Rt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Fte=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Rt("SharedClientState","Failed to parse online state: "+t),null)},e}(),UT=function(){function e(){this.activeTargetIds=g0()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),SE=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Fn(Te),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=XD(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new UT),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,d,v,g=this;return P(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(XD(this.persistenceKey,i)))&&(a=eL.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,d=this.$s;h<d.length;h++)v=d[h],this.Fs(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(bE(this.persistenceKey,t));if(r){var i=EE.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(bE(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return K("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){K("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){K("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(K("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,s,a,l,c,h;return P(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=Lr.o;if(v!=null)try{var y=JSON.parse(v);ce(typeof y=="number"),g=y}catch(w){Rt("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==Lr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new ZD(this.currentUser,t,n,r),s=JD(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=JD(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=bE(this.persistenceKey,t),s=new EE(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return eL.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ZD.Vs(new pr(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return EE.Vs(i,n)},e.prototype.js=function(t){return Fte.Vs(t)},e.prototype.ii=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(K("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=g0();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),lB=function(){function e(){this.li=new UT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new UT,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Ute=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),tL=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),$te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vte=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Bte=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Q(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new yee;c.listenOnce(vee.COMPLETE,function(){try{switch(c.getLastErrorCode()){case wE.NO_ERROR:var d=c.getResponseJson();K("Connection","XHR received:",JSON.stringify(d)),a(d);break;case wE.TIMEOUT:K("Connection",'RPC "'+n+'" timed out'),l(new B(F.DEADLINE_EXCEEDED,"Request time out"));break;case wE.HTTP_ERROR:var v=c.getStatus();if(K("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var E=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(g.status);l(new B(y,g.message))}else l(new B(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new B(F.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{K("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=dee(),a=pee(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new mee({})),this.Fi(l.initMessageHeaders,r),lI()||AU()||JQ()||ZQ()||e9()||cI()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");K("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),d=!1,v=!1,g=new Vte({Ei:function(w){v?K("Connection","Not sending because WebChannel is closed:",w):(d||(K("Connection","Opening WebChannel transport."),h.open(),d=!0),K("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,E,x){w.listen(E,function(S){try{x(S)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,Zv.EventType.OPEN,function(){v||K("Connection","WebChannel transport opened.")}),y(h,Zv.EventType.CLOSE,function(){v||(v=!0,K("Connection","WebChannel transport closed"),g.Vi())}),y(h,Zv.EventType.ERROR,function(w){v||(v=!0,yd("Connection","WebChannel transport errored:",w),g.Vi(new B(F.UNAVAILABLE,"The operation could not be completed")))}),y(h,Zv.EventType.MESSAGE,function(w){var E;if(!v){var x=w.data[0];ce(!!x);var S=x,T=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(T){K("Connection","WebChannel received error:",T);var C=T.status,k=function(O){var j=xt[O];if(j!==void 0)return PV(j)}(C),D=T.message;k===void 0&&(k=F.INTERNAL,D="Unknown error status: "+C+" with message "+T.message),v=!0,g.Vi(new B(k,D)),h.close()}else K("Connection","WebChannel received:",x),g.Si(x)}}),y(a,gee.STAT_EVENT,function(w){w.stat===yD.PROXY?K("Connection","Detected buffering proxy"):w.stat===yD.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);K("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return K("RestConnection","Received: ",l),l},function(l){throw yd("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=$te[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(){return typeof window<"u"?window:null}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(e){return new Kee(e,!0)}var jx=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&K("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),fB=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jx(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return N(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Rt(n.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new B(F.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return N(t,void 0,void 0,function(){return P(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return K("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),zte=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return Q(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:re()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(x,S){return x.I?(ce(S===void 0||typeof S=="string"),er.fromBase64String(S||"")):(ce(S===void 0||S instanceof Uint8Array),er.fromUint8Array(S||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(x){var S=x.code===void 0?F.UNKNOWN:PV(x.code);return new B(S,x.message||"")}(g);l=new DV(c,h,d,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=oo(s,c.document.name),d=en(c.document.updateTime);var g=new Or({mapValue:{fields:c.document.fields}}),y=(v=bn.newFoundDocument(h,d,g),c.targetIds||[]),w=c.removedTargetIds||[];l=new Dg(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=oo(s,c.document),d=c.readTime?en(c.readTime):_e.min(),g=bn.newNoDocument(h,d),v=c.removedTargetIds||[],l=new Dg([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=oo(s,c.document),d=c.removedTargetIds||[],l=new Dg([],d,h,null);else{if(!("filter"in a))return re();a.filter;var E=a.filter;E.targetId,c=E.count||0,h=new Fee(c),d=E.targetId,l=new OV(d,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return _e.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?en(a.readTime):_e.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Td(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Bm(c)?{documents:$V(s,c)}:{query:VV(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=LV(s,a.resumeToken):a.snapshotVersion.compareTo(_e.min())>0&&(l.readTime=Ed(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Td(this.R),r.removeTarget=n,this.cr(r)},t}(fB),qte=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return Q(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ce(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ce(a!==void 0),s.map(function(l){return function(c,h){var d=c.updateTime?en(c.updateTime):en(h);return d.isEqual(_e.min())&&(d=en(h)),new Lee(d,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=en(n.commitTime);return this.listener.Tr(i,r)}return ce(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Td(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Wm(r.R,s)})};this.cr(i)},t}(fB),Wte=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return Q(t,e),t.prototype.br=function(){if(this.Rr)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Hte=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Rt(n),this.Vr=!1):K("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Kte=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(s,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return ra(this)?(K("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return N(this,void 0,void 0,function(){var h;return P(this,function(d){switch(d.label){case 0:return(h=G(c)).Or.add(4),[4,Xc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,mp(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new Hte(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:if(!ra(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Xc(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function y0(e,t){var n=G(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),$x(n)?Ux(n):Zc(n).er()&&Fx(n,t))}function Id(e,t){var n=G(e),r=Zc(n);n.$r.delete(t),r.er()&&hB(n,t),n.$r.size===0&&(r.er()?r.ir():ra(n)&&n.Br.set("Unknown"))}function Fx(e,t){e.qr.U(t.targetId),Zc(e).mr(t)}function hB(e,t){e.qr.U(t),Zc(e).yr(t)}function Ux(e){e.qr=new qee({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Zc(e).start(),e.Br.Sr()}function $x(e){return ra(e)&&!Zc(e).tr()&&e.$r.size>0}function ra(e){return G(e).Or.size===0}function dB(e){e.qr=void 0}function Gte(e){return N(this,void 0,void 0,function(){return P(this,function(t){return e.$r.forEach(function(n,r){Fx(e,n)}),[2]})})}function Qte(e,t){return N(this,void 0,void 0,function(){return P(this,function(n){return dB(e),$x(e)?(e.Br.Nr(t),Ux(e)):e.Br.set("Unknown"),[2]})})}function Yte(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return P(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof DV&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return N(this,void 0,void 0,function(){var h,d,v,g;return P(this,function(y){switch(y.label){case 0:h=c.cause,d=0,v=c.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),K("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Qm(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Dg?e.qr.X(t):t instanceof OV?e.qr.rt(t):e.qr.et(t),n.isEqual(_e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,oB(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=l.$r.get(v);g&&l.$r.set(v,g.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach(function(d){var v=l.$r.get(d);if(v){l.$r.set(d,v.withResumeToken(er.EMPTY_BYTE_STRING,v.snapshotVersion)),hB(l,d);var g=new m0(v.target,d,1,v.sequenceNumber);Fx(l,g)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return K("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Qm(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Qm(e,t,n){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){switch(i.label){case 0:if(!Ou(t))throw t;return e.Or.add(1),[4,Xc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return oB(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return P(this,function(s){switch(s.label){case 0:return K("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,mp(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function pB(e,t){return t().catch(function(n){return Qm(e,n,t)})}function Jc(e){return N(this,void 0,void 0,function(){var t,n,r,i,s;return P(this,function(a){switch(a.label){case 0:t=G(e),n=Gs(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return ra(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,xte(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=Gs(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Qm(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return vB(t)&&gB(t),[2]}})})}function vB(e){return ra(e)&&!Gs(e).tr()&&e.kr.length>0}function gB(e){Gs(e).start()}function Xte(e){return N(this,void 0,void 0,function(){return P(this,function(t){return Gs(e).Ar(),[2]})})}function Jte(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){for(t=Gs(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Zte(e,t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=ate.from(r,t,n),[4,pB(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Jc(e)];case 2:return s.sent(),[2]}})})}function ene(e,t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return t&&Gs(e).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var s,a;return P(this,function(l){switch(l.label){case 0:return RV(a=i.code)&&a!==F.ABORTED?(s=r.kr.shift(),Gs(r).sr(),[4,pB(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Jc(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return vB(e)&&gB(e),[2]}})})}function $T(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=G(e),t?(n.Or.delete(2),[4,mp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=G(n);return s.br(),new zte(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:Gte.bind(null,e),Ri:Qte.bind(null,e),_r:Yte.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),$x(e)?Ux(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),dB(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Gs(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=G(n);return s.br(),new qte(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:Xte.bind(null,e),Ri:ene.bind(null,e),Ir:Jte.bind(null,e),Tr:Zte.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Jc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.kr.length>0&&(K("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var tne=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ef(e,t){if(Rt("AsyncQueue",t+": "+e),Ou(e))return new B(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mB=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ie.comparator(n.key,r.key)}:function(n,r){return ie.comparator(n.key,r.key)},this.keyedMap=MT(),this.sortedSet=new Fn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),nL=function(){function e(){this.Qr=new Fn(ie.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):re():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Ym=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,mB.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),nne=function(){this.Wr=void 0,this.listeners=[]},rne=function(){this.queries=new Yc(function(e){return _V(e)},fp),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(n=G(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new nne),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=ef(l,"Initialization of query '"+DT(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&zx(n),[2]}})})}function Bx(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){return n=G(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ine(e,t){for(var n=G(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);c.Wr=a}}r&&zx(n)}function one(e,t,n){var r=G(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function zx(e){e.Gr.forEach(function(t){t.next()})}var qx=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Ym(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ym.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),sne=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),rL=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return oo(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?UV(this.R,t.document,!1):bn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return en(t)},e}(),ane=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=yB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new rL(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var d=h[c],v=(n.get(d)||Be()).add(l);n.set(d,v)}}return n},e.prototype.complete=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,kte(this.localStore,new rL(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,Ate(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bte(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(e){this.key=e},_B=function(e){this.key=e},bB=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Be(),this.mutatedKeys=Be(),this.lo=bV(t),this.fo=new mB(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new nL,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Ng(this.query)&&s.size===this.query.limit?s.last():null,d=qm(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var w=s.get(g),E=hp(r.query,y)?y:null,x=!!w&&r.mutatedKeys.has(w.key),S=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),T=!1;w&&E?w.data.isEqual(E.data)?x!==S&&(i.track({type:3,doc:E}),T=!0):r.yo(w,E)||(i.track({type:2,doc:E}),T=!0,(h&&r.lo(E,h)>0||d&&r.lo(E,d)<0)&&(c=!0)):!w&&E?(i.track({type:0,doc:E}),T=!0):w&&!E&&(i.track({type:1,doc:w}),T=!0,(h||d)&&(c=!0)),T&&(E?(l=l.add(E),a=S?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),Ng(this.query)||qm(this.query))for(;l.size>this.query.limit;){var v=Ng(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(g,y){var w=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return w(g)-w(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Ym(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nL,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Be(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new _B(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new wB(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Be();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ym.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),une=function(e,t,n){this.query=e,this.targetId=t,this.view=n},lne=function(e){this.key=e,this.bo=!1},cne=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Yc(function(l){return _V(l)},fp),this.Vo=new Map,this.So=new Set,this.Do=new Fn(ie.comparator),this.Co=new Map,this.No=new Mx,this.xo={},this.Fo=new Map,this.ko=Km.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function fne(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return n=Qx(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,kc(n.localStore,hi(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Wx(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&y0(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function Wx(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return e.Oo=function(v,g,y){return function(w,E,x,S){return N(this,void 0,void 0,function(){var T,C,k;return P(this,function(D){switch(D.label){case 0:return T=E.view._o(x),T.Nn?[4,Gm(w.localStore,E.query,!1).then(function(O){var j=O.documents;return E.view._o(j,T)})]:[3,2];case 1:T=D.sent(),D.label=2;case 2:return C=S&&S.targetChanges.get(E.targetId),k=E.view.applyChanges(T,w.isPrimaryClient,C),[2,(VT(w,E.targetId,k.To),k.snapshot)]}})})}(e,v,g,y)},[4,Gm(e.localStore,t,!0)];case 1:return i=d.sent(),s=new bB(t,i.Bn),a=s._o(i.documents),l=kx.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),VT(e,n,c.To),h=new une(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function hne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return n=G(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!fp(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ac(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Id(n.remoteStore,r.targetId),Rc(n,r.targetId)}).catch(Du)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Rc(n,r.targetId),[4,Ac(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function dne(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:r=Yx(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var d,v=G(c),g=Er.now(),y=h.reduce(function(w,E){return w.add(E.key)},Be());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(E){d=E;for(var x=[],S=0,T=h;S<T.length;S++){var C=T[S],k=jee(C,d.get(C.key));k!=null&&x.push(new na(C.key,k,gV(k.value.mapValue),Pn.exists(!0)))}return v._n.addMutationBatch(w,g,x,h)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,d){var v=c.xo[c.currentUser.toKey()];v||(v=new Fn(Te)),v=v.insert(h,d),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,Yo(r,i.changes)];case 3:return l.sent(),[4,Jc(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ef(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function EB(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:n=G(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ite(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ce(l.bo):s.removedDocuments.size>0&&(ce(l.bo),l.bo=!1))}),[4,Yo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Du(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function iL(e,t,n){var r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=G(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&zx(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pne(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return(r=G(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new Fn(ie.comparator)).insert(s,bn.newNoDocument(s,_e.min())),l=Be().add(s),c=new Cx(_e.min(),new Map,new zt(Te),a,l),[4,EB(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Gx(r),[3,4];case 2:return[4,Ac(r.localStore,t,!1).then(function(){return Rc(r,t,n)}).catch(Du)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function vne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:n=G(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Tte(n.localStore,t)];case 2:return i=s.sent(),Kx(n,r,null),Hx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Du(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function gne(e,t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:r=G(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=G(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return c._n.lookupMutationBatch(h,l).next(function(v){return ce(v!==null),d=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),Kx(r,t,n),Hx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Yo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Du(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function mne(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:ra((n=G(e)).remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=G(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=ef(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Hx(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function Kx(e,t,n){var r=G(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Rc(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||SB(e,a)})}function SB(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Id(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Gx(e))}function VT(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof wB?(e.No.addReference(s.key,t),yne(e,s)):s instanceof _B?(K("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||SB(e,s.key)):re()}}function yne(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(K("SyncEngine","New document in limbo: "+n),e.So.add(r),Gx(e))}function Gx(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ie(Le.fromString(t)),r=e.ko.next();e.Co.set(r,new lne(n)),e.Do=e.Do.insert(n,r),y0(e.remoteStore,new m0(hi(Qc(n.path)),r,2,Lr.o))}}function Yo(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:return r=G(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=Ete.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return N(this,void 0,void 0,function(){var d,v,g,y,w,E,x,S,T;return P(this,function(C){switch(C.label){case 0:d=G(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return q.forEach(h,function(D){return q.forEach(D.bn,function(O){return d.persistence.referenceDelegate.addReference(k,D.targetId,O)}).next(function(){return q.forEach(D.vn,function(O){return d.persistence.referenceDelegate.removeReference(k,D.targetId,O)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Ou(v=C.sent()))throw v;return K("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],E=w.targetId,w.fromCache||(x=d.Fn.get(E),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S),d.Fn=d.Fn.insert(E,T));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function wne(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return(n=G(e)).currentUser.isEqual(t)?[3,3]:(K("SyncEngine","User change. New user:",t.toKey()),[4,iB(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new B(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Yo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _ne(e,t){var n=G(e),r=n.Co.get(t);if(r&&r.bo)return Be().add(r.key);var i=Be(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function bne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,Gm((n=G(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&VT(n,t.targetId,i.To),i)]}})})}function Ene(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,uB((t=G(e)).localStore).then(function(r){return Yo(t,r)})]})})}function Sne(e,t,n,r){return N(this,void 0,void 0,function(){var i,s;return P(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=G(l),d=G(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):q.resolve(null)})})}((i=G(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Jc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Kx(i,t,r||null),Hx(i,t),function(l,c){G(G(l)._n).Gt(c)}(i.localStore,t)):re(),a.label=4;case 4:return[4,Yo(i,s)];case 5:return a.sent(),[3,7];case 6:K("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Tne(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return Qx(n=G(e)),Yx(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,oL(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,$T(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)l=a[s],y0(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return Rc(n,g),Ac(n.localStore,g,!0)}),Id(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,oL(n,c)];case 5:return d.sent(),function(v){var g=G(v);g.Co.forEach(function(y,w){Id(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new Fn(ie.comparator)}(n),n.$o=!1,[4,$T(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function oL(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g,y,w,E,x;return P(this,function(S){switch(S.label){case 0:r=G(e),i=[],s=[],a=0,l=t,S.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(d=r.Vo.get(c))&&d.length!==0?[4,kc(r.localStore,hi(d[0]))]:[3,7]):[3,13];case 2:h=S.sent(),v=0,g=d,S.label=3;case 3:return v<g.length?(y=g[v],w=r.Po.get(y),[4,bne(r,w)]):[3,6];case 4:(E=S.sent()).snapshot&&s.push(E.snapshot),S.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,aB(r.localStore,c)];case 8:return x=S.sent(),[4,kc(r.localStore,x)];case 9:return h=S.sent(),[4,Wx(r,TB(x),c,!1)];case 10:S.sent(),S.label=11;case 11:i.push(h),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function TB(e){return yV(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ine(e){var t=G(e);return G(G(t.localStore).persistence).fn()}function xne(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return P(this,function(l){switch(l.label){case 0:return(i=G(e)).$o?(K("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,uB(i.localStore)];case 3:return s=l.sent(),a=Cx.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Yo(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Ac(i.localStore,t,!0)];case 6:return l.sent(),Rc(i,t,r),[3,8];case 7:re(),l.label=8;case 8:return[2]}})})}function Cne(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:if(!(r=Qx(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(K("SyncEngine","Adding an already active target "+a),[3,5]):[4,aB(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,kc(r.localStore,l)];case 3:return c=y.sent(),[4,Wx(r,TB(l),c.targetId,!1)];case 4:y.sent(),y0(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return P(this,function(E){switch(E.label){case 0:return r.Vo.has(w)?[4,Ac(r.localStore,w,!1).then(function(){Id(r.remoteStore,w),Rc(r,w)}).catch(Du)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function Qx(e){var t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=EB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_ne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pne.bind(null,t),t.vo._r=ine.bind(null,t.eventManager),t.vo.Mo=one.bind(null,t.eventManager),t}function Yx(e){var t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gne.bind(null,t),t}function kne(e,t,n){var r=G(e);(function(i,s,a){return N(this,void 0,void 0,function(){var l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,E){var x=G(w),S=en(E.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",function(T){return x.Ke.getBundleMetadata(T,E.id)}).then(function(T){return!!T&&T.createTime.compareTo(S)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(yB(l)),c=new ane(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,Yo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,E){var x=G(w);return x.persistence.runTransaction("Save bundle","readwrite",function(S){return x.Ke.saveBundleMetadata(S,E)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return yd("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var IB=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return this.R=gp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return rB(this.persistence,new nB,t.initialUser,this.R)},e.prototype.qo=function(t){return new Lte(jte.bs,this.R)},e.prototype.Bo=function(t){return new lB},e.prototype.terminate=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),xB=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return Q(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,Cte(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,Yx(this.Qo.syncEngine)];case 4:return r.sent(),[4,Jc(this.Qo.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return rB(this.persistence,new nB,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new pte(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Lx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new _te(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,cB(),Lg(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new lB},t}(IB),Ane=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Q(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return P(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof SE?(this.sharedClientState.syncEngine={ui:Sne.bind(null,r),ai:xne.bind(null,r),hi:Cne.bind(null,r),fn:Ine.bind(null,r),ci:Ene.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return[4,Tne(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=cB();if(!SE.yt(r))throw new B(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Lx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new SE(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(xB),BT=function(){function e(){}return e.prototype.initialize=function(t,n){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return iL(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wne.bind(null,this.syncEngine),[4,$T(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new rne},e.prototype.createDatastore=function(t){var n,r=gp(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new Bte(n));return function(s,a,l){return new Wte(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return iL(l.syncEngine,c,0)},a=tL.yt()?new tL:new Ute,new Kte(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var d=new cne(r,i,s,a,l,c);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=G(t),K("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return P(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w0=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),Rne=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new jn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new sne(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),Pne=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new B(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return N(this,void 0,void 0,function(){var l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return l=G(s),c=Td(l.R)+"/documents",h={documents:a.map(function(w){return Sd(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var E=function(x,S){return"found"in S?function(T,C){ce(!!C.found),C.found.name,C.found.updateTime;var k=oo(T,C.found.name),D=en(C.found.updateTime),O=new Or({mapValue:{fields:C.found.fields}});return bn.newFoundDocument(k,D,O)}(x,S):"missing"in S?function(T,C){ce(!!C.missing),ce(!!C.readTime);var k=oo(T,C.missing),D=en(C.readTime);return bn.newNoDocument(k,D)}(x,S):re()}(l.R,w);v.set(E.key.toString(),E)}),g=[],[2,(a.forEach(function(w){var E=v.get(w.toString());ce(!!E),g.push(E)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new vp(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return N(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ie.fromPath(s);n.mutations.push(new xx(a,n.precondition(a)))}),[4,function(i,s){return N(this,void 0,void 0,function(){var a,l,c;return P(this,function(h){switch(h.label){case 0:return a=G(i),l=Td(a.R)+"/documents",c={writes:s.map(function(d){return Wm(a.R,d)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw re();n=_e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new B(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Pn.updateTime(n):Pn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(_e.min()))throw new B(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(n)}return Pn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Nne=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new jx(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return N(t,void 0,void 0,function(){var n,r,i=this;return P(this,function(s){return n=new Pne(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Nu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!RV(n)}return!1},e}(),One=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=cV.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return N(i,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return K("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(t,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=ef(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(e,t){return N(this,void 0,void 0,function(){var n,r,i=this;return P(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,iB(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function kB(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Xx(e)];case 1:return n=i.sent(),K("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return N(this,void 0,void 0,function(){var c,h;return P(this,function(d){switch(d.label){case 0:return(c=G(a)).asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials"),h=ra(c),c.Or.add(3),[4,Xc(c)];case 1:return d.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return d.sent(),c.Or.delete(3),[4,mp(c)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Xx(e){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(K("FirestoreClient","Using default OfflineComponentProvider"),[4,CB(e,new IB)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function _0(e){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(K("FirestoreClient","Using default OnlineComponentProvider"),[4,kB(e,new BT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function aL(e){return Xx(e).then(function(t){return t.persistence})}function Jx(e){return Xx(e).then(function(t){return t.localStore})}function uL(e){return _0(e).then(function(t){return t.remoteStore})}function Zx(e){return _0(e).then(function(t){return t.syncEngine})}function Pc(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,_0(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=fne.bind(null,t.syncEngine),n.onUnlisten=hne.bind(null,t.syncEngine),n)]}})})}function lL(e,t,n){var r=this;n===void 0&&(n={});var i=new jn;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new w0({next:function(w){c.enqueueAndForget(function(){return Bx(l,y)});var E=w.docs.has(h);!E&&w.fromCache?v.reject(new B(F.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?v.reject(new B(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new qx(Qc(h.path),g,{includeMetadataChanges:!0,so:!0});return Vx(l,y)},[4,Pc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function cL(e,t,n){var r=this;n===void 0&&(n={});var i=new jn;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new w0({next:function(w){c.enqueueAndForget(function(){return Bx(l,y)}),w.fromCache&&d.source==="server"?v.reject(new B(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new qx(h,g,{includeMetadataChanges:!0,so:!0});return Vx(l,y)},[4,Pc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Dne=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Xm=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),fL=new Map,AB=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},hL=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(pr.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Lne=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Mne=function(){function e(t){var n=this;this.currentUser=pr.UNAUTHENTICATED,this.oc=new jn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){K("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(K("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(K("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ce(typeof i.accessToken=="string"),new AB(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string"),new pr(t)},e}(),jne=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=pr.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Fne=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new jne(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(pr.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(e,t,n){if(!n)throw new B(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function tC(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new B(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function RB(e,t,n,r){if(t===!0&&r===!0)throw new B(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function dL(e){if(!ie.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function pL(e){if(ie.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function b0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":re()}function Oe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=b0(e);throw new B(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function vL(e,t){if(t<=0)throw new B(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gL=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,RB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),xd=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gL({}),this._settingsFrozen=!1,t instanceof Xm?(this._databaseId=t,this._credentials=new hL):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new B(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xm(r.options.projectId)}(t),this._credentials=new Mne(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gL(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new hL;switch(n.type){case"gapi":var r=n.client;return ce(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Fne(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new B(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=fL.get(t))&&(K("ComponentProvider","Removing Datastore"),fL.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),lt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Sr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Fs=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Qc(i))||this)._path=i,s.type="collection",s}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new lt(this.firestore,null,new ie(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ve(e),eC("collection","path",t),e instanceof xd)return pL(n=Le.fromString.apply(Le,me([t],r))),new Fs(e,null,n);if(!(e instanceof lt||e instanceof Fs))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pL(n=Le.fromString.apply(Le,me([e.path],r)).child(Le.fromString(t))),new Fs(e.firestore,null,n)}function Mg(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ve(e),arguments.length===1&&(t=cV.u()),eC("doc","path",t),e instanceof xd)return dL(n=Le.fromString.apply(Le,me([t],r))),new lt(e,null,new ie(n));if(!(e instanceof lt||e instanceof Fs))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dL(n=e._path.child(Le.fromString.apply(Le,me([t],r)))),new lt(e.firestore,e instanceof Fs?e.converter:null,new ie(n))}function NB(e,t){return e=ve(e),t=ve(t),(e instanceof lt||e instanceof Fs)&&(t instanceof lt||t instanceof Fs)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OB(e,t){return e=ve(e),t=ve(t),e instanceof Sr&&t instanceof Sr&&e.firestore===t.firestore&&fp(e._query,t._query)&&e.converter===t.converter}var Une=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jx(this,"async_queue_retry"),this.Ic=function(){var r=Lg();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new jn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return N(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ou(t=r.sent()))throw t;return K("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Rt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=tne.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&re()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Nc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var $ne=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new jn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),Vne=-1,St=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new Une,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return Q(t,e),t.prototype._terminate=function(){return this._firestoreClient||DB(this),this._firestoreClient.terminate()},t}(xd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e){return e._firestoreClient||DB(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DB(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new Dne(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new One(e._credentials,e._queue,r)}function mL(e,t,n){var r=this,i=new jn;return e.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,CB(e,n)];case 1:return a.sent(),[4,kB(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function yL(e){if(e._initialized||e._terminated)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),yu=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(er.fromBase64String(t))}catch(n){throw new B(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(er.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Lu=function(e){this._methodName=e},E0=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Te(this._lat,t._lat)||Te(this._long,t._long)},e}(),Bne=/^__.*__$/,zne=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,n,this.fieldTransforms):new pp(t,this.data,n,this.fieldTransforms)},e}(),LB=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new na(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var jB=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(t){return Jm(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(MB(this.Nc)&&Bne.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),qne=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||gp(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new jB({Nc:t,methodName:n,qc:r,path:ji.emptyPath(),kc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Mu(e){var t=e._freezeSettings(),n=gp(e._databaseId);return new qne(e._databaseId,!!t.ignoreUndefinedProperties,n)}function S0(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);oC("Data must be an object, but it was:",a,r);var l,c,h=$B(r,a);if(s.merge)l=new mc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=zT(t,g[v],n);if(!a.contains(y))throw new B(F.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");BB(d,y)||d.push(y)}l=new mc(d),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new zne(new Or(h),l,c)}var nC=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Lu);function FB(e,t,n){return new jB({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Wne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){return new dp(n.path,new bc)},t.prototype.isEqual=function(n){return n instanceof t},t}(Lu),Hne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=FB(this,n,!0),i=this.Kc.map(function(a){return ju(a,r)}),s=new gu(i);return new dp(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Lu),Kne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=FB(this,n,!0),i=this.Kc.map(function(a){return ju(a,r)}),s=new mu(i);return new dp(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Lu),Gne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=new Ec(n.R,TV(n.R,this.Qc));return new dp(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Lu);function rC(e,t,n,r){var i=e.Uc(1,t,n);oC("Data must be an object, but it was:",i,r);var s=[],a=Or.empty();Pu(r,function(c,h){var d=sC(t,c,n);h=ve(h);var v=i.Oc(d);if(h instanceof nC)s.push(d);else{var g=ju(h,v);g!=null&&(s.push(d),a.set(d,g))}});var l=new mc(s);return new LB(a,l,i.fieldTransforms)}function iC(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[zT(t,r,n)],c=[i];if(s.length%2!=0)throw new B(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(zT(t,s[h])),c.push(s[h+1]);for(var d=[],v=Or.empty(),g=l.length-1;g>=0;--g)if(!BB(d,l[g])){var y=l[g],w=c[g];w=ve(w);var E=a.Oc(y);if(w instanceof nC)d.push(y);else{var x=ju(w,E);x!=null&&(d.push(y),v.set(y,x))}}var S=new mc(d);return new LB(v,S,a.fieldTransforms)}function UB(e,t,n,r){return r===void 0&&(r=!1),ju(n,e.Uc(r?4:3,t))}function ju(e,t){if(VB(e=ve(e)))return oC("Unsupported field value:",t,e),$B(e,t);if(e instanceof Lu)return function(n,r){if(!MB(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=ju(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return TV(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Er.fromDate(n);return{timestampValue:Ed(r.R,i)}}if(n instanceof Er)return i=new Er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ed(r.R,i)};if(n instanceof E0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yu)return{bytesValue:LV(r.R,n._byteString)};if(n instanceof lt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ax(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+b0(n))}(e,t)}function $B(e,t){var n={};return hV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pu(e,function(r,i){var s=ju(i,t.Fc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Er||e instanceof E0||e instanceof yu||e instanceof lt||e instanceof Lu)}function oC(e,t,n){if(!VB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=b0(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function zT(e,t,n){if((t=ve(t))instanceof so)return t._internalPath;if(typeof t=="string")return sC(e,t);throw Jm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Qne=new RegExp("[~\\*/\\[\\]]");function sC(e,t,n){if(t.search(Qne)>=0)throw Jm("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(so.bind.apply(so,me([void 0],t.split("."))))()._internalPath}catch{throw Jm("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Jm(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new B(F.INVALID_ARGUMENT,(l+=". ")+e+c)}function BB(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new lt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Yne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Yne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Cd);function Zm(e,t){return typeof t=="string"?sC(e,t):t instanceof so?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Fo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return Q(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Zm("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Cd),Mh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Fo),bs=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new za(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Mh(r._firestore,r._userDataWriter,i.key,i,new za(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Mh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Mh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(d=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:Xne(l.type),doc:c,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Xne(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function zB(e,t){return e instanceof Fo&&t instanceof Fo?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bs&&t instanceof bs&&e._firestore===t._firestore&&OB(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(e){if(qm(e)&&e.explicitOrderBy.length===0)throw new B(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yp=function(){};function cs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var Jne=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return Q(t,e),t.prototype._apply=function(n){var r=Mu(n.firestore),i=function(s,a,l,c,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){SL(v,d);for(var y=[],w=0,E=v;w<E.length;w++){var x=E[w];y.push(EL(c,s,x))}g={arrayValue:{values:y}}}else g=EL(c,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||SL(v,d),g=UB(l,"where",v,d==="in"||d==="not-in");var S=Mr.create(h,d,g);return function(T,C){if(C.g()){var k=Tx(T);if(k!==null&&!k.isEqual(C.field))throw new B(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+C.field.toString()+"'");var D=Sx(T);D!==null&&HB(T,C.field,D)}var O=function(j,L){for(var Y=0,R=j.filters;Y<R.length;Y++){var Ce=R[Y];if(L.indexOf(Ce.op)>=0)return Ce.op}return null}(T,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(O!==null)throw O===C.op?new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,S),S}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Sr(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(yp),Zne=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return Q(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Kl(s,a);return function(c,h){if(Sx(c)===null){var d=Tx(c);d!==null&&HB(c,d,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Sr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Qo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(yp),wL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return Q(t,e),t.prototype._apply=function(n){return new Sr(n.firestore,n.converter,wV(n._query,this.Hc,this.Jc))},t}(yp),_L=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return Q(t,e),t.prototype._apply=function(n){var r=WB(n,this.type,this.Yc,this.Xc);return new Sr(n.firestore,n.converter,function(i,s){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(yp),bL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return Q(t,e),t.prototype._apply=function(n){var r=WB(n,this.type,this.Yc,this.Xc);return new Sr(n.firestore,n.converter,function(i,s){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(yp);function WB(e,t,n,r){if(n[0]=ve(n[0]),n[0]instanceof Cd)return function(s,a,l,c,h){if(!c)throw new B(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var d=[],v=0,g=_c(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(Vm(a,c.key));else{var w=c.data.field(y.field);if(_x(w))throw new B(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var E=y.field.canonicalString();throw new B(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(w)}}return new bd(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Mu(e.firestore);return function(s,a,l,c,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new B(F.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new B(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!Ix(s)&&w.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var E=s.path.child(Le.fromString(w));if(!ie.isDocumentKey(E))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var x=new ie(E);g.push(Vm(a,x))}else{var S=UB(l,c,w);g.push(S)}}return new bd(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function EL(e,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ix(t)&&n.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Le.fromString(n));if(!ie.isDocumentKey(r))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vm(e,new ie(r))}if(n instanceof lt)return Vm(e,n._key);throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+b0(n)+".")}function SL(e,t){if(!Array.isArray(e)||e.length===0)throw new B(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new B(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function HB(e,t,n){if(!n.isEqual(t))throw new B(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),vu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(yc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw re()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Pu(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new E0(Ct(t.latitude),Ct(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=pV(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ks(t);return new Er(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Le.fromString(t);ce(qV(r));var i=new Xm(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Rt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ere=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new yu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new lt(this.firestore,null,r)},t}(aC),tre=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mu(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Es(t,this._firestore),s=T0(i.converter,n,r),a=S0(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Pn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Es(t,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof so?iC(this._dataReader,"WriteBatch.update",l._key,n,r,i):rC(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Pn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Es(t,this._firestore);return this._mutations=this._mutations.concat(new vp(n._key,Pn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new B(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e,t){if((e=ve(e)).firestore!==t)throw new B(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new yu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new lt(this.firestore,null,r)},t}(aC);function TL(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Oe(e,lt);var s=Oe(e.firestore,St),a=Mu(s);return kd(s,[(typeof(t=ve(t))=="string"||t instanceof so?iC(a,"updateDoc",e._key,t,n,r):rC(a,"updateDoc",e._key,t)).toMutation(e._key,Pn.exists(!0))])}function KB(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=ve(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Nc(i[l])||(a=i[l],l++);var c,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Nc(i[l])){var g=i[l];i[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof lt)h=Oe(e.firestore,St),d=Qc(e._key.path),c={next:function(E){i[l]&&i[l](qT(h,e,E))},error:i[l+1],complete:i[l+2]};else{var y=Oe(e,Sr);h=Oe(y.firestore,St),d=y._query;var w=new eu(h);c={next:function(E){i[l]&&i[l](new bs(h,w,y,E))},error:i[l+1],complete:i[l+2]},qB(e._query)}return function(E,x,S,T){var C=this,k=new w0(T),D=new qx(x,k,S);return E.asyncQueue.enqueueAndForget(function(){return N(C,void 0,void 0,function(){var O;return P(this,function(j){switch(j.label){case 0:return O=Vx,[4,Pc(E)];case 1:return[2,O.apply(void 0,[j.sent(),D])]}})})}),function(){k.Wo(),E.asyncQueue.enqueueAndForget(function(){return N(C,void 0,void 0,function(){var O;return P(this,function(j){switch(j.label){case 0:return O=Bx,[4,Pc(E)];case 1:return[2,O.apply(void 0,[j.sent(),D])]}})})})}}(Jt(h),d,v,c)}function kd(e,t){return function(n,r){var i=this,s=new jn;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return P(this,function(l){switch(l.label){case 0:return a=dne,[4,Zx(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Jt(e),t)}function qT(e,t,n){var r=n.docs.get(t._key),i=new eu(e);return new Fo(e,i,t._key,r,new za(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nre=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return Q(t,e),t.prototype.get=function(n){var r=this,i=Es(n,this._firestore),s=new eu(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Fo(r._firestore,s,i._key,a._document,new za(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Mu(t)}return e.prototype.get=function(t){var n=this,r=Es(t,this._firestore),i=new ere(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return re();var a=s[0];if(a.isFoundDocument())return new Cd(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Cd(n._firestore,i,r._key,null,r.converter);throw re()})},e.prototype.set=function(t,n,r){var i=Es(t,this._firestore),s=T0(i.converter,n,r),a=S0(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=Es(t,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof so?iC(this._dataReader,"Transaction.update",l._key,n,r,i):rC(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Es(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){if(typeof Uint8Array>"u")throw new B(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function xL(){if(typeof atob>"u")throw new B(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var GB=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return xL(),new e(yu.fromBase64String(t))},e.fromUint8Array=function(t){return IL(),new e(yu.fromUint8Array(t))},e.prototype.toBase64=function(){return xL(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return IL(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rre=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){yL(r=Oe(r,St));var s=Jt(r),a=r._freezeSettings(),l=new BT;return mL(s,l,new xB(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){yL(n=Oe(n,St));var r=Jt(n),i=n._freezeSettings(),s=new BT;return mL(r,s,new Ane(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new B(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new jn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return N(this,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return Ic.yt()?(c=l+"main",[4,Ic.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(Lx(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),uC=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Xm||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||yd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=Oe(i,xd))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&yd("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=CU(l.mockUserToken),d=l.mockUserToken.sub||l.mockUserToken.user_id;if(!d)throw new B(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new Lne(new AB(h,new pr(d)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,aL(t)];case 1:return r=s.sent(),[4,uL(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=G(a);return l.Or.delete(0),mp(l)}(i))]}})})})}(Jt(Oe(this._delegate,St)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,aL(t)];case 1:return r=s.sent(),[4,uL(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var l;return P(this,function(c){switch(c.label){case 0:return(l=G(a)).Or.add(0),[4,Xc(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Jt(Oe(this._delegate,St)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&RB("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new jn;return t.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return i=mne,[4,Zx(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Jt(Oe(this._delegate,St)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new w0(s);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=function(d,v){G(d).Gr.add(v),v.next()},[4,Pc(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=function(d,v){G(d).Gr.delete(v)},[4,Pc(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Jt(n=Oe(n,St)),Nc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ey(this,PB(this._delegate,t))}catch(n){throw Kn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new tu(this,Mg(this._delegate,t))}catch(n){throw Kn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new wp(this,function(n,r){if(n=Oe(n,xd),eC("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new B(F.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sr(n,null,function(i){return new Qo(Le.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Kn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new jn;return s.asyncQueue.enqueueAndForget(function(){return N(l,void 0,void 0,function(){var h;return P(this,function(d){switch(d.label){case 0:return[4,function(v){return _0(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new Nne(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Jt(r),function(s){return i(new nre(r,s))})}(this._delegate,function(r){return t(new QB(n,r))})},e.prototype.batch=function(){var t=this;return Jt(this._delegate),new YB(new tre(this._delegate,function(n){return kd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new B(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new B(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),I0=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new GB(new yu(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return tu.eu(r,this.firestore,null)},t}(aC);function ire(e){var t;t=e,Di.setLogLevel(t)}var QB=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new I0(t)}return e.prototype.get=function(t){var n=this,r=qa(t);return this._delegate.get(r).then(function(i){return new Ad(n._firestore,new Fo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=qa(t);return r?(tC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=qa(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=qa(t);return this._delegate.delete(n),this},e}(),YB=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=qa(t);return r?(tC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=qa(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=qa(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),x0=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Mh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Rd(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new I0(t),n),i.set(n,s)),s},e}();x0.su=new WeakMap;var tu=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new I0(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new B(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new lt(n._delegate,r,new ie(t)))},e.eu=function(t,n,r){return new e(n,new lt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ey(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ey(this.firestore,PB(this._delegate,t))}catch(n){throw Kn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ve(t))instanceof lt&&NB(this._delegate,t)},e.prototype.set=function(t,n){n=tC("DocumentReference.set",n);try{return function(r,i,s){r=Oe(r,lt);var a=Oe(r.firestore,St),l=T0(r.converter,i,s);return kd(a,[S0(Mu(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,Pn.none())])}(this._delegate,t,n)}catch(r){throw Kn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?TL(this._delegate,t):TL.apply(void 0,me([this._delegate,t,n],r))}catch(s){throw Kn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return kd(Oe((t=this._delegate).firestore,St),[new vp(t._key,Pn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=XB(n),s=JB(n,function(a){return new Ad(t.firestore,new Fo(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return KB(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Oe(r,lt);var i=Oe(r.firestore,St),s=Jt(i),a=new eu(i);return function(l,c){var h=this,d=new jn;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return N(this,void 0,void 0,function(){var x,S;return P(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(C,k){var D=G(C);return D.persistence.runTransaction("read document","readonly",function(O){return D.Mn.mn(O,k)})}(y,w)];case 1:return(S=T.sent()).isFoundDocument()?E.resolve(S):S.isNoDocument()?E.resolve(null):E.reject(new B(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return x=T.sent(),S=ef(x,"Failed to get document '"+w+" from cache"),E.reject(S),[3,3];case 3:return[2]}})})},[4,Jx(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._key).then(function(l){return new Fo(i,a,r._key,l,new za(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Oe(r,lt);var i=Oe(r.firestore,St);return lL(Jt(i),r._key,{source:"server"}).then(function(s){return qT(i,r,s)})}(this._delegate):function(r){r=Oe(r,lt);var i=Oe(r.firestore,St);return lL(Jt(i),r._key).then(function(s){return qT(i,r,s)})}(this._delegate)).then(function(r){return new Ad(n.firestore,new Fo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(x0.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Kn(e,t,n){return e.message=e.message.replace(t,n),e}function XB(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Nc(r))return r}return{}}function JB(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Nc(e[0])?e[0]:Nc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ad=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new tu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return zB(this._delegate,t._delegate)},e}(),Rd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ad),wp=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new I0(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,cs(this._delegate,function(i,s,a){var l=s,c=Zm("where",i);return new Jne(c,l,a)}(t,n,r)))}catch(i){throw Kn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,cs(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Zm("orderBy",r);return new Zne(a,s)}(t,n)))}catch(r){throw Kn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,cs(this._delegate,function(n){return vL("limit",n),new wL("limit",n,"F")}(t)))}catch(n){throw Kn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,cs(this._delegate,function(n){return vL("limitToLast",n),new wL("limitToLast",n,"L")}(t)))}catch(n){throw Kn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cs(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _L("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Kn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cs(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _L("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Kn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cs(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new bL("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Kn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,cs(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new bL("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Kn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return OB(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Oe(r,Sr);var i=Oe(r.firestore,St),s=Jt(i),a=new eu(i);return function(l,c){var h=this,d=new jn;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return N(this,void 0,void 0,function(){var x,S,T,C,k;return P(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,Gm(y,w,!0)];case 1:return k=D.sent(),x=new bB(w,k.Bn),S=x._o(k.documents),T=x.applyChanges(S,!1),E.resolve(T.snapshot),[3,3];case 2:return C=D.sent(),k=ef(C,"Failed to execute query '"+w+" against cache"),E.reject(k),[3,3];case 3:return[2]}})})},[4,Jx(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._query).then(function(l){return new bs(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Oe(r,Sr);var i=Oe(r.firestore,St),s=Jt(i),a=new eu(i);return cL(s,r._query,{source:"server"}).then(function(l){return new bs(i,a,r,l)})}(this._delegate):function(r){r=Oe(r,Sr);var i=Oe(r.firestore,St),s=Jt(i),a=new eu(i);return qB(r._query),cL(s,r._query).then(function(l){return new bs(i,a,r,l)})}(this._delegate)).then(function(r){return new WT(n.firestore,new bs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=XB(n),s=JB(n,function(a){return new WT(t.firestore,new bs(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return KB(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(x0.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),ore=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),WT=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new wp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Rd(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new ore(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Rd(r._firestore,i))})},e.prototype.isEqual=function(t){return zB(this._delegate,t._delegate)},e}(),ey=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new tu(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new tu(this.firestore,n===void 0?Mg(this._delegate):Mg(this._delegate,n))}catch(r){throw Kn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Oe(i.firestore,St),l=Mg(i),c=T0(i.converter,s);return kd(a,[S0(Mu(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,Pn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new tu(r.firestore,i)})},t.prototype.isEqual=function(n){return NB(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(x0.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(wp);function qa(e){return Oe(e,lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sre=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(so.bind.apply(so,me([void 0],t)))}return e.documentId=function(){return new e(ji.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ve(t))instanceof so&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),are=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Wne("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new nC("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Hne("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Kne("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Gne("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(e){return function(t,n){var r=Jt(t=Oe(t,St)),i=new $ne;return function(s,a,l,c){var h=this,d=function(v,g){return function(y,w){return new Rne(y,w)}(function(y,w){if(y instanceof Uint8Array)return sL(y,w);if(y instanceof ArrayBuffer)return sL(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(l,gp(a));s.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=kne,[4,Zx(s)];case 1:return v.apply(void 0,[g.sent(),d,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function lre(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var l;return P(this,function(c){switch(c.label){case 0:return l=function(h,d){var v=G(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,d)})},[4,Jx(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Jt(t=Oe(t,St)),n).then(function(i){return i?new Sr(t,null,i.query):null})).then(function(i){return i?new wp(r,i):null})}var cre={Firestore:uC,GeoPoint:E0,Timestamp:Er,Blob:GB,Transaction:QB,WriteBatch:YB,DocumentReference:tu,DocumentSnapshot:Ad,Query:wp,QueryDocumentSnapshot:Rd,QuerySnapshot:WT,CollectionReference:ey,FieldPath:sre,FieldValue:are,setLogLevel:ire,CACHE_SIZE_UNLIMITED:Vne};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(e){(function(t,n){t.INTERNAL.registerComponent(new Mn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cre)))})(e,function(t,n){return new uC(t,new St(t,n),new rre)}),e.registerVersion("@firebase/firestore","2.3.10")}fre(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(e){e.prototype.loadBundle=ure,e.prototype.namedQuery=lre}hre(uC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gl=function(e){Q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function dre(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function pre(e,t,n){var r=dre(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!CL[l])return new Gl("internal","internal");r=CL[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Gl(r,i,s)}var vre=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gre="type.googleapis.com/google.protobuf.Int64Value",mre="type.googleapis.com/google.protobuf.UInt64Value";function kL(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var yre=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return kL(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case gre:case mre:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?kL(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Gl("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var AL=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new yre,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new vre(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return P(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y,w,E;return P(this,function(x){switch(x.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=x.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=wre(c),d=h.timer,v=h.promise,[4,Promise.race([RL(d,this.postJSON(i,s,a)),v,RL(d,this.cancelAllRequests)])];case 2:if(g=x.sent(),!g)throw new Gl("cancelled","Firebase Functions instance was deleted.");if(y=pre(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new Gl("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new Gl("internal","Response is missing data field.");return E=this.serializer.decode(w),[2,{data:E}]}})})},e}();function RL(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _re="functions";function bre(e,t){var n={Functions:AL};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new AL(l,c,d,h,a,t)}e.INTERNAL.registerComponent(new Mn(_re,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var Ere="@firebase/functions",Sre="0.6.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bre(X,fetch.bind(self));X.registerVersion(Ere,Sre);function Tre(e){return Array.prototype.slice.call(e)}function ZB(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function lC(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),ZB(r).then(s,a)});return i.request=r,i}function Ire(e,t,n){var r=lC(e,t,n);return r.then(function(i){if(i)return new Pd(i,r.request)})}function tf(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function cC(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return lC(this[t],i,arguments)})})}function C0(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function ez(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Ire(this[t],i,arguments)})})}function Fu(e){this._index=e}tf(Fu,"_index",["name","keyPath","multiEntry","unique"]);cC(Fu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);ez(Fu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Pd(e,t){this._cursor=e,this._request=t}tf(Pd,"_cursor",["direction","key","primaryKey","value"]);cC(Pd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Pd.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),ZB(t._request).then(function(r){if(r)return new Pd(r,t._request)})})})});function vo(e){this._store=e}vo.prototype.createIndex=function(){return new Fu(this._store.createIndex.apply(this._store,arguments))};vo.prototype.index=function(){return new Fu(this._store.index.apply(this._store,arguments))};tf(vo,"_store",["name","keyPath","indexNames","autoIncrement"]);cC(vo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);ez(vo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);C0(vo,"_store",IDBObjectStore,["deleteIndex"]);function _p(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}_p.prototype.objectStore=function(){return new vo(this._tx.objectStore.apply(this._tx,arguments))};tf(_p,"_tx",["objectStoreNames","mode"]);C0(_p,"_tx",IDBTransaction,["abort"]);function k0(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new _p(n)}k0.prototype.createObjectStore=function(){return new vo(this._db.createObjectStore.apply(this._db,arguments))};tf(k0,"_db",["name","version","objectStoreNames"]);C0(k0,"_db",IDBDatabase,["deleteObjectStore","close"]);function A0(e){this._db=e}A0.prototype.transaction=function(){return new _p(this._db.transaction.apply(this._db,arguments))};tf(A0,"_db",["name","version","objectStoreNames"]);C0(A0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[vo,Fu].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=Tre(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Fu,vo].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function xre(e,t,n){var r=lC(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new k0(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new A0(s)})}var Cre="@firebase/installations",tz="0.4.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nz=1e4,rz="w:"+tz,iz="FIS_v2",kre="https://firebaseinstallations.googleapis.com/v1",Are=60*60*1e3,Rre="installations",Pre="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs,Nre=(fs={},fs["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',fs["not-registered"]="Firebase Installation is not registered.",fs["installation-not-found"]="Firebase Installation not found.",fs["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',fs["app-offline"]="Could not process request. Application offline.",fs["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",fs),Wo=new Go(Rre,Pre,Nre);function oz(e){return e instanceof Vc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(e){var t=e.projectId;return kre+"/projects/"+t+"/installations"}function sz(e){return{token:e.token,requestStatus:2,expiresIn:Ore(e.expiresIn),creationTime:Date.now()}}function hC(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Wo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function az(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uz(e,t){var n=t.refreshToken,r=az(e);return r.append("Authorization",Dre(n)),r}function dC(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function Ore(e){return Number(e.replace("s","000"))}function Dre(e){return iz+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(e,t){var n=t.fid;return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return r=fC(e),i=az(e),s={fid:n,authVersion:iz,appId:e.appId,sdkVersion:rz},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,dC(function(){return fetch(r,a)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:sz(c.authToken)},[2,h];case 3:return[4,hC("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(e){var t=btoa(String.fromCharCode.apply(String,me([],dn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jre=/^[cdef][\w-]{21}$/,HT="";function Fre(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=Ure(e);return jre.test(n)?n:HT}catch{return HT}}function Ure(e){var t=Mre(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=new Map;function cz(e,t){var n=nf(e);fz(n,t),Bre(n,t)}function $re(e,t){hz();var n=nf(e),r=Oc.get(n);r||(r=new Set,Oc.set(n,r)),r.add(t)}function Vre(e,t){var n=nf(e),r=Oc.get(n);r&&(r.delete(t),r.size===0&&Oc.delete(n),dz())}function fz(e,t){var n,r,i=Oc.get(e);if(i)try{for(var s=nn(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function Bre(e,t){var n=hz();n&&n.postMessage({key:e,fid:t}),dz()}var Wa=null;function hz(){return!Wa&&"BroadcastChannel"in self&&(Wa=new BroadcastChannel("[Firebase] FID Change"),Wa.onmessage=function(e){fz(e.data.key,e.data.fid)}),Wa}function dz(){Oc.size===0&&Wa&&(Wa.close(),Wa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zre="firebase-installations-database",qre=1,wu="firebase-installations-store",TE=null;function pC(){return TE||(TE=xre(zre,qre,function(e){switch(e.oldVersion){case 0:e.createObjectStore(wu)}})),TE}function ty(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return n=nf(e),[4,pC()];case 1:return r=l.sent(),i=r.transaction(wu,"readwrite"),s=i.objectStore(wu),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&cz(e,t.fid),[2,t]}})})}function vC(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return t=nf(e),[4,pC()];case 1:return n=i.sent(),r=n.transaction(wu,"readwrite"),[4,r.objectStore(wu).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function bp(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return n=nf(e),[4,pC()];case 1:return r=c.sent(),i=r.transaction(wu,"readwrite"),s=i.objectStore(wu),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&cz(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,bp(e,function(s){var a=Wre(s),l=Hre(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==HT?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function Wre(e){var t=e||{fid:Fre(),registrationStatus:0};return pz(t)}function Hre(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Wo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Kre(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Gre(e)}:{installationEntry:t}}function Kre(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Lre(e,t)];case 1:return n=i.sent(),[2,ty(e,n)];case 2:return r=i.sent(),oz(r)&&r.customData.serverCode===409?[4,vC(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,ty(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function Gre(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,PL(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,lz(100)];case 3:return s.sent(),[4,PL(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,gC(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function PL(e){return bp(e,function(t){if(!t)throw Wo.create("installation-not-found");return pz(t)})}function pz(e){return Qre(e)?{fid:e.fid,registrationStatus:0}:e}function Qre(e){return e.registrationStatus===1&&e.registrationTime+nz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yre(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v;return P(this,function(g){switch(g.label){case 0:return i=Xre(n,t),s=uz(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:rz}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,dC(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=sz(d),[2,v];case 3:return[4,hC("Generate Auth Token",h)];case 4:throw g.sent()}})})}function Xre(e,t){var n=t.fid;return fC(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,bp(e.appConfig,function(l){if(!vz(l))throw Wo.create("not-registered");var c=l.authToken;if(!t&&eie(c))return l;if(c.requestStatus===1)return n=Jre(e,t),l;if(!navigator.onLine)throw Wo.create("app-offline");var h=nie(l);return n=Zre(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function Jre(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,NL(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,lz(100)];case 3:return i.sent(),[4,NL(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,mC(e,t)]:[2,r]}})})}function NL(e){return bp(e,function(t){if(!vz(t))throw Wo.create("not-registered");var n=t.authToken;return rie(n)?ae(ae({},t),{authToken:{requestStatus:0}}):t})}function Zre(e,t){return N(this,void 0,void 0,function(){var n,i,r,i;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Yre(e,t)];case 1:return n=s.sent(),i=ae(ae({},t),{authToken:n}),[4,ty(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),oz(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,vC(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ae(ae({},t),{authToken:{requestStatus:0}}),[4,ty(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function vz(e){return e!==void 0&&e.registrationStatus===2}function eie(e){return e.requestStatus===2&&!tie(e)}function tie(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Are}function nie(e){var t={requestStatus:1,requestTime:Date.now()};return ae(ae({},e),{authToken:t})}function rie(e){return e.requestStatus===1&&e.requestTime+nz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,gC(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):mC(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oie(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,sie(e.appConfig)];case 1:return r.sent(),[4,mC(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function sie(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,gC(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=uie(e,t),r=uz(e,t),i={method:"DELETE",headers:r},[4,dC(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,hC("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function uie(e,t){var n=t.fid;return fC(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,bp(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Wo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Wo.create("app-offline");case 3:return[4,aie(t,n)];case 4:return r.sent(),[4,vC(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(e,t){var n=e.appConfig;return $re(n,t),function(){Vre(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fie(e){var t,n;if(!e||!e.options)throw IE("App Configuration");if(!e.name)throw IE("App Name");var r=["projectId","apiKey","appId"];try{for(var i=nn(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw IE(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function IE(e){return Wo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(e){var t="installations";e.INTERNAL.registerComponent(new Mn(t,function(n){var r=n.getProvider("app").getImmediate(),i=fie(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return iie(a)},getToken:function(c){return oie(a,c)},delete:function(){return lie(a)},onIdChange:function(c){return cie(a,c)}};return l},"PUBLIC")),e.registerVersion(Cre,tz)}hie(X);function die(e){return Array.prototype.slice.call(e)}function gz(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function R0(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),gz(r).then(s,a)});return i.request=r,i}function pie(e,t,n){var r=R0(e,t,n);return r.then(function(i){if(i)return new Nd(i,r.request)})}function rf(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function yC(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return R0(this[t],i,arguments)})})}function P0(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function mz(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return pie(this[t],i,arguments)})})}function Uu(e){this._index=e}rf(Uu,"_index",["name","keyPath","multiEntry","unique"]);yC(Uu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);mz(Uu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Nd(e,t){this._cursor=e,this._request=t}rf(Nd,"_cursor",["direction","key","primaryKey","value"]);yC(Nd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Nd.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),gz(t._request).then(function(r){if(r)return new Nd(r,t._request)})})})});function go(e){this._store=e}go.prototype.createIndex=function(){return new Uu(this._store.createIndex.apply(this._store,arguments))};go.prototype.index=function(){return new Uu(this._store.index.apply(this._store,arguments))};rf(go,"_store",["name","keyPath","indexNames","autoIncrement"]);yC(go,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);mz(go,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);P0(go,"_store",IDBObjectStore,["deleteIndex"]);function Ep(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Ep.prototype.objectStore=function(){return new go(this._tx.objectStore.apply(this._tx,arguments))};rf(Ep,"_tx",["objectStoreNames","mode"]);P0(Ep,"_tx",IDBTransaction,["abort"]);function N0(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Ep(n)}N0.prototype.createObjectStore=function(){return new go(this._db.createObjectStore.apply(this._db,arguments))};rf(N0,"_db",["name","version","objectStoreNames"]);P0(N0,"_db",IDBDatabase,["deleteObjectStore","close"]);function O0(e){this._db=e}O0.prototype.transaction=function(){return new Ep(this._db.transaction.apply(this._db,arguments))};rf(O0,"_db",["name","version","objectStoreNames"]);P0(O0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[go,Uu].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=die(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Uu,go].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function yz(e,t,n){var r=R0(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new N0(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new O0(s)})}function xE(e){return R0(indexedDB,"deleteDatabase",[e])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,vie=(jt={},jt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',jt["only-available-in-window"]="This method is available in a Window context.",jt["only-available-in-sw"]="This method is available in a service worker context.",jt["permission-default"]="The notification permission was not granted and dismissed instead.",jt["permission-blocked"]="The notification permission was not granted and blocked instead.",jt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",jt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",jt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",jt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",jt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",jt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",jt["token-update-no-token"]="FCM returned no token when updating the user to push.",jt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",jt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",jt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",jt["invalid-vapid-key"]="The public VAPID key must be a string.",jt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",jt),Ve=new Go("messaging","Messaging",vie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gie="/firebase-messaging-sw.js",mie="/firebase-cloud-messaging-push-scope",ny="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yie="https://fcmregistrations.googleapis.com/v1",wz="FCM_MSG",wie="FirebaseMessaging: ",_ie="google.c.a.e",_z="google.c.a.c_id",bie="google.c.a.ts",Eie="google.c.a.c_l",Sie=1e3,Tie=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var _u;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(_u||(_u={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,me([],dn(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iie(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CE="fcm_token_details_db",xie=5,OL="fcm_token_object_Store";function Cie(e){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return P(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(CE))return[2,null];a.label=2;case 2:return r=null,[4,yz(CE,xie,function(l){return N(s,void 0,void 0,function(){var c,h,d,d,d,v;return P(this,function(g){switch(g.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(OL)?(c=l.transaction.objectStore(OL),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(l.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:ko(d.vapidKey)}}}else l.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ko(d.auth),p256dh:ko(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ko(d.vapidKey)}}):l.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ko(d.auth),p256dh:ko(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ko(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,xE(CE)];case 4:return a.sent(),[4,xE("fcm_vapid_details_db")];case 5:return a.sent(),[4,xE("undefined")];case 6:return a.sent(),[2,kie(r)?r:null]}})})}function kie(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aie="firebase-messaging-database",Rie=1,bu="firebase-messaging-store",kE=null;function wC(){return kE||(kE=yz(Aie,Rie,function(e){switch(e.oldVersion){case 0:e.createObjectStore(bu)}})),kE}function ry(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return t=bC(e),[4,wC()];case 1:return n=s.sent(),[4,n.transaction(bu).objectStore(bu).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,Cie(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,_C(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function _C(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return n=bC(e),[4,wC()];case 1:return r=s.sent(),i=r.transaction(bu,"readwrite"),[4,i.objectStore(bu).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function Pie(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return t=bC(e),[4,wC()];case 1:return n=i.sent(),r=n.transaction(bu,"readwrite"),[4,r.objectStore(bu).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function bC(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return[4,SC(e)];case 1:n=h.sent(),r=Ez(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(EC(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-subscribe-no-token");return[2,s.token]}})})}function Oie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return[4,SC(e)];case 1:n=h.sent(),r=Ez(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(EC(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-update-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-update-no-token");return[2,s.token]}})})}function bz(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,SC(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(EC(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Ve.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Ve.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function EC(e){var t=e.projectId;return yie+"/projects/"+t+"/registrations"}function SC(e){var t=e.appConfig,n=e.installations;return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function Ez(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==ny&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Die=7*24*60*60*1e3;function KT(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,Mie(t,n)];case 1:return r=l.sent(),[4,ry(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ko(r.getKey("auth")),p256dh:ko(r.getKey("p256dh"))},i?[3,3]:[2,DL(e,s)];case 3:if(jie(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,bz(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,DL(e,s)];case 8:return Date.now()>=i.createTime+Die?[2,Lie({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function jh(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,ry(e)];case 1:return n=i.sent(),n?[4,bz(e,n.token)]:[3,4];case 2:return i.sent(),[4,Pie(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Lie(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Oie(t,e)];case 1:return r=a.sent(),i=ae(ae({},e),{token:r,createTime:Date.now()}),[4,_C(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,jh(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function DL(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,Nie(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,_C(e,r)];case 2:return i.sent(),[2,r.token]}})})}function Mie(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Iie(t)})]}})})}function jie(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(e){var t={from:e.from,collapseKey:e.collapse_key};return Uie(t,e),$ie(t,e),Vie(t,e),t}function Uie(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function $ie(e,t){t.data&&(e.data=t.data)}function Vie(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(e){return typeof e=="object"&&!!e&&_z in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bie=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Ve.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,ry(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:ny,i.label=2;case 2:return[2,KT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return jh(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Ve.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Ve.create("only-available-in-window")},e.prototype.onMessage=function(){throw Ve.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Ve.create("only-available-in-window")},e.prototype.onPush=function(t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=qie(t),n?[4,Tz()]:(console.debug(wie+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Hie(r)?[2,Kie(r,n)]:(i=!1,n.notification?[4,Gie(zie(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=Fie(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,LL(Sie)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s;return P(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,jh(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,ry(this.firebaseDependencies)];case 3:return s=a.sent(),[4,jh(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,KT(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:ny)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[wz],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=Qie(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,Wie(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,LL(Tie)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=_u.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function zie(e){var t,n=ae({},e.notification);return n.data=(t={},t[wz]=e,t),n}function qie(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function Wie(e){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,Tz()];case 1:t=c.sent();try{for(n=nn(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Hie(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function Kie(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=_u.PUSH_RECEIVED;try{for(var i=nn(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Tz(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Gie(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function Qie(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(Sz(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yie=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===_u.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Jie(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,Sz(r)&&r[_ie]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,KT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ny),[2]})})},e.prototype.updateSwReg=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(gie,{scope:mie})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Ve.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,jh(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Ve.create("permission-blocked"):Ve.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");if(this.swRegistration)throw Ve.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Ve.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Ve.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=Xie(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[_z],message_name:n[Eie],message_time:n[bie],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function Xie(e){switch(e){case _u.NOTIFICATION_CLICKED:return"notification_open";case _u.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jie(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(e){var t,n;if(!e||!e.options)throw AE("App Configuration Object");if(!e.name)throw AE("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=nn(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw AE(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function AE(e){return Ve.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eoe="messaging";function toe(e){var t=e.getProvider("app").getImmediate(),n=Zie(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!Iz())throw Ve.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Bie(s):new Yie(s)}var noe={isSupported:Iz};X.INTERNAL.registerComponent(new Mn(eoe,toe,"PUBLIC").setServiceProps(noe));function Iz(){return self&&"ServiceWorkerGlobalScope"in self?ioe():roe()}function roe(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ioe(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xz="firebasestorage.googleapis.com",Cz="storageBucket",ooe=2*60*1e3,soe=10*60*1e3,Ot=function(e){Q(t,e);function t(n,r){var i=e.call(this,RE(n),"Firebase Storage: "+r+" ("+RE(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return RE(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Vc);function RE(e){return"storage/"+e}function TC(){var e="An unknown error occurred, please check the error payload for server response.";return new Ot("unknown",e)}function aoe(e){return new Ot("object-not-found","Object '"+e+"' does not exist.")}function uoe(e){return new Ot("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function loe(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot("unauthenticated",e)}function coe(){return new Ot("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function foe(e){return new Ot("unauthorized","User does not have permission to access '"+e+"'.")}function hoe(){return new Ot("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function kz(){return new Ot("canceled","User canceled the upload/download.")}function doe(e){return new Ot("invalid-url","Invalid URL '"+e+"'.")}function poe(e){return new Ot("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function voe(){return new Ot("no-default-bucket","No default bucket found. Did you set the '"+Cz+"' property when initializing the app?")}function Az(){return new Ot("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function goe(){return new Ot("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function moe(){return new Ot("no-download-url","The given file does not have any download URLs.")}function nu(e){return new Ot("invalid-argument",e)}function Rz(){return new Ot("app-deleted","The Firebase app was deleted.")}function Pz(e){return new Ot("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fh(e,t){return new Ot("invalid-format","String does not match format '"+e+"': "+t)}function ig(e){throw new Ot("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},PE=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Nz(e,t){switch(e){case ni.RAW:return new PE(Oz(t));case ni.BASE64:case ni.BASE64URL:return new PE(Dz(e,t));case ni.DATA_URL:return new PE(_oe(t),boe(t))}throw TC()}function Oz(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function woe(e){var t;try{t=decodeURIComponent(e)}catch{throw Fh(ni.DATA_URL,"Malformed data URL.")}return Oz(t)}function Dz(e,t){switch(e){case ni.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Fh(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case ni.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Fh(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=yoe(t)}catch{throw Fh(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var Lz=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Fh(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Eoe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function _oe(e){var t=new Lz(e);return t.base64?Dz(ni.BASE64,t.rest):woe(t.rest)}function boe(e){var t=new Lz(e);return t.contentType}function Eoe(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Soe={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NE(e){switch(e){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;case"error":return Gn.ERROR;default:return Gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ru||(ru={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Toe=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ru.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ru.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ru.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw ig("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ig("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ig("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Ioe(){return new Toe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xoe=function(){function e(){}return e.prototype.createConnection=function(){return Ioe()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw poe(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(Y){Y.path_=decodeURIComponent(Y.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},E=n===xz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",S=new RegExp("^https?://"+E+"/"+i+"/"+x,"i"),T={bucket:1,path:2},C=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:S,indices:T,postModify:h}],k=0;k<C.length;k++){var D=C[k],O=D.regex.exec(t);if(O){var j=O[D.indices.bucket],L=O[D.indices.path];L||(L=""),r=new e(j,L),D.postModify(r);break}}if(r==null)throw doe(t);return r},e}(),Coe=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];c||(c=!0,t.apply(null,w))}function d(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var E=[],x=1;x<arguments.length;x++)E[x-1]=arguments[x];if(!c){if(w){h.call.apply(h,me([null,w],E));return}var S=l()||s;if(S){h.call.apply(h,me([null,w],E));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}}var g=!1;function y(w){g||(g=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function Aoe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Roe(e){return e!==void 0}function Poe(e){return typeof e=="function"}function Noe(e){return typeof e=="object"&&!Array.isArray(e)}function D0(e){return typeof e=="string"||e instanceof String}function ML(e){return IC()&&e instanceof Blob}function IC(){return typeof Blob<"u"}function GT(e,t,n,r){if(r<t)throw nu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw nu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function Mz(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ooe=function(){function e(t,n,r,i,s,a,l,c,h,d,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new og(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,d=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===ru.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var d=a.getErrorCode()===ru.ABORT;i(!1,new og(!1,null,d));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new og(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());Roe(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var d=TC();d.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,d)):l(d)}else if(s.canceled){var d=t.appDelete_?Rz():kz();l(d)}else{var d=hoe();l(d)}}this.canceled_?r(!1,new og(!1,null,!0)):this.backoffId_=koe(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Aoe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),og=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Doe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Loe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Moe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function joe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Foe(e,t,n,r,i,s){var a=Mz(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return Moe(c,t),Doe(c,n),Loe(c,s),joe(c,r),new Ooe(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Uoe();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(IC())return new Blob(e);throw new Ot("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Voe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xC=function(){function e(t,n){var r=0,i="";ML(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ML(this.data_)){var r=this.data_,i=Voe(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(IC()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e($oe.apply(null,r))}else{var i=t.map(function(c){return D0(c)?Nz(ni.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(e){var t;try{t=JSON.parse(e)}catch{return null}return Noe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function zoe(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function jz(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(e,t){return t}var Bn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||qoe}return e}(),sg=null;function Woe(e){return!D0(e)||e.length<2?e:jz(e)}function L0(){if(sg)return sg;var e=[];e.push(new Bn("bucket")),e.push(new Bn("generation")),e.push(new Bn("metageneration")),e.push(new Bn("name","fullPath",!0));function t(s,a){return Woe(a)}var n=new Bn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Bn("size");return i.xform=r,e.push(i),e.push(new Bn("timeCreated")),e.push(new Bn("updated")),e.push(new Bn("md5Hash",null,!0)),e.push(new Bn("cacheControl",null,!0)),e.push(new Bn("contentDisposition",null,!0)),e.push(new Bn("contentEncoding",null,!0)),e.push(new Bn("contentLanguage",null,!0)),e.push(new Bn("contentType",null,!0)),e.push(new Bn("metadata","customMetadata",!0)),sg=e,sg}function Hoe(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new ri(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Koe(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return Hoe(r,e),r}function Fz(e,t,n){var r=CC(t);if(r===null)return null;var i=r;return Koe(e,i,n)}function Goe(e,t,n){var r=CC(t);if(r===null||!D0(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=ia(v,n),y=Mz({alt:"media",token:c});return g+y});return l[0]}function kC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL="prefixes",FL="items";function Qoe(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[jL])for(var i=0,s=n[jL];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new ri(t,l));r.prefixes.push(c)}if(n[FL])for(var h=0,d=n[FL];h<d.length;h++){var v=d[h],c=e._makeStorageReference(new ri(t,v.name));r.items.push(c)}return r}function Yoe(e,t,n){var r=CC(n);if(r===null)return null;var i=r;return Qoe(e,t,i)}var Xo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){if(!e)throw TC()}function M0(e,t){function n(r,i){var s=Fz(e,i,t);return ao(s!==null),s}return n}function Xoe(e,t){function n(r,i){var s=Yoe(e,t,i);return ao(s!==null),s}return n}function Joe(e,t){function n(r,i){var s=Fz(e,i,t);return ao(s!==null),Goe(s,i,e.host)}return n}function of(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=coe():i=loe():n.getStatus()===402?i=uoe(e.bucket):n.getStatus()===403?i=foe(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function j0(e){var t=of(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=aoe(e.path)),s.serverResponse=i.serverResponse,s}return n}function Uz(e,t,n){var r=t.fullServerUrl(),i=ia(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Xo(i,s,M0(e,n),a);return l.errorHandler=j0(t),l}function Zoe(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=ia(a,e.host),c="GET",h=e.maxOperationRetryTime,d=new Xo(l,c,Xoe(e,t.bucket),h);return d.urlParams=s,d.errorHandler=of(t),d}function ese(e,t,n){var r=t.fullServerUrl(),i=ia(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Xo(i,s,Joe(e,n),a);return l.errorHandler=j0(t),l}function tse(e,t,n,r){var i=t.fullServerUrl(),s=ia(i,e.host),a="PATCH",l=kC(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new Xo(s,a,M0(e,r),h);return d.headers=c,d.body=l,d.errorHandler=j0(t),d}function nse(e,t){var n=t.fullServerUrl(),r=ia(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new Xo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=j0(t),l}function rse(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function $z(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=rse(null,t)),r}function ise(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",k=0;k<2;k++)C=C+Math.random().toString().slice(2);return C}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=$z(t,r,i),d=kC(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=xC.getBlob(v,r,g);if(y===null)throw Az();var w={name:h.fullPath},E=ia(s,e.host),x="POST",S=e.maxUploadRetryTime,T=new Xo(E,x,M0(e,n),S);return T.urlParams=w,T.headers=a,T.body=y.uploadData(),T.errorHandler=of(t),T}var iy=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function AC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ao(!1)}var r=t||["active"];return ao(!!n&&r.indexOf(n)!==-1),n}function ose(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=$z(t,r,i),l={name:a.fullPath},c=ia(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=kC(a,n),g=e.maxUploadRetryTime;function y(E){AC(E);var x;try{x=E.getResponseHeader("X-Goog-Upload-URL")}catch{ao(!1)}return ao(D0(x)),x}var w=new Xo(c,h,y,g);return w.urlParams=l,w.headers=d,w.body=v,w.errorHandler=of(t),w}function sse(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=AC(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ao(!1)}v||ao(!1);var g=Number(v);return ao(!isNaN(g)),new iy(g,r.size(),d==="final")}var a="POST",l=e.maxUploadRetryTime,c=new Xo(n,a,s,l);return c.headers=i,c.errorHandler=of(t),c}var UL=256*1024;function ase(e,t,n,r,i,s,a,l){var c=new iy(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw goe();var h=c.total-c.current,d=h;i>0&&(d=Math.min(d,i));var v=c.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},E=r.slice(v,g);if(E===null)throw Az();function x(k,D){var O=AC(k,["active","final"]),j=c.current+d,L=r.size(),Y;return O==="final"?Y=M0(t,s)(k,D):Y=null,new iy(j,L,O==="final",Y)}var S="POST",T=t.maxUploadRetryTime,C=new Xo(n,S,x,T);return C.headers=w,C.body=E.uploadData(),C.progressCallback=l||null,C.errorHandler=of(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var use=function(){function e(t,n,r){var i=Poe(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vz=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=L0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=ose(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=sse(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=UL*this._chunkMultiplier,r=new iy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=ase(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=UL*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=Uz(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=ise(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=kz(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=NE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new use(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(NE(this._state)){case Gn.SUCCESS:vl(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:var n=this._reject;vl(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=NE(this._state);switch(n){case Gn.RUNNING:case Gn.PAUSED:t.next&&vl(t.next.bind(t,this.snapshot))();break;case Gn.SUCCESS:t.complete&&vl(t.complete.bind(t))();break;case Gn.CANCELED:case Gn.ERROR:t.error&&vl(t.error.bind(t,this._error))();break;default:t.error&&vl(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F0=function(){function e(t,n){this._service=t,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ri(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return jz(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Boe(this._location.path);if(t===null)return null;var n=new ri(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Pz(t)},e}();function lse(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Vz(e,new xC(t),n)}function cse(e){var t={prefixes:[],items:[]};return Bz(e,t).then(function(){return t})}function Bz(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,zz(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,Bz(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function zz(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&GT("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Zoe(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function fse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Uz(e.storage,e._location,L0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function hse(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=tse(e.storage,e._location,t,L0()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function dse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=ese(e.storage,e._location,L0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw moe();return r})]}})})}function pse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=nse(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function qz(e,t){var n=zoe(e._location.path,t),r=new ri(e._location.bucket,n);return new F0(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(e){return/^[A-Za-z]+:\/\//.test(e)}function vse(e,t){return new F0(e,t)}function Wz(e,t){if(e instanceof U0){var n=e;if(n._bucket==null)throw voe();var r=new F0(n,n._bucket);return t!=null?Wz(r,t):r}else if(t!==void 0){if(t.includes(".."))throw nu('`path` param cannot contain ".."');return qz(e,t)}else return e}function gse(e,t){if(t&&QT(t)){if(e instanceof U0)return vse(e,t);throw nu("To use ref(service, url), the first argument must be a Storage instance.")}else return Wz(e,t)}function $L(e,t){var n=t==null?void 0:t[Cz];return n==null?null:ri.makeFromBucketSpec(n,e)}function mse(e,t,n){e.host="http://"+t+":"+n}var U0=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=xz,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ooe,this._maxUploadRetryTime=soe,this._requests=new Set,s!=null?this._bucket=ri.makeFromBucketSpec(s,this._host):this._bucket=$L(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,t):this._bucket=$L(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){GT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){GT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new F0(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new Coe(Rz());var s=Foe(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(e,t,n){return e=ve(e),lse(e,t,n)}function wse(e){return e=ve(e),fse(e)}function _se(e,t){return e=ve(e),hse(e,t)}function bse(e,t){return e=ve(e),zz(e,t)}function Ese(e){return e=ve(e),cse(e)}function Sse(e){return e=ve(e),dse(e)}function Tse(e){return e=ve(e),pse(e)}function VL(e,t){return e=ve(e),gse(e,t)}function Ise(e,t){return qz(e,t)}function xse(e,t,n){mse(e,t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BL=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ag(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new ag(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new ag(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new ag(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),zL=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Od(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Od(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Ise(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new BL(yse(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=ni.RAW),this._throwIfRoot("putString");var i=Nz(n,t),s=ae({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new BL(new Vz(this._delegate,new xC(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Ese(this._delegate).then(function(n){return new zL(n,t.storage)})},e.prototype.list=function(t){var n=this;return bse(this._delegate,t||void 0).then(function(r){return new zL(r,n.storage)})},e.prototype.getMetadata=function(){return wse(this._delegate)},e.prototype.updateMetadata=function(t){return _se(this._delegate,t)},e.prototype.getDownloadURL=function(){return Sse(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Tse(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Pz(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cse=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(QT(t))throw nu("ref() expected a child path but got a URL, use refFromURL instead.");return new Od(VL(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!QT(t))throw nu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ri.makeFromUrl(t,this._delegate.host)}catch{throw nu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Od(VL(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){xse(this._delegate,t,n)},e}(),kse="@firebase/storage",Ase="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rse="storage";function Pse(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new Cse(r,new U0(r,i,s,new xoe,n,X.SDK_VERSION));return a}function Nse(e){var t={TaskState:Gn,TaskEvent:Soe,StringFormat:ni,Storage:U0,Reference:Od};e.INTERNAL.registerComponent(new Mn(Rse,Pse,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(kse,Ase)}Nse(X);var Ose="@firebase/performance",Hz="0.4.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz=Hz,Dse="FB-PERF-TRACE-START",Lse="FB-PERF-TRACE-STOP",YT="FB-PERF-TRACE-MEASURE",Gz="_wt_",Qz="_fp",Yz="_fcp",Xz="_fid",Jz="@firebase/performance/config",Zz="@firebase/performance/configexpire",Mse="performance",e3="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,jse=(an={},an["trace started"]="Trace {$traceName} was started before.",an["trace stopped"]="Trace {$traceName} is not running.",an["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",an["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",an["no window"]="Window is not available.",an["no app id"]="App id is not available.",an["no project id"]="Project id is not available.",an["no api key"]="Api key is not available.",an["invalid cc log"]="Attempted to queue invalid cc event",an["FB not default"]="Performance can only start when Firebase app instance is the default one.",an["RC response not ok"]="RC response is not ok",an["invalid attribute name"]="Attribute name {$attributeName} is invalid.",an["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",an["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",an["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",an),kn=new Go(Mse,e3,jse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=new xu(e3);Ho.logLevel=be.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OE,t3,On=function(){function e(t){if(this.window=t,!t)throw kn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Ho.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Kd()?!0:(Ho.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return OE===void 0&&(OE=new e(t3)),OE},e}();function Fse(e){t3=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e,t){var n=e.length-t.length;if(n<0||n>1)throw kn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DE,Bt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=qL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=qL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw kn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw kn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw kn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return DE===void 0&&(DE=new e),DE},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n3;function Use(){var e=Bt.getInstance().installationsService.getId();return e.then(function(t){n3=t}),e}function RC(){return n3}function $se(){var e=Bt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Ql||(Ql={}));var Vse=["firebase_","google_","ga_"],Bse=new RegExp("^[a-zA-Z]\\w*$"),zse=40,qse=100;function Wse(){var e=On.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function r3(){var e=On.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Ql.VISIBLE;case"hidden":return Ql.HIDDEN;default:return Ql.UNKNOWN}}function Hse(){var e=On.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Kse(e){if(e.length===0||e.length>zse)return!1;var t=Vse.some(function(n){return e.startsWith(n)});return!t&&!!e.match(Bse)}function Gse(e){return e.length!==0&&e.length<=qse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qse="0.0.1",Yse={loggingEnabled:!0},Xse="FIREBASE_INSTALLATIONS_AUTH";function Jse(e){var t=Zse();return t?(WL(t),Promise.resolve()):nae(e).then(WL).then(function(n){return eae(n)},function(){})}function Zse(){var e=On.getInstance().localStorage;if(e){var t=e.getItem(Zz);if(!(!t||!rae(t))){var n=e.getItem(Jz);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function eae(e){var t=On.getInstance().localStorage;!e||!t||(t.setItem(Jz,JSON.stringify(e)),t.setItem(Zz,String(Date.now()+Bt.getInstance().configTimeToLive*60*60*1e3)))}var tae="Could not fetch config, will use default configs";function nae(e){return $se().then(function(t){var n=Bt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Bt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Xse+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Bt.getInstance().getAppId(),app_version:Kz,sdk_version:Qse})});return fetch(i).then(function(s){if(s.ok)return s.json();throw kn.create("RC response not ok")})}).catch(function(){Ho.info(tae)})}function WL(e){if(!e)return e;var t=Bt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=Yse.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=HL(t.tracesSamplingRate),t.logNetworkAfterSampling=HL(t.networkRequestsSamplingRate),e}function rae(e){return Number(e)>Date.now()}function HL(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PC=1,LE;function i3(){return PC=2,LE=LE||oae(),LE}function iae(){return PC===3}function oae(){return sae().then(function(){return Use()}).then(function(e){return Jse(e)}).then(function(){return KL()},function(){return KL()})}function sae(){var e=On.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function KL(){PC=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NC=10*1e3,aae=5.5*1e3,o3=3,uae=1e3,oy=o3,Us=[],GL=!1;function lae(){GL||($0(aae),GL=!0)}function $0(e){setTimeout(function(){if(oy!==0){if(!Us.length)return $0(NC);cae()}},e)}function cae(){var e=Us.splice(0,uae),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Bt.getInstance().logSource,log_event:t};fae(n,e).catch(function(){Us=me(me([],e),Us),oy--,Ho.info("Tries left: "+oy+"."),$0(NC)})}function fae(e,t){return hae(e).then(function(n){return n.ok||Ho.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=NC;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Us=me(me([],t),Us),Ho.info("Retry transport request later.")),oy=o3,$0(i)})}function hae(e){var t=Bt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function dae(e){if(!e.eventTime||!e.message)throw kn.create("invalid cc log");Us=me(me([],Us),[e])}function pae(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);dae({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME;function s3(e,t){ME||(ME=pae(gae)),ME(e,t)}function ug(e){var t=Bt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||On.getInstance().requiredApisAvailable()&&(e.isAuto&&r3()!==Ql.VISIBLE||(iae()?jE(e):i3().then(function(){return jE(e)},function(){return jE(e)})))}function jE(e){if(RC()){var t=Bt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return s3(e,1)},0)}}function vae(e){var t=Bt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return s3(e,0)},0)}}function gae(e,t){return t===0?mae(e):yae(e)}function mae(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:a3(),network_request_metric:t};return JSON.stringify(n)}function yae(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:a3(),trace_metric:t};return JSON.stringify(r)}function a3(){return{google_app_id:Bt.getInstance().getAppId(),app_instance_id:RC(),web_app_info:{sdk_version:Kz,page_url:On.getInstance().getUrl(),service_worker_status:Wse(),visibility_state:r3(),effective_connection_type:Hse()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wae=100,_ae="_",bae=[Qz,Yz,Xz];function Eae(e,t){return e.length===0||e.length>wae?!1:t&&t.startsWith(Gz)&&bae.indexOf(e)>-1||!e.startsWith(_ae)}function Sae(e){var t=Math.floor(e);return t<e&&Ho.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uh=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=On.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Dse+"-"+this.randomId+"-"+this.name,this.traceStopMark=Lse+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||YT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw kn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw kn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ug(this)},e.prototype.record=function(t,n,r){if(t<=0)throw kn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw kn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ae({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}ug(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Eae(t,this.name))this.counters[t]=Sae(n);else throw kn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=Kse(t),i=Gse(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw kn.create("invalid attribute name",{attributeName:t});if(!i)throw kn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ae({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=On.getInstance().getUrl();if(i){var s=new e(Gz+i,!0),a=Math.floor(On.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(Qz,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===c});d&&d.startTime&&s.putMetric(Yz,Math.floor(d.startTime*1e3)),r&&s.putMetric(Xz,Math.floor(r*1e3))}ug(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);ug(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=On.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};vae(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tae=5e3;function YL(){RC()&&(setTimeout(function(){return xae()},0),setTimeout(function(){return Iae()},0),setTimeout(function(){return Cae()},0))}function Iae(){for(var e=On.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];QL(i)}e.setupObserver("resource",QL)}function xae(){var e=On.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Uh.createOobTrace(t,n),r=void 0},Tae);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Uh.createOobTrace(t,n,i))})}else Uh.createOobTrace(t,n)}function Cae(){for(var e=On.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];XL(i)}e.setupObserver("measure",XL)}function XL(e){var t=e.name;t.substring(0,YT.length)!==YT&&Uh.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kae=function(){function e(t){this.app=t,On.getInstance().requiredApisAvailable()&&fI().then(function(n){n&&(lae(),i3().then(YL,YL))}).catch(function(n){Ho.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Uh(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Bt.getInstance().instrumentationEnabled},set:function(t){Bt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Bt.getInstance().dataCollectionEnabled},set:function(t){Bt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aae="[DEFAULT]";function Rae(e){var t=function(n,r){if(n.name!==Aae)throw kn.create("FB not default");if(typeof window>"u")throw kn.create("no window");return Fse(window),Bt.getInstance().firebaseAppInstance=n,Bt.getInstance().installationsService=r,new kae(n)};e.INTERNAL.registerComponent(new Mn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(Ose,Hz)}Rae(X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pae="firebase_id",Nae="origin",Oae=60*1e3,Dae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u3="https://www.googletagmanager.com/gtag/js",Dn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Dn||(Dn={}));var XT;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(XT||(XT={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a;return P(this,function(l){switch(l.label){case 0:return i&&i.global?(e(Dn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ae(ae({},r),{send_to:s}),e(Dn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Mae(e,t,n,r){return N(this,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Dn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function jae(e,t,n,r){return N(this,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Dn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Fae(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(Dn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(Dn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Uae(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=new xu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(e,t){var n=document.createElement("script");n.src=u3+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Vae(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Bae(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h;return P(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=d.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),hn.error(h),[3,8];case 8:return e(Dn.CONFIG,i,s),[2]}})})}function zae(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(E){var x=l.find(function(T){return T.measurementId===E}),S=x&&t[x.appId];if(S)s.push(S);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=c(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(Dn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),hn.error(y),[3,5];case 5:return[2]}})})}function qae(e,t,n,r){function i(s,a,l){return N(this,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Dn.EVENT?[3,2]:[4,zae(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==Dn.CONFIG?[3,4]:[4,Bae(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(Dn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),hn.error(c),[3,7];case 7:return[2]}})})}return i}function Wae(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=qae(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Hae(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(u3))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si,Kae=(Si={},Si["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Si["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Si["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Si["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Si["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Si["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Si["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Si),ai=new Go("analytics","Analytics",Kae);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gae=30,Qae=1e3,Yae=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Qae),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),l3=new Yae;function Xae(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Jae(e){var t;return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Xae(r)},s=Dae.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw ai.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Zae(e,t,n){return t===void 0&&(t=l3),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return P(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw ai.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw ai.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new nue,setTimeout(function(){return N(h,void 0,void 0,function(){return P(this,function(v){return c.abort(),[2]})})},Oae),[2,c3({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function c3(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=l3),N(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,eue(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return hn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Jae(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!tue(d)){if(r.deleteThrottleMetadata(a),l)return hn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:l}];throw d}return v=Number(d.customData.httpStatus)===503?XS(s,r.intervalMillis,Gae):XS(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),hn.debug("Calling attemptFetch again in "+v+" millis"),[2,c3(e,g,n,r)];case 7:return[2]}})})}function eue(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ai.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function tue(e){if(!(e instanceof Vc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var nue=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return Kd()?[3,1]:(hn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,fI()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),hn.warn(ai.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function iue(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return a=Zae(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&hn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return hn.error(w)}),t.push(a),l=rue().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],d=c[1],Hae()||$ae(s,h.measurementId),i("js",new Date),v=(g={},g[Nae]="firebase",g.update=!0,g),d!=null&&(v[Pae]=d),i(Dn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To={},JL=[],ZL={},jg="dataLayer",f3="gtag",eM,nh,JT=!1;function oue(e){if(JT)throw ai.create("already-initialized");e.dataLayerName&&(jg=e.dataLayerName),e.gtagName&&(f3=e.gtagName)}function sue(){var e=[];if(cI()&&e.push("This is a browser extension environment."),PU()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=ai.create("invalid-analytics-context",{errorInfo:t});hn.warn(n.message)}}function aue(e,t){sue();var n=e.options.appId;if(!n)throw ai.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)hn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw ai.create("no-api-key");if(To[n]!=null)throw ai.create("already-exists",{id:n});if(!JT){Vae(jg);var r=Wae(To,JL,ZL,jg,f3),i=r.wrappedGtag,s=r.gtagCore;nh=i,eM=s,JT=!0}To[n]=iue(e,JL,ZL,t,eM,jg);var a={app:e,logEvent:function(l,c,h){Lae(nh,To[n],l,c,h).catch(function(d){return hn.error(d)})},setCurrentScreen:function(l,c){Mae(nh,To[n],l,c).catch(function(h){return hn.error(h)})},setUserId:function(l,c){jae(nh,To[n],l,c).catch(function(h){return hn.error(h)})},setUserProperties:function(l,c){Fae(nh,To[n],l,c).catch(function(h){return hn.error(h)})},setAnalyticsCollectionEnabled:function(l){Uae(To[n],l).catch(function(c){return hn.error(c)})},INTERNAL:{delete:function(){return delete To[n],Promise.resolve()}}};return a}var uue="@firebase/analytics",lue="0.6.17",tM="analytics";function cue(e){e.INTERNAL.registerComponent(new Mn(tM,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return aue(r,i)},"PUBLIC").setServiceProps({settings:oue,EventName:XT,isSupported:fue})),e.INTERNAL.registerComponent(new Mn("analytics-internal",t,"PRIVATE")),e.registerVersion(uue,lue);function t(n){try{var r=n.getProvider(tM).getImmediate();return{logEvent:r.logEvent}}catch(i){throw ai.create("interop-component-reg-failed",{reason:i})}}}cue(X);function fue(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:if(cI())return[2,!1];if(!PU())return[2,!1];if(!Kd())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,fI()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hue=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,due=(zn={},zn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",zn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",zn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",zn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",zn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",zn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",zn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",zn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",zn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",zn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',zn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',zn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",zn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",zn),ii=new Go("remoteconfig","Remote Config",due);function pue(e,t){return e instanceof Vc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gue=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,E,x,S,T,C,k;return P(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:vue()},h={method:"POST",headers:l,body:JSON.stringify(c)},d=fetch(a,h),v=new Promise(function(O,j){t.signal.addEventListener(function(){var L=new Error("The operation was aborted.");L.name="AbortError",j(L)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return D.sent(),[4,d];case 4:return g=D.sent(),[3,6];case 5:throw y=D.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),ii.create(w,{originalErrorMessage:y.message});case 6:if(E=g.status,x=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];C=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,g.json()];case 8:return C=D.sent(),[3,10];case 9:throw k=D.sent(),ii.create("fetch-client-parse",{originalErrorMessage:k.message});case 10:S=C.entries,T=C.state,D.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?E=500:T==="NO_CHANGE"?E=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(S={}),E!==304&&E!==200)throw ii.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:x,config:S}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mue=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yue=!1,wue="",nM=0,_ue=["1","true","t","yes","y","on"],FE=function(){function e(t,n){n===void 0&&(n=wue),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?yue:_ue.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return nM;var t=Number(this._value);return isNaN(t)&&(t=nM),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bue=60*1e3,Eue=12*60*60*1e3,Sue=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:bue,minimumFetchIntervalMillis:Eue},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=be.DEBUG;break;case"silent":this._logger.logLevel=be.SILENT;break;default:this._logger.logLevel=be.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return N(this,void 0,void 0,function(){var t,n,r,i=this;return P(this,function(s){switch(s.label){case 0:t=new mue,setTimeout(function(){return N(i,void 0,void 0,function(){return P(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=pue(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Tue(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new FE("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new FE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new FE("static"))},e}();function Tue(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ae(ae({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(e,t){var n=e.target.error||void 0;return ii.create(t,{originalErrorMessage:n&&n.message})}var Na="app_namespace_store",Iue="firebase_remote_config",xue=1;function Cue(){return new Promise(function(e,t){var n=indexedDB.open(Iue,xue);n.onerror=function(r){t(Fg(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Na,{keyPath:"compositeKey"})}}})}var kue=function(){function e(t,n,r,i){i===void 0&&(i=Cue()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Na],"readonly"),c=l.objectStore(Na),h=r.createCompositeKey(t);try{var d=c.get(h);d.onerror=function(v){a(Fg(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(ii.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return N(this,void 0,void 0,function(){var r,i=this;return P(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Na],"readwrite"),h=c.objectStore(Na),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){l(Fg(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){l(ii.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Na],"readwrite"),c=l.objectStore(Na),h=r.createCompositeKey(t);try{var d=c.delete(h);d.onerror=function(v){a(Fg(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(ii.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aue=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ii.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Pue(e){if(!(e instanceof Vc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Nue=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,Rue(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Pue(a))throw a;return l={throttleEndTimeMillis:Date.now()+XS(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),rM="@firebase/remote-config",Oue="0.1.42";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(e){e.INTERNAL.registerComponent(new Mn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(rM,Oue);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw ii.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,d=l.appId;if(!c)throw ii.create("registration-project-id");if(!h)throw ii.create("registration-api-key");if(!d)throw ii.create("registration-app-id");i=i||"firebase";var v=new kue(d,s.name,i),g=new Aue(v),y=new xu(rM);y.logLevel=be.ERROR;var w=new gue(a,e.SDK_VERSION,i,c,h,d),E=new Nue(w,v),x=new hue(E,v,g,y),S=new Sue(s,x,g,v,y);return S.ensureInitialized(),S}}Due(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti,Lue=(Ti={},Ti["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Ti["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Ti["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ti["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ti["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ti["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ti["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ti["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ti["recaptcha-error"]="ReCAPTCHA error.",Ti),jr=new Go("appCheck","AppCheck",Lue);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h3=new Map,Mue={activated:!1,tokenObservers:[]},jue={enabled:!1};function tr(e){return h3.get(e)||Mue}function uo(e,t){h3.set(e,t)}function OC(){return jue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d3="https://content-firebaseappcheck.googleapis.com/v1beta",Fue="exchangeRecaptchaToken",Uue="exchangeDebugToken",iM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ue=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Zt,[4,Vue(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Zt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Vue(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return self.grecaptcha}function p3(e){if(!tr(e).activated)throw jr.create("use-before-activation",{appName:e.name})}function Bue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function zue(e){return uc.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(e,t){var n=e.url,r=e.body;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),jr.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw jr.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw d=w.sent(),jr.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+g,issuedAtTimeMillis:y}]}})})}function que(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:d3+"/projects/"+r+"/apps/"+i+":"+Fue+"?key="+s,body:{recaptcha_token:t}}}function Wue(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:d3+"/projects/"+r+"/apps/"+i+":"+Uue+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hue="firebase-app-check-database",Kue=1,Dd="firebase-app-check-store",g3="debug-token",lg=null;function m3(){return lg||(lg=new Promise(function(e,t){try{var n=indexedDB.open(Hue,Kue);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dd,{keyPath:"compositeKey"})}}}catch(r){t(jr.create("storage-open",{originalErrorMessage:r.message}))}}),lg)}function Gue(e){return w3(_3(e))}function Que(e,t){return y3(_3(e),t)}function Yue(e){return y3(g3,e)}function Xue(){return w3(g3)}function y3(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,m3()];case 1:return n=a.sent(),r=n.transaction(Dd,"readwrite"),i=r.objectStore(Dd),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var d;c(jr.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function w3(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,m3()];case 1:return t=s.sent(),n=t.transaction(Dd,"readonly"),r=n.objectStore(Dd),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(jr.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function _3(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V0=new xu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:if(!Kd())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Gue(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),V0.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function sM(e,t){return Kd()?Que(e,t).catch(function(n){V0.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Zue(){return N(this,void 0,void 0,function(){var e,t;return P(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Xue()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=Bue(),Yue(t).catch(function(r){return V0.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(){var e=OC();return e.enabled}function tle(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){if(e=OC(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function nle(){var e=n9();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=OC();t.enabled=!0;var n=new Zt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Zue())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rle={error:"UNKNOWN_ERROR"};function sy(e,t,n){return n===void 0&&(n=!1),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return p3(e),r=tr(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&Ld(a)&&(i=a,uo(e,ae(ae({},r),{token:i})),aM(e,{token:i.token})),y.label=2;case 2:return!n&&i&&Ld(i)?[2,{token:i.token}]:ele()?(c=v3,h=Wue,d=[e],[4,tle()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,d.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,sM(e,l)];case 5:return y.sent(),uo(e,ae(ae({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),V0.error(v),s=v,[3,9];case 9:return i?[3,10]:(g=ole(s),[3,12]);case 10:return g={token:i.token},uo(e,ae(ae({},r),{token:i})),[4,sM(e,i)];case 11:y.sent(),y.label=12;case 12:return aM(e,g),[2,g]}})})}function b3(e,t,n,r,i){var s=tr(e),a={next:r,error:i,type:n},l=ae(ae({},s),{tokenObservers:me(me([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=ile(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&Ld(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(d){d&&Ld(d)&&r({token:d.token})}).catch(function(){});uo(e,l)}function DC(e,t){var n=tr(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),uo(e,ae(ae({},n),{tokenObservers:r}))}function ile(e,t){var n=this;return new $ue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=tr(e),r.token?[3,2]:[4,sy(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,sy(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=tr(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},iM.RETRIAL_MIN_WAIT,iM.RETRIAL_MAX_WAIT)}function aM(e,t){for(var n=tr(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function Ld(e){return e.expireTimeMillis-Date.now()>0}function ole(e){return{token:zue(rle),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sle="https://www.google.com/recaptcha/api.js";function ale(e,t){var n=tr(e),r=new Zt;uo(e,ae(ae({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=oM();return a?a.ready(function(){uM(e,t,a,i),r.resolve(a)}):lle(function(){var l=oM();if(!l)throw new Error("no recaptcha");l.ready(function(){uM(e,t,l,i),r.resolve(l)})}),r.promise}function ule(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return p3(e),t=tr(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=tr(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function uM(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=tr(e);uo(e,ae(ae({},s),{reCAPTCHAState:ae(ae({},s.reCAPTCHAState),{widgetId:i})}))}function lle(e){var t=document.createElement("script");t.src=""+sle,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZT=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw jr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,ule(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),jr.create("recaptcha-error");case 4:return[2,v3(que(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,ale(t,this._siteKey).catch(function(){})},e}(),e1=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:if(!this._app)throw jr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=s9(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ae(ae({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(e,t,n,r){var i=tr(e);if(i.activated)throw jr.create("already-activated",{appName:e.name});var s=ae(ae({},i),{activated:!0});s.cachedTokenPromise=Jue(e).then(function(a){return a&&Ld(a)&&uo(e,ae(ae({},tr(e)),{token:a})),a}),typeof t=="string"?s.provider=new ZT(t):t instanceof ZT||t instanceof e1?s.provider=t:s.provider=new e1({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,uo(e,s),s.provider.initialize(e,n)}function fle(e,t){var n=tr(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),uo(e,ae(ae({},n),{isTokenAutoRefreshEnabled:t}))}function hle(e,t,n){return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return[4,sy(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function dle(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),b3(e,t,"EXTERNAL",s,a),function(){return DC(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ple(e,t){return{app:e,activate:function(n,r){return cle(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return fle(e,n)},getToken:function(n){return hle(e,t,n)},onTokenChanged:function(n,r,i){return dle(e,t,n,r)},INTERNAL:{delete:function(){for(var n=tr(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];DC(e,s.next)}return Promise.resolve()}}}}function vle(e,t){return{getToken:function(n){return sy(e,t,n)},addTokenListener:function(n){return b3(e,t,"INTERNAL",n)},removeTokenListener:function(n){return DC(e,n)}}}var gle="@firebase/app-check",mle="0.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yle="appCheck",lM="app-check-internal";function wle(e){e.INTERNAL.registerComponent(new Mn(yle,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return ple(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:ZT,CustomProvider:e1}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(lM);i.initialize()})),e.INTERNAL.registerComponent(new Mn(lM,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return vle(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(gle,mle)}wle(X);nle();var _le="firebase",E3="8.9.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */X.registerVersion(_le,E3,"app");X.SDK_VERSION=E3;var ble="firebase",Ele="8.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);X.registerVersion(ble,Ele);const Sle={apiKey:"AIzaSyClvkvGNDw2YtNuVUz7lMo2bgaWs4jJ-D8",authDomain:"campushub-d98bd.firebaseapp.com",projectId:"campushub-d98bd",storageBucket:"campushub-d98bd.appspot.com",messagingSenderId:"643264223185",appId:"1:643264223185:web:f2d86a18930fdd0f3e32f0"},Tle=X.initializeApp(Sle),We=Tle.firestore(),S3=X.auth(),Ile=new X.auth.GoogleAuthProvider,Md=X.storage();var xle="firebase",T3="8.9.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */X.registerVersion(xle,T3,"app");X.SDK_VERSION=T3;const I3="SET_USER",B0="SET_LOADING_STATUS",x3="GET_ARTICLES",LC="SET_USER_DETAILS",C3="ADD_COMMENT",k3="DELETE_ARTICLE",A3="ADD_PROJECT",R3="GET_PROJECTS",Cle="ADD_PROJECT_MEMBER",P3="DELETE_PROJECT",N3="UPDATE_PROJECT",kle="SET_CERTIFICATES",O3="ADD_EVENT",D3="GET_EVENTS",L3="DELETE_EVENT",M3="UPDATE_EVENT",Sp="ERROR",j3="SET_SEARCH_QUERY",F3=e=>({type:I3,user:e}),Ale=e=>({type:x3,payload:e}),Rle=e=>({type:k3,articleId:e}),rh=e=>({type:B0,status:e}),U3=e=>({type:LC,payload:e}),Ple=(e,t)=>({type:C3,articleId:e,comment:t}),Nle=e=>({type:A3,project:e}),Ole=e=>({type:R3,projects:e}),Dle=e=>({type:P3,projectId:e}),Lle=(e,t)=>({type:N3,projectId:e,projectData:t}),Mle=e=>({type:j3,query:e});function jle(){return e=>{S3.signInWithPopup(Ile).then(t=>{const n=t.user,r=We.collection("users").doc(n.email);r.get().then(i=>{i.exists||r.set({email:n.email,username:n.displayName,profilePicture:n.photoURL})}),e(F3(t.user)),e(oa(n.email))}).catch(t=>alert(t.message))}}function Fle(){return e=>{S3.signOut().then(()=>{e(F3(null))}).catch(t=>{console.log(t.message)})}}function Ule(e){return t=>{if(t(rh(!0)),e.image!==""){const n=Md.ref(`images/${e.image.name}`).put(e.image);n.on("state_changed",r=>{const i=r.bytesTransferred/r.totalBytes*100;console.log(`progress: ${i}%`),r.state==="RUNNING"&&console.log(`Progress: ${i}%`)},r=>r.code,async()=>{const r=await n.snapshot.ref.getDownloadURL();We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:e.video,sharedImage:r,comments:[],description:e.description,likes:{count:0,users:[]}}),t(rh(!1))})}else e.video?(We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:e.video,sharedImage:"",comments:[],description:e.description,likes:{count:0,users:[]}}),t(rh(!1))):e.description?(We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:"",sharedImage:"",comments:[],description:e.description,likes:{count:0,users:[]}}),t(rh(!1))):(t(rh(!1)),console.log("Post must contain at least an image, video, or text description."))}}const $le=e=>async t=>{try{await We.collection("articles").doc(e).delete(),t(Rle(e))}catch(n){console.error("Error deleting article: ",n)}},Vle=(e,t)=>async n=>{console.log(e);const r=We.collection("articles").doc(e),i=await r.get();if(i.exists){const a=i.data().likes||{count:0,users:[]};a.users.includes(t)?console.log("User has already liked this post."):(a.count+=1,a.users.push(t),r.update({likes:a}).then(()=>{n(MC())}).catch(l=>{console.error("Error updating likes: ",l)}))}else console.log("No such document!")};function MC(){return e=>{let t;We.collection("articles").orderBy("actor.date","desc").onSnapshot(n=>{t=n.docs.map(r=>({id:r.id,...r.data()})),console.log(t),e(Ale(t))})}}const oa=e=>t=>{We.collection("users").doc(e).get().then(n=>{n.exists?t(U3(n.data())):console.error("No such document!")}).catch(n=>{console.error("Error getting document: ",n)})},Ble=(e,t,n,r)=>i=>{const s=We.collection("users").doc(e);s.get().then(a=>{if(a.exists){const l=a.data(),c={...r,profilePicture:t,username:n,skills:l.skills||[]};s.set(c,{merge:!0}).then(()=>{i(U3(c))}).catch(h=>{console.error("Error updating user details: ",h)})}else console.error("No such document!")}).catch(a=>{console.error("Error getting document: ",a)})},zle=e=>async t=>{try{let n={};await We.collection("users").doc(e).get().then(r=>{r.exists?n={...n,...r.data()}:console.error("No such document in users collection!")}),t({type:"SET_USER_DETAILS",payload:n})}catch(n){console.error("Error fetching user details:",n)}},qle=(e,t,n,r)=>async i=>{const s=We.collection("users").doc(n);try{const a=await s.get();if(a.exists){const c=a.data().username||n,h=We.collection("articles").doc(e),d=await h.get();if(d.exists){const g=d.data().comments||[];g.push({userEmail:n,username:c,comment:t,userImage:r}),await h.update({comments:g}),i(Ple(e,{userEmail:n,username:c,comment:t,userImage:r}))}else console.log("No such document!")}else console.log("User does not exist!")}catch(a){console.error("Error fetching user details or adding comment: ",a)}},Wle=e=>async t=>{const n=We.collection("projects").doc();n.set(e).then(()=>{t(Nle({id:n.id,...e}))}).catch(r=>{console.error("Error adding project: ",r)})},$3=()=>e=>{We.collection("projects").get().then(t=>{const n=t.docs.map(r=>({id:r.id,...r.data()}));e(Ole(n))}).catch(t=>{console.error("Error fetching projects: ",t)})},Hle=e=>async t=>{try{await We.collection("projects").doc(e).delete(),t(Dle(e))}catch(n){console.error("Error deleting project: ",n)}},Kle=(e,t)=>async n=>{try{await We.collection("projects").doc(e).update(t),n(Lle(e,t))}catch(r){console.error("Error updating project: ",r)}},Gle=(e,t)=>async n=>{const r=Md.ref(),i=We.collection("users").doc(e),s=[];for(const a of t){const l=r.child(`certificates/${e}/${a.name}`);await l.put(a);const c=await l.getDownloadURL();s.push({name:a.name,url:c})}i.update({certificates:X.firestore.FieldValue.arrayUnion(...s)}).then(()=>{n(oa(e))}).catch(a=>{console.error("Error uploading certificates: ",a)})},Qle=(e,t)=>async n=>{try{const r=We.collection("users").doc(e);await Md.refFromURL(t.url).delete(),r.update({certificates:X.firestore.FieldValue.arrayRemove(t)}).then(()=>{n(oa(e))}).catch(s=>{console.error("Error deleting certificate: ",s)})}catch(r){console.error("Error deleting certificate: ",r)}},Yle=(e,t)=>async n=>{try{await We.collection("users").doc(e).update({skills:X.firestore.FieldValue.arrayUnion(t)}),n(oa(e))}catch(r){console.error("Error adding skill: ",r)}},Xle=(e,t)=>async n=>{try{await We.collection("users").doc(e).update({skills:X.firestore.FieldValue.arrayRemove(t)}),n(oa(e))}catch(r){console.error("Error deleting skill: ",r)}},jC=()=>async e=>{try{const t=await We.collection("events").get(),n=[];t.forEach(r=>{n.push({id:r.id,...r.data()})}),e({type:D3,payload:n})}catch(t){console.error("Error fetching events:",t),e({type:Sp,error:t.message})}},Jle=e=>async t=>{try{e.poster instanceof File&&(e.poster=await uploadFile(e.poster)),e.brochure instanceof File&&(e.brochure=await uploadFile(e.brochure));const n=await We.collection("events").add(e);t({type:O3,payload:{id:n.id,...e}})}catch(n){t({type:Sp,error:n.message})}},Zle=(e,t)=>async n=>{try{t.poster instanceof File&&(t.poster=await uploadFile(t.poster)),t.brochure instanceof File&&(t.brochure=await uploadFile(t.brochure)),await We.collection("events").doc(e).update(t),n({type:M3,payload:{id:e,...t}})}catch(r){n({type:Sp,error:r.message})}},ece=e=>async t=>{try{await We.collection("events").doc(e).delete(),t({type:L3,payload:e})}catch(n){t({type:Sp,error:n.message})}},tce=(e,t)=>async n=>{try{const r=await We.collection("events").doc(e).get();if(r.exists){const i=r.data();if(!i.interestedUsers.includes(t)){const s=(i.interested??0)+1,a=[...i.interestedUsers,t];await We.collection("events").doc(e).update({interested:s,interestedUsers:a}),n(jC())}}}catch(r){console.error("Error updating interested count: ",r)}},nce=e=>{const t=Tu(),n=Iy(),[r,i]=$.useState(""),s=g=>{i(g.target.value),e.setSearchQuery(g.target.value)},a=()=>{t("/profile")},l=()=>{t("/home")},c=()=>{t("/home")},h=()=>{t("/procollab")},d=()=>{t("/events")},v=()=>{t("/notification")};return b.jsx(rce,{children:b.jsxs(ice,{children:[b.jsx(oce,{onClick:c,children:b.jsx("a",{children:b.jsx("img",{src:"/images/header-logo.svg",alt:""})})}),b.jsxs(sce,{children:[b.jsx("div",{children:b.jsx("input",{type:"text",placeholder:"Search ",value:r,onChange:s})}),b.jsx(ace,{children:b.jsx("img",{src:"/images/search-icon.svg",alt:""})})]}),b.jsx(uce,{children:b.jsxs(lce,{children:[b.jsx(gl,{onClick:l,className:n.pathname==="/home"?"active":"",children:b.jsxs("a",{children:[b.jsx("img",{src:"/images/nav-home.svg",className:"home",alt:""}),b.jsx("span",{children:"Home"})]})}),b.jsx(gl,{onClick:d,className:n.pathname==="/events"?"active":"",children:b.jsxs("a",{children:[b.jsx("img",{src:"/images/nav-events.svg",className:"events",alt:""}),b.jsx("span",{children:"Event Hub"})]})}),b.jsx(gl,{onClick:h,className:n.pathname==="/procollab"?"active":"",children:b.jsxs("a",{children:[b.jsx("img",{src:"/images/nav-project-colab.svg",className:"projects",alt:""}),b.jsx("span",{children:"Project Hub"})]})}),b.jsx(gl,{onClick:v,className:n.pathname==="/notification"?"active":"",children:b.jsxs("a",{children:[b.jsx("img",{src:"/images/nav-notifications.svg",className:"notifications",alt:""}),b.jsx("span",{children:"Notifications"})]})}),b.jsx(gl,{onClick:a,className:n.pathname==="/profile"?"active":"",children:b.jsxs("a",{children:[e.user&&e.user.photoURL?b.jsx("img",{className:"prof",src:e.user.photoURL,alt:""}):b.jsx("img",{src:"/images/user.svg",alt:""}),b.jsx("span",{children:"View Profile"})]})}),b.jsx(gl,{onClick:()=>e.SignOut(),children:b.jsxs("a",{children:[b.jsx("img",{src:"/images/sign-out.svg",alt:""}),b.jsx("span",{children:"Sign Out"})]})})]})})]})})},rce=M.div`
  background-color: #98c5e9;
  border-bottom: 3px solid #001838;
  left: 0;
  padding: 0 24px;
  position: fixed;
  top: 0;
  width: 100vw;
  height: 80px;
  z-index: 100;
`,ice=M.div`
  display: flex;
  align-items: center;
  margin: 0 auto;
  min-height: 100%;
  max-width: 1128px;
`,oce=M.span`
  cursor: pointer;
  margin-right: 8px;
  font-size: 0px;
  & > a {
    img {
      height: 40px;
      width: 40px;
    }
  }
`,sce=M.div`
  opacity: 1;
  flex-grow: 1;
  position: relative;
  & > div {
    max-width: 280px;
    input {
      border: none;
      box-shadow: none;
      background-color: #eef3f8;
      border-radius: 2px;
      color: rgba(0, 0, 0, 0.9);
      width: 218px;
      padding: 0 8px 0 40px;
      line-height: 1.75;
      font-weight: 400;
      font-size: 14px;
      height: 34px;
      border-color: #dce6f1;
      vertical-align: text-top;
    }
  }
`,ace=M.div`
  width: 40px;
  position: absolute;
  z-index: 1;
  top: 10px;
  left: 2px;
  border-radius: 0 2px 2px 0;
  margin: 0;
  pointer-events: none;
  display: flex;
  justify-content: center;
  align-items: center;
`,uce=M.nav`
  margin-left: auto;
  display: block;
  @media (max-width: 768px) {
    position: fixed;
    left: 0;
    bottom: 0;
    background: white;
    width: 100%;
  }
`,lce=M.ul`
  display: flex;
  flex-wrap: nowrap;
  list-style-type: none;

  .active {
    span:after {
      content: "";
      transform: scaleX(1);
      border-bottom: 2px solid var(--white, #fff);
      bottom: 0;
      left: 0;
      position: absolute;
      transition: transform 0.2s ease-in-out;
      width: 100%;
      border-color: #001838;
    }
  }
`,gl=M.li`
  cursor: pointer;
  display: flex;
  align-items: center;
  margin-right: 2px;
  a {
    align-items: center;
    background: transparent;
    display: flex;
    flex-direction: column;
    font-size: 12px;
    font-weight: 400;
    justify-content: center;
    line-height: 1.5;
    min-height: 52px;
    min-width: 80px;
    position: relative;
    text-decoration: none;
    img {
      max-height: 35px;
      max-width: 35px;
      padding-top: 5px;
      padding-bottom: 5px;
    }
    .prof {
      border-radius: 50%;
    }

    .home {
      max-height: 31px;
      padding-bottom: 9px;
    }

    .projects {
      max-height: 31px;
      padding-bottom: 9px;
    }

    .events {
      max-height: 36px;
      padding-bottom: 4px;
    }

    span {
      color: #001838;
      font-weight: bold;
      display: flex;
      align-items: center;
    }

    @media (max-width: 768px) {
      min-width: 70px;
    }
  }

  &:hover,
  &:active {
    a {
      span {
        color: rgba(0, 0, 0, 0.7);
      }
    }
  }
`,cce=e=>({user:e.userState.user}),fce=e=>({SignOut:()=>e(Fle()),setSearchQuery:t=>e(Mle(t))}),ml=Wr(cce,fce)(nce),hce=e=>{const[t,n]=$.useState(!1),r=Tu();$.useEffect(()=>{e.projects.length||e.getProjects()},[]),$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]);const i=()=>{n(!t)},s=()=>{r("/procollab")};return b.jsxs(dce,{children:[b.jsxs(V3,{children:[b.jsxs(pce,{children:[b.jsx(gce,{}),b.jsx("a",{children:b.jsxs(mce,{children:[b.jsx("a",{children:e.user&&e.user.photoURL?b.jsx("img",{src:e.user.photoURL,alt:""}):b.jsx("img",{src:"/images/user.svg",alt:""})}),"Welcome, ",e.user?e.user.displayName:"there",b.jsx("p",{className:"email",children:e.user?e.user.email:"email"})]})})]}),b.jsx(vce,{children:b.jsx("a",{children:b.jsxs("div",{children:[b.jsx("img",{src:"/images/info.svg",alt:""}),b.jsx("span",{className:"headline",children:e.userDetails?e.userDetails.headline:"headline"}),b.jsxs("span",{className:"branch",children:[e.userDetails?e.userDetails.branch:"branch"," - sem ",e.userDetails?e.userDetails.semester:"semester"]})]})})})]}),b.jsxs(yce,{children:[b.jsx("a",{children:b.jsxs("span",{children:["Explore Projects",b.jsx("img",{onClick:i,src:"/images/plus-icon.svg",alt:""})]})}),t&&b.jsxs(wce,{children:[e.projects.slice(0,5).map(a=>b.jsx(cM,{children:a.name},a.id)),b.jsx(cM,{className:"discover",onClick:s,children:"Discover more"})]})]})]})},dce=M.div`
  grid-area: leftside;
`,V3=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  transition: box-shadow 83ms;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  border: 3px solid #001838;
`,pce=M.div`
  padding: 12px 12px 16px;
  word-wrap: break-word;
  word-break: break-word;
  border-bottom: 3px solid #001838;
`,vce=M.div`
  padding-top: 12px;
  padding-bottom: 12px;
  div{
    display: flex;
    flex-direction: column;
    text-align: center;

    .headline{
      font-size: 16px;
      font-weight: bolder;
      padding-bottom: 5px;
    }

    .branch{
      font-size: 14px;
      font-weight: bolder;
      color: rgba(0, 0, 0, 0.8);
    }

    img{
      height: 45px;
      margin-bottom: 10px;
    }
  }
`,gce=M.div`
  background: url("/images/trial-bg.webp");
  background-position: center;
  background-size: 462px;
  height: 54px;
  margin: -12px -12px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
`,mce=M.div`
  font-size: 16px;
  line-height: 1.5;
  color: rgba(0, 0, 0, 0.9);
  font-weight: 600;
  display: flex;
  flex-direction: column;
  align-items: center;
  img {
    margin: -38px auto 12px;
    border-radius: 50%;
  }
  p{
    font-size: 13px;
    color: rgba(0, 0, 0, 0.7);
  }
`,yce=M(V3)`
  padding: 8px 0 0;
  text-align: left;
  display: flex;
  flex-direction: column;
  font-weight: bolder;
  a {
    color: black;
    padding: 4px 12px 4px 12px;
    font-size: 16px;

    span {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-bottom: 3px;
    }

    img{
      cursor: pointer;
    }

    .dismore{
      border-top: none;
      align-items: left;
      &:hover {
      color: #0a66c2;
      cursor: pointer;
  }
    }
  }
`,wce=M.div`
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  color: rgba(0,0,0,0.7);
  .discover{
    padding-top: 2px;
    padding-bottom: 2px;
    cursor: pointer;
    color: black;
    font-size: 14px;
  }
`,cM=M.div`
  display: block;
  font-size: 12px;
  padding: 4px 0;
`,_ce=e=>({user:e.userState.user,projects:e.projectState.projects,userDetails:e.userState.userDetails}),bce=e=>({getProjects:()=>e($3()),fetchUserDetails:t=>e(oa(t))}),Ece=Wr(_ce,bce)(hce),Sce="modulepreload",Tce=function(e){return"/"+e},fM={},hr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=Tce(l),l in fM)return;fM[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Sce,c||(d.as="script",d.crossOrigin=""),d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((v,g)=>{d.addEventListener("load",v),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Ice=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&xce(s,n.attrs),n.text&&(s.text=""+n.text);var a="onload"in s?hM:Cce;a(s,r),s.onload||hM(s,r),i.appendChild(s)};function xce(e,t){for(var n in t)e.setAttribute(n,t[n])}function hM(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Cce(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var kce=function(t){return Ace(t)&&!Rce(t)};function Ace(e){return!!e&&typeof e=="object"}function Rce(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Oce(e)}var Pce=typeof Symbol=="function"&&Symbol.for,Nce=Pce?Symbol.for("react.element"):60103;function Oce(e){return e.$$typeof===Nce}function Dce(e){return Array.isArray(e)?[]:{}}function jd(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Dc(Dce(e),e,t):e}function Lce(e,t,n){return e.concat(t).map(function(r){return jd(r,n)})}function Mce(e,t){if(!t.customMerge)return Dc;var n=t.customMerge(e);return typeof n=="function"?n:Dc}function jce(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function dM(e){return Object.keys(e).concat(jce(e))}function B3(e,t){try{return t in e}catch{return!1}}function Fce(e,t){return B3(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Uce(e,t,n){var r={};return n.isMergeableObject(e)&&dM(e).forEach(function(i){r[i]=jd(e[i],n)}),dM(t).forEach(function(i){Fce(e,i)||(B3(e,i)&&n.isMergeableObject(t[i])?r[i]=Mce(i,n)(e[i],t[i],n):r[i]=jd(t[i],n))}),r}function Dc(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Lce,n.isMergeableObject=n.isMergeableObject||kce,n.cloneUnlessOtherwiseSpecified=jd;var r=Array.isArray(t),i=Array.isArray(e),s=r===i;return s?r?n.arrayMerge(e,t,n):Uce(e,t,n):jd(t,n)}Dc.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return Dc(r,i,n)},{})};var $ce=Dc,z3=$ce,Vce=Object.create,z0=Object.defineProperty,Bce=Object.getOwnPropertyDescriptor,zce=Object.getOwnPropertyNames,qce=Object.getPrototypeOf,Wce=Object.prototype.hasOwnProperty,Hce=(e,t)=>{for(var n in t)z0(e,n,{get:t[n],enumerable:!0})},q3=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zce(t))!Wce.call(e,i)&&i!==n&&z0(e,i,{get:()=>t[i],enumerable:!(r=Bce(t,i))||r.enumerable});return e},FC=(e,t,n)=>(n=e!=null?Vce(qce(e)):{},q3(!e||!e.__esModule?z0(n,"default",{value:e,enumerable:!0}):n,e)),Kce=e=>q3(z0({},"__esModule",{value:!0}),e),W3={};Hce(W3,{callPlayer:()=>lfe,getConfig:()=>afe,getSDK:()=>sfe,isBlobUrl:()=>ffe,isMediaStream:()=>cfe,lazy:()=>Xce,omit:()=>ufe,parseEndTime:()=>rfe,parseStartTime:()=>nfe,queryString:()=>ofe,randomString:()=>ife,supportsWebKitPresentationMode:()=>hfe});var q0=Kce(W3),Gce=FC($),Qce=FC(Ice),Yce=FC(z3);const Xce=e=>Gce.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),Jce=/[?&#](?:start|t)=([0-9hms]+)/,Zce=/[?&#]end=([0-9hms]+)/,t1=/(\d+)(h|m|s)/g,efe=/^\d+$/;function H3(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const r=n[1];if(r.match(t1))return tfe(r);if(efe.test(r))return parseInt(r)}}function tfe(e){let t=0,n=t1.exec(e);for(;n!==null;){const[,r,i]=n;i==="h"&&(t+=parseInt(r,10)*60*60),i==="m"&&(t+=parseInt(r,10)*60),i==="s"&&(t+=parseInt(r,10)),n=t1.exec(e)}return t}function nfe(e){return H3(e,Jce)}function rfe(e){return H3(e,Zce)}function ife(){return Math.random().toString(36).substr(2,5)}function ofe(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function UE(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const yl={},sfe=function(t,n,r=null,i=()=>!0,s=Qce.default){const a=UE(n);return a&&i(a)?Promise.resolve(a):new Promise((l,c)=>{if(yl[t]){yl[t].push({resolve:l,reject:c});return}yl[t]=[{resolve:l,reject:c}];const h=d=>{yl[t].forEach(v=>v.resolve(d))};if(r){const d=window[r];window[r]=function(){d&&d(),h(UE(n))}}s(t,d=>{d?(yl[t].forEach(v=>v.reject(d)),yl[t]=null):r||h(UE(n))})})};function afe(e,t){return(0,Yce.default)(t.config,e.config)}function ufe(e,...t){const n=[].concat(...t),r={},i=Object.keys(e);for(const s of i)n.indexOf(s)===-1&&(r[s]=e[s]);return r}function lfe(e,...t){if(!this.player||!this.player[e]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[e](...t)}function cfe(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function ffe(e){return/^blob:/.test(e)}function hfe(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var UC=Object.defineProperty,dfe=Object.getOwnPropertyDescriptor,pfe=Object.getOwnPropertyNames,vfe=Object.prototype.hasOwnProperty,gfe=(e,t)=>{for(var n in t)UC(e,n,{get:t[n],enumerable:!0})},mfe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pfe(t))!vfe.call(e,i)&&i!==n&&UC(e,i,{get:()=>t[i],enumerable:!(r=dfe(t,i))||r.enumerable});return e},yfe=e=>mfe(UC({},"__esModule",{value:!0}),e),K3={};gfe(K3,{AUDIO_EXTENSIONS:()=>$C,DASH_EXTENSIONS:()=>a5,FLV_EXTENSIONS:()=>u5,HLS_EXTENSIONS:()=>BC,MATCH_URL_DAILYMOTION:()=>r5,MATCH_URL_FACEBOOK:()=>X3,MATCH_URL_FACEBOOK_WATCH:()=>J3,MATCH_URL_KALTURA:()=>s5,MATCH_URL_MIXCLOUD:()=>i5,MATCH_URL_MUX:()=>Y3,MATCH_URL_SOUNDCLOUD:()=>G3,MATCH_URL_STREAMABLE:()=>Z3,MATCH_URL_TWITCH_CHANNEL:()=>n5,MATCH_URL_TWITCH_VIDEO:()=>t5,MATCH_URL_VIDYARD:()=>o5,MATCH_URL_VIMEO:()=>Q3,MATCH_URL_WISTIA:()=>e5,MATCH_URL_YOUTUBE:()=>n1,VIDEO_EXTENSIONS:()=>VC,canPlay:()=>_fe});var wfe=yfe(K3),pM=q0;const n1=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,G3=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Q3=/vimeo\.com\/(?!progressive_redirect).+/,Y3=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,X3=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,J3=/^https?:\/\/fb\.watch\/.+$/,Z3=/streamable\.com\/([a-z0-9]+)$/,e5=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,t5=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,n5=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,r5=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,i5=/mixcloud\.com\/([^/]+\/[^/]+)/,o5=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,s5=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,$C=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VC=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,BC=/\.(m3u8)($|\?)/i,a5=/\.(mpd)($|\?)/i,u5=/\.(flv)($|\?)/i,r1=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&r1(t)||r1(t.src))return!0;return!1}return(0,pM.isMediaStream)(e)||(0,pM.isBlobUrl)(e)?!0:$C.test(e)||VC.test(e)||BC.test(e)||a5.test(e)||u5.test(e)},_fe={youtube:e=>e instanceof Array?e.every(t=>n1.test(t)):n1.test(e),soundcloud:e=>G3.test(e)&&!$C.test(e),vimeo:e=>Q3.test(e)&&!VC.test(e)&&!BC.test(e),mux:e=>Y3.test(e),facebook:e=>X3.test(e)||J3.test(e),streamable:e=>Z3.test(e),wistia:e=>e5.test(e),twitch:e=>t5.test(e)||n5.test(e),dailymotion:e=>r5.test(e),mixcloud:e=>i5.test(e),vidyard:e=>o5.test(e),kaltura:e=>s5.test(e),file:r1};var zC=Object.defineProperty,bfe=Object.getOwnPropertyDescriptor,Efe=Object.getOwnPropertyNames,Sfe=Object.prototype.hasOwnProperty,Tfe=(e,t)=>{for(var n in t)zC(e,n,{get:t[n],enumerable:!0})},Ife=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Efe(t))!Sfe.call(e,i)&&i!==n&&zC(e,i,{get:()=>t[i],enumerable:!(r=bfe(t,i))||r.enumerable});return e},xfe=e=>Ife(zC({},"__esModule",{value:!0}),e),l5={};Tfe(l5,{default:()=>kfe});var Cfe=xfe(l5),fr=q0,qn=wfe,kfe=[{key:"youtube",name:"YouTube",canPlay:qn.canPlay.youtube,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./YouTube-D6lqOVML.js").then(e=>e.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:qn.canPlay.soundcloud,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./SoundCloud-CfVcvISh.js").then(e=>e.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:qn.canPlay.vimeo,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Vimeo-DB5HJtOV.js").then(e=>e.V),[]))},{key:"mux",name:"Mux",canPlay:qn.canPlay.mux,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Mux-CHrKeVFp.js").then(e=>e.M),[]))},{key:"facebook",name:"Facebook",canPlay:qn.canPlay.facebook,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Facebook-BaiPmZJR.js").then(e=>e.F),[]))},{key:"streamable",name:"Streamable",canPlay:qn.canPlay.streamable,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Streamable-B3myqEwo.js").then(e=>e.S),[]))},{key:"wistia",name:"Wistia",canPlay:qn.canPlay.wistia,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Wistia-CVjE21vn.js").then(e=>e.W),[]))},{key:"twitch",name:"Twitch",canPlay:qn.canPlay.twitch,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Twitch-CyHTFfLf.js").then(e=>e.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:qn.canPlay.dailymotion,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./DailyMotion-fT8nax-s.js").then(e=>e.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:qn.canPlay.mixcloud,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Mixcloud-CBDyrvab.js").then(e=>e.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:qn.canPlay.vidyard,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Vidyard-DvvbC1SO.js").then(e=>e.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:qn.canPlay.kaltura,lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./Kaltura-Cie92fmC.js").then(e=>e.K),[]))},{key:"file",name:"FilePlayer",canPlay:qn.canPlay.file,canEnablePIP:e=>qn.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,fr.supportsWebKitPresentationMode)())&&!qn.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,fr.lazy)(()=>hr(()=>import("./FilePlayer-BlVsxQEF.js").then(e=>e.F),[]))}],vM=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Afe(e,t){return!!(e===t||vM(e)&&vM(t))}function Rfe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Afe(e[n],t[n]))return!1;return!0}function Pfe(e,t){t===void 0&&(t=Rfe);var n,r=[],i,s=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s&&n===this&&t(l,r)||(i=e.apply(this,l),s=!0,n=this,r=l),i}return a}const Nfe=Object.freeze(Object.defineProperty({__proto__:null,default:Pfe},Symbol.toStringTag,{value:"Module"})),Ofe=RH(Nfe);var Dfe=typeof Element<"u",Lfe=typeof Map=="function",Mfe=typeof Set=="function",jfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ug(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ug(e[r],t[r]))return!1;return!0}var s;if(Lfe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Ug(r.value[1],t.get(r.value[0])))return!1;return!0}if(Mfe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(jfe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Dfe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Ug(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var c5=function(t,n){try{return Ug(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},f5={exports:{}},Ffe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ufe=Ffe,$fe=Ufe;function h5(){}function d5(){}d5.resetWarningCache=h5;var Vfe=function(){function e(r,i,s,a,l,c){if(c!==$fe){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:d5,resetWarningCache:h5};return n.PropTypes=n,n};f5.exports=Vfe();var Bfe=f5.exports,zfe=Object.create,W0=Object.defineProperty,qfe=Object.getOwnPropertyDescriptor,Wfe=Object.getOwnPropertyNames,Hfe=Object.getPrototypeOf,Kfe=Object.prototype.hasOwnProperty,Gfe=(e,t)=>{for(var n in t)W0(e,n,{get:t[n],enumerable:!0})},p5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wfe(t))!Kfe.call(e,i)&&i!==n&&W0(e,i,{get:()=>t[i],enumerable:!(r=qfe(t,i))||r.enumerable});return e},Qfe=(e,t,n)=>(n=e!=null?zfe(Hfe(e)):{},p5(!e||!e.__esModule?W0(n,"default",{value:e,enumerable:!0}):n,e)),Yfe=e=>p5(W0({},"__esModule",{value:!0}),e),v5={};Gfe(v5,{defaultProps:()=>Zfe,propTypes:()=>Jfe});var g5=Yfe(v5),Xfe=Qfe(Bfe);const{string:un,bool:Wn,number:wl,array:$E,oneOfType:ih,shape:kr,object:Cn,func:Ft,node:gM}=Xfe.default,Jfe={url:ih([un,$E,Cn]),playing:Wn,loop:Wn,controls:Wn,volume:wl,muted:Wn,playbackRate:wl,width:ih([un,wl]),height:ih([un,wl]),style:Cn,progressInterval:wl,playsinline:Wn,pip:Wn,stopOnUnmount:Wn,light:ih([Wn,un,Cn]),playIcon:gM,previewTabIndex:wl,previewAriaLabel:un,fallback:gM,oEmbedUrl:un,wrapper:ih([un,Ft,kr({render:Ft.isRequired})]),config:kr({soundcloud:kr({options:Cn}),youtube:kr({playerVars:Cn,embedOptions:Cn,onUnstarted:Ft}),facebook:kr({appId:un,version:un,playerId:un,attributes:Cn}),dailymotion:kr({params:Cn}),vimeo:kr({playerOptions:Cn,title:un}),mux:kr({attributes:Cn,version:un}),file:kr({attributes:Cn,tracks:$E,forceVideo:Wn,forceAudio:Wn,forceHLS:Wn,forceSafariHLS:Wn,forceDisableHls:Wn,forceDASH:Wn,forceFLV:Wn,hlsOptions:Cn,hlsVersion:un,dashVersion:un,flvVersion:un}),wistia:kr({options:Cn,playerId:un,customControls:$E}),mixcloud:kr({options:Cn}),twitch:kr({options:Cn,playerId:un}),vidyard:kr({options:Cn})}),onReady:Ft,onStart:Ft,onPlay:Ft,onPause:Ft,onBuffer:Ft,onBufferEnd:Ft,onEnded:Ft,onError:Ft,onDuration:Ft,onSeek:Ft,onPlaybackRateChange:Ft,onPlaybackQualityChange:Ft,onProgress:Ft,onClickPreview:Ft,onEnablePIP:Ft,onDisablePIP:Ft},ln=()=>{},Zfe={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:ln},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:ln,onStart:ln,onPlay:ln,onPause:ln,onBuffer:ln,onBufferEnd:ln,onEnded:ln,onError:ln,onDuration:ln,onSeek:ln,onPlaybackRateChange:ln,onPlaybackQualityChange:ln,onProgress:ln,onClickPreview:ln,onEnablePIP:ln,onDisablePIP:ln};var ehe=Object.create,Tp=Object.defineProperty,the=Object.getOwnPropertyDescriptor,nhe=Object.getOwnPropertyNames,rhe=Object.getPrototypeOf,ihe=Object.prototype.hasOwnProperty,ohe=(e,t,n)=>t in e?Tp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,she=(e,t)=>{for(var n in t)Tp(e,n,{get:t[n],enumerable:!0})},m5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nhe(t))!ihe.call(e,i)&&i!==n&&Tp(e,i,{get:()=>t[i],enumerable:!(r=the(t,i))||r.enumerable});return e},y5=(e,t,n)=>(n=e!=null?ehe(rhe(e)):{},m5(!e||!e.__esModule?Tp(n,"default",{value:e,enumerable:!0}):n,e)),ahe=e=>m5(Tp({},"__esModule",{value:!0}),e),bt=(e,t,n)=>(ohe(e,typeof t!="symbol"?t+"":t,n),n),w5={};she(w5,{default:()=>H0});var uhe=ahe(w5),mM=y5($),lhe=y5(c5),_5=g5,che=q0;const fhe=5e3;class H0 extends mM.Component{constructor(){super(...arguments),bt(this,"mounted",!1),bt(this,"isReady",!1),bt(this,"isPlaying",!1),bt(this,"isLoading",!0),bt(this,"loadOnReady",null),bt(this,"startOnPlay",!0),bt(this,"seekOnPlay",null),bt(this,"onDurationCalled",!1),bt(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),bt(this,"getInternalPlayer",t=>this.player?this.player[t]:null),bt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:t,played:t/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),bt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:n,volume:r,muted:i}=this.props;t(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),bt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),t(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),bt(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),bt(this,"handleEnded",()=>{const{activePlayer:t,loop:n,onEnded:r}=this.props;t.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),bt(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),bt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),bt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:n,playing:r,volume:i,muted:s,playbackRate:a,pip:l,loop:c,activePlayer:h,disableDeferredLoading:d}=this.props;if(!(0,lhe.default)(t.url,n)){if(this.isLoading&&!h.forceLoad&&!d&&!(0,che.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!t.playing&&r&&!this.isPlaying&&this.player.play(),t.playing&&!r&&this.isPlaying&&this.player.pause(),!t.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==i&&i!==null&&this.player.setVolume(i),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),t.playbackRate!==a&&this.player.setPlaybackRate&&this.player.setPlaybackRate(a),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,n,r){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},fhe));return}if(n?n==="fraction":t>0&&t<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(s*t,r);return}this.player.seekTo(t,r)}render(){const t=this.props.activePlayer;return t?mM.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}bt(H0,"displayName","Player");bt(H0,"propTypes",_5.propTypes);bt(H0,"defaultProps",_5.defaultProps);var hhe=Object.create,Ip=Object.defineProperty,dhe=Object.getOwnPropertyDescriptor,phe=Object.getOwnPropertyNames,vhe=Object.getPrototypeOf,ghe=Object.prototype.hasOwnProperty,mhe=(e,t,n)=>t in e?Ip(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yhe=(e,t)=>{for(var n in t)Ip(e,n,{get:t[n],enumerable:!0})},b5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of phe(t))!ghe.call(e,i)&&i!==n&&Ip(e,i,{get:()=>t[i],enumerable:!(r=dhe(t,i))||r.enumerable});return e},xp=(e,t,n)=>(n=e!=null?hhe(vhe(e)):{},b5(!e||!e.__esModule?Ip(n,"default",{value:e,enumerable:!0}):n,e)),whe=e=>b5(Ip({},"__esModule",{value:!0}),e),_t=(e,t,n)=>(mhe(e,typeof t!="symbol"?t+"":t,n),n),E5={};yhe(E5,{createReactPlayer:()=>khe});var _he=whe(E5),Tl=xp($),bhe=xp(z3),VE=xp(Ofe),yM=xp(c5),vh=g5,S5=q0,Ehe=xp(uhe);const She=(0,S5.lazy)(()=>hr(()=>import("./Preview-CcV0szt3.js").then(e=>e.P),[])),The=typeof window<"u"&&window.document&&typeof document<"u",Ihe=typeof Tb<"u"&&Tb.window&&Tb.window.document,xhe=Object.keys(vh.propTypes),Che=The||Ihe?Tl.Suspense:()=>null,oh=[],khe=(e,t)=>{var n;return n=class extends Tl.Component{constructor(){super(...arguments),_t(this,"state",{showPreview:!!this.props.light}),_t(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),_t(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),_t(this,"showPreview",()=>{this.setState({showPreview:!0})}),_t(this,"getDuration",()=>this.player?this.player.getDuration():null),_t(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),_t(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),_t(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),_t(this,"seekTo",(r,i,s)=>{if(!this.player)return null;this.player.seekTo(r,i,s)}),_t(this,"handleReady",()=>{this.props.onReady(this)}),_t(this,"getActivePlayer",(0,VE.default)(r=>{for(const i of[...oh,...e])if(i.canPlay(r))return i;return t||null})),_t(this,"getConfig",(0,VE.default)((r,i)=>{const{config:s}=this.props;return bhe.default.all([vh.defaultProps.config,vh.defaultProps.config[i]||{},s,s[i]||{}])})),_t(this,"getAttributes",(0,VE.default)(r=>(0,S5.omit)(this.props,xhe))),_t(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const s=this.getConfig(r,i.key);return Tl.default.createElement(Ehe.default,{...this.props,key:i.key,ref:this.references.player,config:s,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,yM.default)(this.props,r)||!(0,yM.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:s,previewTabIndex:a,oEmbedUrl:l,previewAriaLabel:c}=this.props;return Tl.default.createElement(She,{url:r,light:i,playIcon:s,previewTabIndex:a,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:s,height:a,fallback:l,wrapper:c}=this.props,{showPreview:h}=this.state,d=this.getAttributes(r),v=typeof c=="string"?this.references.wrapper:void 0;return Tl.default.createElement(c,{ref:v,style:{...i,width:s,height:a},...d},Tl.default.createElement(Che,{fallback:l},h?this.renderPreview(r):this.renderActivePlayer(r)))}},_t(n,"displayName","ReactPlayer"),_t(n,"propTypes",vh.propTypes),_t(n,"defaultProps",vh.defaultProps),_t(n,"addCustomPlayer",r=>{oh.push(r)}),_t(n,"removeCustomPlayers",()=>{oh.length=0}),_t(n,"canPlay",r=>{for(const i of[...oh,...e])if(i.canPlay(r))return!0;return!1}),_t(n,"canEnablePIP",r=>{for(const i of[...oh,...e])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var Ahe=Object.create,K0=Object.defineProperty,Rhe=Object.getOwnPropertyDescriptor,Phe=Object.getOwnPropertyNames,Nhe=Object.getPrototypeOf,Ohe=Object.prototype.hasOwnProperty,Dhe=(e,t)=>{for(var n in t)K0(e,n,{get:t[n],enumerable:!0})},T5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Phe(t))!Ohe.call(e,i)&&i!==n&&K0(e,i,{get:()=>t[i],enumerable:!(r=Rhe(t,i))||r.enumerable});return e},Lhe=(e,t,n)=>(n=e!=null?Ahe(Nhe(e)):{},T5(!e||!e.__esModule?K0(n,"default",{value:e,enumerable:!0}):n,e)),Mhe=e=>T5(K0({},"__esModule",{value:!0}),e),I5={};Dhe(I5,{default:()=>$he});var jhe=Mhe(I5),i1=Lhe(Cfe),Fhe=_he;const Uhe=i1.default[i1.default.length-1];var $he=(0,Fhe.createReactPlayer)(i1.default,Uhe);const x5=EM(jhe),Vhe=e=>{const[t,n]=$.useState(""),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),h=y=>{const w=y.target.files[0];if(w===""||w===void 0){alert(`not an image, the file is a ${typeof w}`);return}i(w)},d=y=>{i(""),a(""),c(y)},v=y=>{if(y.preventDefault(),y.target!==y.currentTarget)return;const w={image:r,video:s,user:e.user,description:t,timestamp:X.firestore.Timestamp.now()};e.postArticle(w),g(y)},g=y=>{n(""),i(""),a(""),c(""),e.handleClick(y)};return b.jsx(b.Fragment,{children:e.showModal==="open"&&b.jsx(Bhe,{children:b.jsxs(zhe,{children:[b.jsxs(qhe,{children:[b.jsx("h2",{children:"Create a post"}),b.jsx("button",{onClick:y=>g(y),children:b.jsx("img",{src:"/images/close-icon.svg",alt:""})})]}),b.jsxs(Whe,{children:[b.jsxs(Hhe,{children:[e.user.photoURL?b.jsx("img",{src:e.user.photoURL}):b.jsx("img",{src:"/images/user.svg",alt:""}),b.jsx("span",{children:e.user.displayName})]}),b.jsxs(Yhe,{children:[b.jsx("textarea",{value:t,onChange:y=>n(y.target.value),placeholder:"what do you want to talk about",autoFocus:!0}),l==="image"?b.jsxs(Xhe,{children:[b.jsx("input",{type:"file",accept:"image/gif, image/jpeg, image/png",name:"image",id:"file",style:{display:"none"},onChange:h}),b.jsx("p",{children:b.jsx("label",{htmlFor:"file",children:" select an image to share"})}),r&&b.jsx("img",{src:URL.createObjectURL(r)})]}):l==="media"&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:"please input a video link",value:s,onChange:y=>a(y.target.value)}),s&&b.jsx(x5,{width:"100%",url:s})]})]})]}),b.jsxs(Khe,{children:[b.jsxs(Ghe,{children:[b.jsx(o1,{onClick:()=>d("image"),children:b.jsx("img",{src:"/images/post-photo-icon.svg",alt:""})}),b.jsx(o1,{onClick:()=>d("media"),children:b.jsx("img",{src:"/images/post-video-icon.svg",alt:""})})]}),b.jsx(Qhe,{disabled:!t,onClick:y=>v(y),children:"Post"})]})]})})})},Bhe=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  color: black;
  background-color: rgba(0, 0, 0, 0.8);
  animation: fadeIn 0.3s;
`,zhe=M.div`
  width: 100%;
  max-width: 552px;
  background-color: white;
  max-height: 90%;
  border-radius: 5px;
  position: relative;
  display: flex;
  flex-direction: column;
  top: 32px;
  margin: 0 auto;
`,qhe=M.div`
  display: block;
  padding: 16px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0, 0.15);
  font-size: 16px;
  line-height: 1.5;
  color: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: space-between;
  align-items: center;

  img {
    max-height: 28px;
    pointer-events: none;
  }

  button {
    height: 40px;
    width: 40px;
    min-width: auto;
    color: rgba(0, 0, 0, 0.15);

    svg {
      pointer-events: none;
    }
  }
`,Whe=M.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  overflow-y: auto;
  vertical-align: baseline;
  background: transparent;
  padding: 8px 12px;
`,Hhe=M.div`
  display: flex;
  align-items: center;
  padding: 12px 24px;

  svg,
  img {
    width: 48px;
    height: 48px;
    background-clip: content-box;
    border: 2px solid transparent;
    border-radius: 50%;
  }

  span {
    font-weight: 600;
    font-size: 16px;
    line-height: 1.5;
    margin-left: 5px;
  }
`,Khe=M.div`
  display: flex;
  justify-content: space-between;
  padding: 12px 24px 12px 16px;
`,o1=M.button`
  display: flex;
  align-items: center;
  height: 40px;
  min-width: auto;
  color: rgba(0, 0, 0, 0.5);
  margin-right: 5px;
  img {
    height: 30px;
  }
`,Ghe=M.div`
  align-items: center;
  display: flex;
  padding-right: 8px;
  ${o1} {
    width: 40px;
  }
`,Qhe=M.button`
  min-width: 60px;
  border-radius: 20px;
  padding-left: 16px;
  padding-right: 16px;
  background: ${e=>e.disabled?"rgba(0,0,0,0.8)":"#0a66c2"};
  color: ${e=>e.disabled?"rgba(1,1,1,0.2)":"white"};
  &:hover {
    background: #004182;
    background: ${e=>e.disabled?"rgba(0,0,0,0.8)":"#004182"};
  }
`,Yhe=M.div`
  padding: 12px 24px;
  textarea {
    width: 100%;
    min-height: 100px;
    resize: none;
  }

  input {
    width: 100%;
    height: 35px;
    font-size: 16px;
    margin-bottom: 20px;
  }
`,Xhe=M.div`
  text-align: center;
  img {
    width: 100%;
  }
`,Jhe=e=>({user:e.userState.user}),Zhe=e=>({postArticle:t=>e(Ule(t))}),ede=Wr(Jhe,Zhe)(Vhe),tde=e=>{const[t,n]=$.useState("close"),[r,i]=$.useState(""),[s,a]=$.useState(null),l=Tu();$.useEffect(()=>{e.getArticles()},[]),$.useEffect(()=>{e.querySearch&&e.searchUsers(e.querySearch)},[e.querySearch]);const c=E=>{if(E.preventDefault(),E.target===E.currentTarget)switch(t){case"open":n("close");break;case"close":n("open");break;default:n("close")}},h=E=>{l(`/user/${E}`)},d=E=>{e.updateArticleLikes(E,e.user.email)},v=E=>{e.addComment(E,r,e.user.email,e.user.photoURL),i("")},g=E=>{a(s===E?null:E)},y=E=>{e.deleteArticle(E)},w=E=>{navigator.share?navigator.share({title:E.title,text:E.description,url:window.location.href}).then(()=>console.log("Article shared successfully")).catch(x=>console.error("Error sharing article:",x)):alert("Web Share API is not supported in your browser.")};return b.jsx(b.Fragment,{children:b.jsxs(nde,{children:[b.jsxs(rde,{children:[b.jsxs("div",{children:[e.user&&e.user.photoURL?b.jsx("img",{src:e.user.photoURL,alt:"User"}):b.jsx("img",{src:"/images/user.svg",alt:"User"}),b.jsx("button",{onClick:c,disabled:!!e.loading,className:"clickable",children:"Create post"})]}),b.jsxs("div",{children:[b.jsxs("button",{children:[b.jsx("img",{src:"/images/post-photo-icon.svg",alt:""}),b.jsx("span",{children:"Photo"})]}),b.jsxs("button",{children:[b.jsx("img",{src:"/images/post-video-icon.svg",alt:""}),b.jsx("span",{children:"Video"})]}),b.jsxs("button",{children:[b.jsx("img",{src:"/images/post-article-icon.svg",alt:""}),b.jsx("span",{children:"Article"})]})]})]}),e.articles.length===0?b.jsx("p",{children:"There are no articles"}):b.jsxs(pde,{children:[e.loading&&b.jsx("img",{src:"/images/spin-loader.svg"}),e.articles.length>0&&e.articles.map((E,x)=>b.jsxs(ide,{children:[b.jsxs(ode,{children:[b.jsxs("a",{onClick:()=>h(E.actor.description),children:[b.jsx("img",{src:E.actor.image,alt:""}),b.jsxs("div",{children:[b.jsx("span",{children:E.actor.title}),b.jsx("span",{children:E.actor.description}),b.jsx("span",{children:E.actor.date.toDate().toLocaleDateString()})]})]}),b.jsx("button",{onClick:()=>y(E.id),disabled:e.user.email!==E.actor.description,children:b.jsx("img",{src:"/images/bin.svg",alt:""})})]}),b.jsx(sde,{children:E.description}),b.jsx(ade,{children:b.jsx("a",{children:!E.sharedImage&&E.video?b.jsx(x5,{width:"100%",url:E.video}):E.sharedImage&&b.jsx("img",{src:E.sharedImage})})}),b.jsxs(ude,{children:[b.jsx("li",{children:b.jsxs("button",{children:[b.jsx("img",{src:"/images/like-pic.svg",alt:""}),b.jsx("span",{children:E.likes.count})]})}),b.jsx("li",{children:b.jsxs("button",{children:[b.jsx("img",{src:"/images/comment-image.svg"}),b.jsx("a",{children:E.comments.length})]})})]}),b.jsxs(lde,{children:[b.jsxs("button",{onClick:()=>d(E.id),children:[b.jsx("img",{src:"images/like-icon.svg",alt:""}),b.jsx("span",{children:"Like"})]}),b.jsxs("button",{onClick:()=>g(E.id),children:[b.jsx("img",{src:"/images/comments-icon.svg",alt:""}),b.jsx("span",{children:"Comment"})]}),b.jsxs("button",{onClick:()=>w(E),children:[b.jsx("img",{src:"/images/share-icon.svg",alt:""}),b.jsx("span",{children:"Share"})]})]}),s===E.id&&b.jsxs(cde,{children:[b.jsxs(fde,{children:[b.jsx("input",{type:"text",placeholder:"Add a comment...",value:r,onChange:S=>i(S.target.value)}),b.jsx("button",{onClick:()=>v(E.id),disabled:r.trim()==="",children:"Submit"})]}),b.jsxs(hde,{children:[console.log(E.comments),E.comments.map((S,T)=>b.jsxs(dde,{children:[b.jsx("img",{src:S.userImage,onClick:()=>h(S.userEmail)}),b.jsxs("div",{children:[b.jsx("span",{onClick:()=>h(S.userEmail),children:S.username}),b.jsx("p",{children:S.comment})]})]},T))]})]})]},x))]}),b.jsx(ede,{showModal:t,handleClick:c})]})})},nde=M.div`
  grid-area: main;
`,C5=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  border: 3px solid #001838;
`,rde=M(C5)`
  display: flex;
  flex-direction: column;
  color: #fff;
  margin: 0 0 8px;
  
  div {
    button {
      outline: none;
      color: rgba(0, 0, 0, 0.6);
      font-size: 14px;
      line-height: 1.5;
      min-height: 48px;
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      font-weight: 600;
    }
    &:first-child {
      display: flex;
      align-items: center;
      padding: 8px 16px 0px 16px;

      img {
        width: 48px;
        border-radius: 50%;
        margin-right: 8px;
      }

      button {
        margin: 4px 0;
        flex-grow: 1;
        border-radius: 35px;
        padding-left: 16px;
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 35px;
        background-color: white;
        text-align: left;
      }
    }
    &:nth-child(2) {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      padding-bottom: 4px;

      button {
        img {
          margin: 0 4px 0 -2px;
          height: 25px;
        }

        span {
          color: #001838;
        }
      }
    }
  }

  .clickable{
    cursor: pointer;
  }
`,ide=M(C5)`
  padding: 0;
  margin: 0 0 8px;
  overflow: visible;
`,ode=M.div`
  padding-right: 40px;
  flex-wrap: nowrap;
  padding: 12px 16px 0;
  margin-bottom: 8px;
  align-items: center;
  display: flex;
  a {
    margin-right: 12px;
    flex-grow: 1;
    overflow: hidden;
    display: flex;
    text-decoration: none;

    img {
      cursor: pointer;
      width: 48px;
      height: 48px;
    }
    & > div {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      flex-basis: 0;
      margin-left: 8px;
      overflow: hidden;
      span {
        cursor: pointer;
        text-align: left;
        &:first-child {
          font-size: 14px;
          font-weight: 700;
          color: black;
        }
        &:nth-child(n + 1) {
          font-size: 12px;
          color: rgba(0, 0, 0, 0.6);
        }
      }
    }
  }
  button {
    position: absolute;
    right: 12px;
    top: 0;
    background: transparent;
    border: none;
    outline: none;
    cursor: pointer;
    img {
      width: 20px;
      height: 20px;
      margin-top: 10px;
    }
  }
`,sde=M.div`
  padding: 0 16px;
  overflow: hidden;
  color: black;
  font-size: 14px;
  text-align: left;
`,ade=M.div`
  margin-top: 8px;
  width: 100%;
  display: block;
  position: relative;
  background-color: #f9fafb;
  img {
    object-fit: contain;
    width: 100%;
    height: 100%;
  }
`,ude=M.ul`
  line-height: 1.3;
  display: flex;
  align-items: flex-start;
  flex-direction: row;
  overflow: auto;
  margin: 0 16px;
  padding: 8px 0;
  border-bottom: 1px solid #001838;
  list-style: none;

  li {
    margin-right: 5px;
    font-size: 12px;

    button {
      display: flex;
      border: none;
      background-color: #98c5e9;
    }
  }

  img {
    height: 14px;
    margin: 2px;
  }
`,lde=M.div`
  align-items: center;
  display: flex;
  justify-content: flex-start;
  margin: 0;
  min-height: 40px;
  padding: 4px 8px;

  button {
    display: inline-flex;
    align-items: center;
    padding: 8px;
    color: #001838;
    background-color: #98c5e9;
    border: none;
    cursor: pointer;

    img {
      height: 30px;
      padding-right: 1px;
    }
    
    @media (min-width: 768px) {
      span {
        margin-left: 8px;
      }
    }
  }
`,cde=M.div`
  background-color: #98c5e9;
  padding: 16px;
`,fde=M.div`
  display: flex;
  align-items: center;
  margin-top: 10px;
  border-bottom: 2px solid black;
  padding-bottom: 10px;
  input {
    flex: 1;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin-right: 10px;
  }
  button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #0073b1;
    color: white;
    cursor: pointer;
    &:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  }
`,hde=M.div`
  margin-top: 16px;
`,dde=M.div`
  
  text-align: left;
  margin-bottom: 15px;
  display: flex;
  div{
    border: 3px solid #001838;
    border-radius: 5px;
    width: 100%;
  }
  img{
    height: 40px;
    border-radius:50%;
    margin-right:5px;
    margin-top:5px;
    cursor: pointer;
  }
  span {
    cursor: pointer;
    font-weight: bold;
    padding: 3px;
    color: #001838;
  }
  p {
    padding: 3px;
    padding-left: 10px;
    margin: 4px 0 0;
  }
`,pde=M.div`
  text-align: center;
  & > img {
    width: 30px;
  }
`,vde=e=>({loading:e.articleState.loading,user:e.userState.user,articles:e.articleState.articles,searchQuery:e.searchState.searchQuery,searchResults:e.searchState.searchResults}),gde=e=>({getArticles:()=>e(MC()),updateArticleLikes:(t,n)=>e(Vle(t,n)),addComment:(t,n,r,i)=>e(qle(t,n,r,i)),deleteArticle:t=>e($le(t))}),mde=Wr(vde,gde)(tde),yde=e=>{const t=Tu(),[n,r]=$.useState([]);$.useEffect(()=>{e.user&&e.getEvents()},[e.user,e.getEvents]),$.useEffect(()=>{const s=new Date().toISOString().split("T")[0],a=e.events.filter(l=>new Date(l.date).toISOString().split("T")[0]===s);r(a)},[e.events]);const i=()=>{t("/events")};return b.jsx(wde,{children:b.jsxs(_de,{children:[b.jsxs(bde,{children:[b.jsx("h2",{children:"Today's Events"}),b.jsx("img",{src:"/images/feed-icon.svg",alt:""})]}),b.jsx(Ede,{children:n.length>0?n.map(s=>b.jsx("li",{children:b.jsxs(Sde,{children:[b.jsx(Cde,{}),b.jsxs(Tde,{children:[b.jsx(Ide,{children:s.name}),b.jsx(xde,{children:s.time})]})]})},s.id)):b.jsx("p",{children:"No events for today"})}),b.jsxs(kde,{onClick:i,children:["Explore more events",b.jsx("img",{src:"/images/right-icon.svg",alt:"",onClick:i})]})]})})},wde=M.div`
  grid-area: rightside;
`,_de=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  padding: 12px;
  border: 3px solid #001838;
`,bde=M.div`
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  font-size: 16px;
  width: 100%;
  color:black;
`,Ede=M.ul`
  margin-top: 16px;
  li {
    display: flex;
    align-items: center;
    margin: 12px 0;
    position: relative;
    font-size: 14px;
  }
`,Sde=M.div`
  display: flex;
  align-items: center;
`,Tde=M.div`
  display: flex;
  flex-direction: column;
  margin-left: 10px; 
  margin-bottom: 10px;
  align-items: flex-start; 
`,Ide=M.span`
  font-weight: bold;
`,xde=M.span`
  color: rgba(0, 0, 0, 0.6);
`,Cde=M.div`
  background-image: url("images/today's-event.svg");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  width: 40px;
  height: 40px;
  margin-right: 10px; 
`,kde=M.a`
  color: #001838;
  display: flex;
  align-items: center;
  font-size: 14px;
  cursor: pointer;
  img {
    height: 20px;
    width: 30px;
  }
`,Ade=e=>({events:e.eventState.events,user:e.userState.user}),Rde=e=>({getEvents:()=>e(jC())}),Pde=Wr(Ade,Rde)(yde),Nde=e=>b.jsxs(Ode,{children:[!e.user&&b.jsx(Iu,{to:"/"}),b.jsx(Dde,{}),b.jsxs(Lde,{children:[b.jsx(Ece,{}),b.jsx(mde,{}),b.jsx(Pde,{})]})]}),Ode=M.div`
  padding-top: 70px;
  max-width: 100%;
`,Dde=M.section`
  min-height: 50px;
  padding: 16px 0;
  box-sizing: content-box;
  text-align: center;
  text-decoration: underline;
  display: flex;
  justify-content: center;
  h5 {
    color: brown;
    font-size: 14px;
    a {
      font-weight: 700;
    }
  }

  p {
    font-size: 14px;
    color: #434649;
    font-weight: 600;
  }

  @media (max-width: 768px) {
    flex-direction: column;
    padding: 0 5px;
  }
`,Lde=M.div`
  display: grid;
  grid-template-areas: "leftside main rightside";
  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);
  column-gap: 25px;
  row-gap: 25px;
  margin: 25px 0;
  @media (max-width: 768px) {
    display: flex;
    flex-direction: column;
    padding: 0 5px;
  }
`,Mde=e=>({user:e.userState.user}),jde=Wr(Mde)(Nde),Fde=e=>b.jsxs(Ude,{children:[e.user&&b.jsx(Iu,{to:"home"}),b.jsx($de,{children:b.jsx("a",{href:"/",children:b.jsx("img",{src:"/images/campushub-logo1.svg",alt:""})})}),b.jsxs(Vde,{children:[b.jsxs(Bde,{children:[b.jsx("h1",{children:"WELCOME TO YOUR COLLEGE COMMUNITY"}),b.jsx("img",{src:"images/trial1.svg",alt:""})]}),b.jsx(zde,{children:b.jsxs(qde,{onClick:()=>e.signIn(),children:[b.jsx("img",{src:"/images/google.svg",alt:""}),"Sign in with Google"]})})]})]}),Ude=M.div`
  padding: 0px;
`,$de=M.div`
  max-width: 1128px;
  margin: auto;
  padding: 12px 0 16px;
  display: flex;
  position: relative;
  align-items: center;
  justify-content: space-between;
  flex-wrap: nowrap;

  & > a {
    width: 135px;
    height: 34px;
    padding-top: 20px;
    @media (max-width: 768px) {
      padding: 0 5px;
    }
  }
`,Vde=M.section`
  display: flex;
  align-content: start;
  min-height: 700px;
  padding-bottom: 138px;
  padding-top: 40px;
  padding: 60px 0px;
  position: relative;
  flex-wrap: wrap;
  width: 100%;
  max-width: 1128px;
  align-items: center;
  margin: auto;

  @media (max-width: 768px) {
    margin: auto;
    min-height: 0px;
  }
`,Bde=M.div`
  width: 100%;
  h1 {
    padding-bottom: 0;
    width: 55%;
    font-size: 56px;
    color: #001838;
    font-weight: bolder;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
    font-weight: 200;
    line-height: 70px;
    @media (max-width: 758px) {
      text-align: center;
      font-size: 20px;
      width: 100%;
      line-height: 2;
    }
  }

  img {
    width: 700px;
    height: 670px;
    position: absolute;
    bottom: -2px;
    right: -150px;
    @media (max-width: 768px) {
      top: 230px;
      width: initial;
      position: initial;
      height: initial;
    }
  }
`,zde=M.div`
  margin-top: 100px;
  width: 408px;
  @media (max-width: 768px) {
    margin-top: 20px;
  }
`,qde=M.button`
  display: flex;
  justify-content: center;
  background-color: #fff;
  align-items: center;
  height: 56px;
  width: 100%;
  border-radius: 28px;
  box-shadow: inset 0 0 0 1px rgb(0 0 0 / 60%),
    inset 0 0 0 2px rgb(0 0 0 / 0%) inset 0 0 0 1px rgb(0 0 0 / 0);

  vertical-align: middle;
  z-index: 0;
  transition-duration: 167ms;
  font-size: 20px;
  color: rgba(0, 0, 0, 0.6);
  &:hover {
    background-color: rgba(207, 207, 207, 0.25);
  }
`,Wde=e=>({user:e.userState.user}),Hde=e=>({signIn:()=>e(jle())}),Kde=Wr(Wde,Hde)(Fde),Gde=e=>{const[t,n]=$.useState(""),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),h=v=>{v.preventDefault();const g=e.user.displayName,y=e.user.email,w=e.user.photoURL,E={headline:t,branch:r,semester:s,links:l};e.updateUserDetails(y,w,g,E),d(v)};$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]),$.useEffect(()=>{e.userDetails&&(n(e.userDetails.headline||""),i(e.userDetails.branch||""),a(e.userDetails.semester||""),c(e.userDetails.links||""))},[e.userDetails]);const d=v=>{n(e.userDetails.headline||""),i(e.userDetails.branch||""),a(e.userDetails.semester||""),c(e.userDetails.links||""),e.handleClick(v)};return b.jsx(b.Fragment,{children:e.showModal==="open"&&b.jsx(Qde,{children:b.jsxs(Yde,{children:[b.jsxs(Xde,{children:[b.jsx("h2",{children:"Edit Profile"}),b.jsx("button",{onClick:v=>d(v),children:b.jsx("img",{src:"/images/close-icon.svg",alt:"Close"})})]}),b.jsx(Jde,{children:b.jsxs("form",{onSubmit:h,children:[b.jsxs(cg,{children:["Headline:",b.jsx(fg,{type:"text",value:t,placeholder:"Enter your headline",onChange:v=>n(v.target.value)})]}),b.jsxs(cg,{children:["Branch:",b.jsx(fg,{type:"text",placeholder:"Enter your branch",value:r,onChange:v=>i(v.target.value)})]}),b.jsxs(cg,{children:["Semester:",b.jsx(fg,{type:"text",value:s,placeholder:"Enter your semester",onChange:v=>a(v.target.value)})]}),b.jsxs(cg,{children:["Links:",b.jsx(fg,{type:"text",placeholder:"Enter coding profile link",value:l,onChange:v=>c(v.target.value)})]}),b.jsx(Zde,{type:"submit",children:"Submit"})]})})]})})})},Qde=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  color: black;
  background-color: rgba(0, 0, 0, 0.8);
  animation: fadeIn 0.3s;
  display: flex;
  justify-content: center;
  align-items: center;
`,Yde=M.div`
  width: 100%;
  max-width: 500px;
  background-color: #fff;
  border-radius: 10px;
  position: relative;
  display: flex;
  flex-direction: column;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  animation: slideIn 0.3s ease-in-out;

  @keyframes slideIn {
    from {
      transform: translateY(-50px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,Xde=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background-color: transparent;
  color: rgba(0,0,0,0.8);
  border-radius: 10px;

  h2 {
    margin: 0;
    font-size: 20px;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
  }

  img {
    width: 24px;
    height: 24px;
  }
`,Jde=M.div`
  display: flex;
  flex-direction: column;
  padding: 20px 30px;
  padding-right: 40px;
  form {
    display: flex;
    flex-direction: column;
  }
`,cg=M.label`
  margin-bottom: 15px;
  font-size: 14px;
  color: #333;

  input {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
    transition: border-color 0.3s;

    &:focus {
      border-color: #0a66c2;
    }
  }
`,fg=M.input``,Zde=M.button`
  border-radius: 5px;
  padding: 10px;
  background-color: #98c5e9;
  color: white;
  border: none;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.3s, transform 0.3s;
  border: 3px solid #001838;
  &:hover {
    background: #001838;
    transform: translateY(-2px);
  }
`,epe=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),tpe=e=>({updateUserDetails:(t,n,r,i)=>e(Ble(t,n,r,i)),fetchUserDetails:t=>e(oa(t))}),npe=Wr(epe,tpe)(Gde),rpe=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState([]),s=$.useRef(null),[a,l]=$.useState(null),[c,h]=$.useState("");$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]),$.useEffect(()=>{e.userDetails.certificates&&i(e.userDetails.certificates)},[e.userDetails.certificates]);const d=()=>{n(!t)},v=x=>{const S=Array.from(x.target.files);S.length>0&&(r.length+S.length<=6?e.uploadCertificates(e.user.email,S):alert("You can only upload up to 6 certificates."))},g=x=>{l(x)},y=x=>{e.deleteCertificate(e.user.email,x),l(null)},w=()=>{c.trim()!==""&&(e.userDetails.skills.length<7?(e.addSkill(e.user.email,c.trim()),h("")):alert("You can only add up to 7 skills."))},E=x=>{e.deleteSkill(e.user.email,x)};return b.jsxs(ipe,{children:[!e.user&&b.jsx(Iu,{to:"/"}),b.jsxs(ope,{children:[b.jsxs(spe,{children:[b.jsxs("div",{children:[e.user&&e.user.photoURL?b.jsx("img",{className:"profileImg",src:e.user.photoURL,alt:"User"}):b.jsx("img",{className:"profileImg",src:"/images/user.svg",alt:" "}),b.jsxs(hpe,{children:[b.jsx("h2",{children:e.user?e.user.displayName:"User Name"}),b.jsx("p",{children:e.user?e.user.email:"user@example.com"}),b.jsx("h3",{children:e.userDetails.headline}),b.jsxs("h3",{children:["Branch: ",e.userDetails.branch]}),b.jsxs("h3",{children:["Semester: ",e.userDetails.semester]}),e.userDetails.links&&b.jsx("h3",{children:b.jsxs("a",{href:e.userDetails.links,target:"_blank",rel:"noopener noreferrer",children:["Coding Link: ",e.userDetails.links]})})]})]}),b.jsx(fpe,{children:b.jsx("button",{onClick:d,children:"Edit Profile"})})]}),b.jsx(ape,{children:b.jsxs("div",{children:[b.jsx("h3",{children:"Skills"}),b.jsxs(dpe,{children:[b.jsx("input",{type:"text",placeholder:"Add a skill",value:c,onChange:x=>h(x.target.value)}),b.jsx("button",{onClick:w,children:"Add Skill"})]}),b.jsx(ppe,{children:e.userDetails.skills&&e.userDetails.skills.map((x,S)=>b.jsxs(vpe,{children:[x,b.jsx("button",{onClick:()=>E(x),children:"Delete"})]},S))})]})}),b.jsx(upe,{children:b.jsxs("div",{children:[b.jsx("h3",{children:"Certificates"}),b.jsx("input",{type:"file",multiple:!0,ref:s,style:{display:"none"},onChange:v}),b.jsx("button",{onClick:()=>s.current.click(),children:"Upload Certificates"}),b.jsx(lpe,{children:r.map((x,S)=>b.jsx(cpe,{onClick:()=>g(x),children:b.jsx("img",{className:"certificate",src:x.url,alt:x.name})},S))})]})})]}),a&&b.jsxs(gpe,{children:[b.jsx("img",{src:a.url,alt:a.name}),b.jsxs("div",{children:[b.jsx("button",{onClick:()=>l(null),children:"Close"}),b.jsx("button",{onClick:()=>y(a),children:"Delete"})]})]}),b.jsx(npe,{showModal:t?"open":"close",handleClick:d})]})},ipe=M.div`
  padding-top: 100px;
  grid-area: main;
  margin: 0px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: 'Arial', sans-serif;
  padding-bottom: 100px;
`,ope=M.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  max-width: 1200px;
`,qC=M.div`
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #d1d1d1;
  transition: transform 0.3s, box-shadow 0.3s;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
`,spe=M(qC)`
  width: 30%;
  min-height: 475px;
  display: flex;
  flex-direction: column;
  align-items: center; 
  justify-content: center; 

  .profileImg {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-bottom: 20px;
    border: 3px solid #001838;
    display: block; 
    margin-left: auto;
    margin-right: auto; 
  }
`,ape=M(qC)`
  width: 30%;
  min-height: 475px;
`,upe=M(qC)`
  width: 30%;
  min-height: 475px;

  .certificate {
    height: 100px;
    width: 150px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  }

  button {
    margin: 12px 10px;
    padding: 10px 20px;
    color: #001838;
    background-color: #fff;
    border: 2px solid #001838;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #f0f0f0;
      transform: translateY(-2px);
    }
  }
`,lpe=M.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
  
`,cpe=M.div`
  cursor: pointer;
`,fpe=M.div`
  margin-top: 20px;

  button {
    margin: 0 10px;
    padding: 10px 20px;
    color: #001838;
    background-color: #fff;
    border: 2px solid #001838;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #f0f0f0;
      transform: translateY(-2px);
    }
  }
`,hpe=M.div`
  text-align: center;

  h2 {
    margin: 0;
    font-size: 28px;
    color: #001838;
    font-weight: bold;
  }

  p {
    margin: 5px 0;
    color: rgba(0, 0, 0, 0.7);
    font-size: 16px;
  }

  h3 {
    margin: 10px 0;
    color: #001838;
    font-size: 18px;

    a {
      color: #001838;
      text-decoration: none;
      font-weight: bold;

      &:hover {
        text-decoration: underline;
      }
    }
  }
`,dpe=M.div`
  display: flex;
  align-items: center;
  margin-top: 20px;

  input {
    padding: 10px;
    margin-right: 10px;
    border-radius: 5px;
    border: 1px solid #001838;
    width: 200px;
    transition: box-shadow 0.3s;

    &:focus {
      box-shadow: 0 0 5px rgba(0, 24, 56, 0.5);
    }
  }

  button {
    padding: 10px 20px;
    color: #fff;
    background-color: #001838;
    border: 2px solid #001838;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }
  }
`,ppe=M.div`
  margin-top: 20px;
  width: 100%;
`,vpe=M.div`
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background-color: #f3f3f3;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  button {
    background: none;
    border: none;
    color: red;
    cursor: pointer;
    font-weight: bold;
    transition: color 0.3s, transform 0.3s;

    &:hover {
      color: darkred;
      transform: scale(1.1);
    }
  }
`,gpe=M.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border: 3px solid #001838;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;

  img {
    max-width: 90%;
    max-height: 90%;
    margin-bottom: 10px;
    border: 3px solid #001838;
    border-radius: 10px;
    transition: transform 0.3s;

    &:hover {
      transform: scale(1.02);
    }
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #001838;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    &:nth-child(2) {
      margin-left: 10px;
      background-color: red;
    }

    &:nth-child(2):hover {
      background-color: darkred;
    }
  }
`,mpe=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),ype=e=>({fetchUserDetails:t=>e(oa(t)),uploadCertificates:(t,n)=>e(Gle(t,n)),deleteCertificate:(t,n)=>e(Qle(t,n)),addSkill:(t,n)=>e(Yle(t,n)),deleteSkill:(t,n)=>e(Xle(t,n))}),wpe=Wr(mpe,ype)(rpe);function vn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _pe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const hg=43200,wM=1440;let bpe={};function Epe(){return bpe}function _M(e){const t=vn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $g(e,t){const n=vn(e),r=vn(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Spe(e){return _pe(e,Date.now())}function Tpe(e,t){const n=vn(e),r=vn(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Ipe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function xpe(e,t){return+vn(e)-+vn(t)}function Cpe(e){const t=vn(e);return t.setHours(23,59,59,999),t}function kpe(e){const t=vn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ape(e){const t=vn(e);return+Cpe(t)==+kpe(t)}function Rpe(e,t){const n=vn(e),r=vn(t),i=$g(n,r),s=Math.abs(Tpe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=$g(n,r)===-i;Ape(vn(e))&&s===1&&$g(e,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function Ppe(e,t,n){const r=xpe(e,t)/1e3;return Ipe(n==null?void 0:n.roundingMethod)(r)}const Npe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ope=(e,t,n)=>{let r;const i=Npe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function BE(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Dpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jpe={date:BE({formats:Dpe,defaultWidth:"full"}),time:BE({formats:Lpe,defaultWidth:"full"}),dateTime:BE({formats:Mpe,defaultWidth:"full"})},Fpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Upe=(e,t,n,r)=>Fpe[e];function sh(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const $pe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hpe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Kpe={ordinalNumber:Hpe,era:sh({values:$pe,defaultWidth:"wide"}),quarter:sh({values:Vpe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sh({values:Bpe,defaultWidth:"wide"}),day:sh({values:zpe,defaultWidth:"wide"}),dayPeriod:sh({values:qpe,defaultWidth:"wide",formattingValues:Wpe,defaultFormattingWidth:"wide"})};function ah(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Qpe(l,v=>v.test(a)):Gpe(l,v=>v.test(a));let h;h=e.valueCallback?e.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const d=t.slice(a.length);return{value:h,rest:d}}}function Gpe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Qpe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ype(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const Xpe=/^(\d+)(th|st|nd|rd)?/i,Jpe=/\d+/i,Zpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eve={any:[/^b/i,/^(a|c)/i]},tve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nve={any:[/1/i,/2/i,/3/i,/4/i]},rve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ive={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ove={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ave={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lve={ordinalNumber:Ype({matchPattern:Xpe,parsePattern:Jpe,valueCallback:e=>parseInt(e,10)}),era:ah({matchPatterns:Zpe,defaultMatchWidth:"wide",parsePatterns:eve,defaultParseWidth:"any"}),quarter:ah({matchPatterns:tve,defaultMatchWidth:"wide",parsePatterns:nve,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ah({matchPatterns:rve,defaultMatchWidth:"wide",parsePatterns:ive,defaultParseWidth:"any"}),day:ah({matchPatterns:ove,defaultMatchWidth:"wide",parsePatterns:sve,defaultParseWidth:"any"}),dayPeriod:ah({matchPatterns:ave,defaultMatchWidth:"any",parsePatterns:uve,defaultParseWidth:"any"})},cve={code:"en-US",formatDistance:Ope,formatLong:jpe,formatRelative:Upe,localize:Kpe,match:lve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fve(e,t,n){const r=Epe(),i=(n==null?void 0:n.locale)??r.locale??cve,s=2520,a=$g(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,h;a>0?(c=vn(t),h=vn(e)):(c=vn(e),h=vn(t));const d=Ppe(h,c),v=(_M(h)-_M(c))/1e3,g=Math.round((d-v)/60);let y;if(g<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<wM){const w=Math.round(g/60);return i.formatDistance("aboutXHours",w,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<hg){const w=Math.round(g/wM);return i.formatDistance("xDays",w,l)}else if(g<hg*2)return y=Math.round(g/hg),i.formatDistance("aboutXMonths",y,l)}if(y=Rpe(h,c),y<12){const w=Math.round(g/hg);return i.formatDistance("xMonths",w,l)}else{const w=y%12,E=Math.trunc(y/12);return w<3?i.formatDistance("aboutXYears",E,l):w<9?i.formatDistance("overXYears",E,l):i.formatDistance("almostXYears",E+1,l)}}function k5(e,t){return fve(e,Spe(e),t)}const hve=({show:e,onClose:t,children:n})=>e?b.jsx(dve,{onClick:t,children:b.jsxs(pve,{onClick:r=>r.stopPropagation(),children:[b.jsx(vve,{onClick:t,children:"×"}),n]})}):null,dve=M.div`
  z-index: 10;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.75);
  display: flex;
  justify-content: center;
  align-items: center;
`,pve=M.div`
  background: #f0f0f0;
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  position: relative;
  min-width: 320px;
  max-width: 640px;
  animation: slideIn 0.3s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,vve=M.span`
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 28px;
  cursor: pointer;
  color: #333;
  &:hover {
    color: #555;
  }
`,gve=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState([{name:"",role:""}]),[h,d]=$.useState(!1),[v,g]=$.useState(null),y=Tu();$.useEffect(()=>{e.user&&e.getProjects()},[e.user]);const w=L=>{y(`/user/${L}`)},E=()=>{c([...l,{name:"",role:""}])},x=(L,Y,R)=>{const Ce=[...l];Ce[L][Y]=R,c(Ce)},S=L=>{const Y=l.filter((R,Ce)=>Ce!==L);c(Y)},T=()=>{const L={userName:e.user.displayName,profilePic:e.user.photoURL,email:e.user.email,name:r,description:s,roles:l,creator:e.user.email,timestamp:new Date().toISOString()};h?e.updateProject(v,L):e.addProject(L),D()},C=L=>{i(L.name),a(L.description),c(L.roles),d(!0),g(L.id),n(!0)},k=L=>{e.deleteProject(L)},D=()=>{i(""),a(""),c([{name:"",role:""}]),n(!1),d(!1),g(null)},O=()=>{t?D():n(!0)};if(!e.user)return b.jsx(Iu,{to:"/"});const j=e.projects.filter(L=>L.name.toLowerCase().includes(e.searchQuery.toLowerCase()));return b.jsxs(mve,{children:[b.jsxs(yve,{children:[b.jsx("button",{onClick:O,children:"Start a new Project"}),b.jsx(hve,{show:t,onClose:D,children:b.jsxs(wve,{children:[b.jsx("input",{type:"text",placeholder:"Project Name",value:r,onChange:L=>i(L.target.value)}),b.jsx("textarea",{placeholder:"Project Description",value:s,onChange:L=>a(L.target.value)}),l.map((L,Y)=>b.jsxs(_ve,{children:[b.jsx("input",{type:"text",placeholder:"Name: N/A",value:L.name,onChange:R=>x(Y,"name",R.target.value)}),b.jsx("input",{type:"text",placeholder:"Role",value:L.role,onChange:R=>x(Y,"role",R.target.value)}),b.jsx("button",{onClick:()=>S(Y),children:"Remove"})]},Y)),b.jsx("button",{onClick:E,children:"Add Role"}),b.jsx("button",{onClick:T,children:"Submit"}),b.jsx("button",{onClick:D,children:"Cancel"})]})})]}),j.length===0?b.jsx("p",{children:"There are no projects"}):b.jsxs(bve,{children:[e.loading&&b.jsx("img",{src:"/images/spin-loader.svg",className:".loading"}),j.sort((L,Y)=>new Date(Y.timestamp)-new Date(L.timestamp)).map((L,Y)=>b.jsxs(Eve,{children:[b.jsxs(Sve,{children:[k5(new Date(L.timestamp))," ago"]}),b.jsxs(Tve,{children:[b.jsxs(Ive,{children:[b.jsx("img",{onClick:()=>{w(L.email)},src:L.profilePic}),b.jsx("h1",{onClick:()=>{w(L.email)},children:L.userName})]}),b.jsx("h3",{children:L.name}),b.jsx(xve,{children:L.description||" ".repeat(4)}),b.jsxs(Cve,{children:[b.jsx("h3",{children:"Roles-"}),b.jsx("br",{}),L.roles.map((R,Ce)=>b.jsx("div",{children:b.jsxs("li",{children:[R.name," - ",R.role]},Ce)}))]}),L.creator===e.user.email&&b.jsxs(kve,{children:[b.jsx("button",{onClick:()=>C(L),children:"Edit"}),b.jsx("button",{onClick:()=>k(L.id),children:"Delete"})]})]})]},Y))]})]})},mve=M.div`
  grid-area: main;
  padding-top: 100px;
  max-width: 700px;
  margin: 0 auto;
`,yve=M.div`
  text-align: center;
  margin-bottom: 8px;
  button {
    padding: 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,wve=M.div`
  z-index:10;
  display: flex;
  flex-direction: column;
  margin: 10px 0;
  input,
  textarea {
    margin: 5px 0;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  button {
    padding: 10px;
    margin-top: 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,_ve=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  input {
    width: 40%;
  }
  button {
    margin-left: 2px;
    padding: 5px 10px;
    background-color: red;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,bve=M.div`
  text-align: center;
  .loading {
    height: 30px;
    width: 30px;
  }
`,Eve=M.div`
  margin: 30px 0;
  padding: 20px;
  height: 480px;
  background-color: #98c5e9;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 20px solid hsla(220, 75%, 30%, 0.84);
  border-radius: 5px;
  position: relative;
`,Sve=M.p`
  position: absolute;
  top: 10px;
  right: 10px;
  margin: 0;
`,Tve=M.div`
  text-align: left;
  position: relative;
  height: 100%;
  padding-left: 20px;
  h3{
    margin-top: 20px;
  }
`,Ive=M.div`
  display: flex;
  align-items: center;
  margin-left: -15px;
  img {
    border-radius: 50%;
    height: 50px;
    margin-right: 10px;
    cursor: pointer;
  }
  h1 {
    margin: 0;
    font-weight: bold;
    cursor: pointer;
  }
`,xve=M.p`
  margin: 20px 0;
  white-space: pre-wrap;
  line-height: 1.5;
  min-height: 4em;
  text-align: justify;
`,Cve=M.ul`
  list-style: none;
  padding: 0;
  margin: 5px 0;
  display: flex;
  flex-direction: column;

  li {
    margin: 3px 0;
    font-size: 17px;
    background-color:#0073b1;
    color: white;
    width: max-content;
    padding: 5px;
    border-radius: 5px;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  }
`,kve=M.div`
  display: flex;
  justify-content: flex-end;
  position: absolute;
  bottom: 10px;
  right: 10px;
  button {
    margin-left: 5px;
    padding: 5px 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,Ave=e=>({loading:e.projectState.loading,user:e.userState.user,projects:e.projectState.projects,searchQuery:e.searchState.searchQuery}),Rve=e=>({getProjects:()=>e($3()),addProject:t=>e(Wle(t)),deleteProject:t=>e(Hle(t)),updateProject:(t,n)=>e(Kle(t,n))}),Pve=Wr(Ave,Rve)(gve),Nve=e=>{const{email:t}=AG(),[n,r]=$.useState(!0),[i,s]=$.useState(null);$.useEffect(()=>{t&&e.fetchUserDetailsByEmail(t).then(()=>r(!1))},[t]);const a=l=>{s(l)};return n?b.jsx("div",{children:"Loading..."}):e.user?b.jsxs(Ove,{children:[b.jsxs(Dve,{children:[b.jsx(Lve,{children:b.jsxs("div",{children:[e.userDetails&&e.userDetails.profilePicture?b.jsx("img",{className:"profileImg",src:e.userDetails.profilePicture,alt:"User"}):b.jsx("img",{className:"profileImg",src:"/images/user.svg",alt:"User"}),b.jsxs($ve,{children:[b.jsx("h2",{children:e.userDetails.username}),b.jsx("p",{children:t}),b.jsxs("h3",{children:["About: ",e.userDetails.headline]}),b.jsxs("h3",{children:["Branch: ",e.userDetails.branch]}),b.jsxs("h3",{children:["Semester: ",e.userDetails.semester]}),e.userDetails.links&&b.jsxs("h3",{children:["Resume/Coding Links:"," ",b.jsx("a",{href:e.userDetails.links,target:"_blank",rel:"noopener noreferrer",children:e.userDetails.links})]})]})]})}),b.jsx(Mve,{children:b.jsxs("div",{children:[b.jsx("h3",{children:"Skills"}),b.jsx(Vve,{children:e.userDetails.skills&&e.userDetails.skills.map((l,c)=>b.jsx(Bve,{children:l},c))})]})}),b.jsx(jve,{children:b.jsxs("div",{children:[b.jsx("h3",{children:"Certificates"}),b.jsx(Fve,{children:e.userDetails.certificates&&e.userDetails.certificates.length>0?e.userDetails.certificates.map((l,c)=>b.jsx(Uve,{onClick:()=>a(l),children:b.jsx("img",{className:"certificate",src:l.url,alt:l.name})},c)):b.jsx("p",{children:"No certificates uploaded."})})]})})]}),i&&b.jsxs(zve,{children:[b.jsx("img",{src:i.url,alt:i.name}),b.jsx("button",{onClick:()=>s(null),children:"Close"})]})]}):b.jsx(Iu,{to:"/"})},Ove=M.div`
  padding-top: 100px;
  grid-area: main;
  margin: 0px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: "Arial", sans-serif;
  padding-bottom: 100px;
`,Dve=M.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  max-width: 1200px;
`,WC=M.div`
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #d1d1d1;
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
`,Lve=M(WC)`
  width: 30%;
  min-height: 475px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  .profileImg {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-bottom: 20px;
    border: 3px solid #001838;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
`,Mve=M(WC)`
  width: 30%;
  min-height: 475px;
`,jve=M(WC)`
  width: 30%;
  min-height: 475px;

  .certificate {
    height: 100px;
    width: 150px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  }
`,Fve=M.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
`,Uve=M.div`
  cursor: pointer;
`,$ve=M.div`
  text-align: center;

  h2 {
    margin: 0;
    font-size: 28px;
    color: #001838;
    font-weight: bold;
  }

  p {
    margin: 5px 0;
    color: rgba(0, 0, 0, 0.7);
    font-size: 16px;
  }

  h3 {
    margin: 10px 0;
    color: #001838;
    font-size: 18px;

    a {
      color: #001838;
      text-decoration: none;
      font-weight: bold;

      &:hover {
        text-decoration: underline;
      }
    }
  }
`,Vve=M.div`
  margin-top: 20px;
  width: 100%;
`,Bve=M.div`
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background-color: #f3f3f3;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,zve=M.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border: 3px solid #001838;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;

  img {
    max-width: 90%;
    max-height: 90%;
    margin-bottom: 10px;
    border: 3px solid #001838;
    border-radius: 10px;
    transition: transform 0.3s;

    &:hover {
      transform: scale(1.02);
    }
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #001838;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }
  }
`,qve=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),Wve=e=>({fetchUserDetailsByEmail:t=>e(zle(t)),getArticles:()=>e(MC())}),Hve=Wr(qve,Wve)(Nve),Kve=({show:e,onClose:t,onSubmit:n,existingEvent:r})=>{const[i,s]=$.useState(""),[a,l]=$.useState(""),[c,h]=$.useState(""),[d,v]=$.useState(""),[g,y]=$.useState(""),[w,E]=$.useState(null),[x,S]=$.useState(null),[T,C]=$.useState(""),[k,D]=$.useState(""),[O,j]=$.useState(""),[L,Y]=$.useState(null),[R,Ce]=$.useState(null);$.useEffect(()=>{r?(s(r.name),l(r.description),h(r.date),v(r.time),y(r.location),E(r.poster),Y(r.poster),S(r.brochure),Ce(r.brochure),C(r.registrationLink),D(r.clubName),j(r.duration)):Ke()},[r]);const Ke=()=>{s(""),l(""),h(""),v(""),y(""),E(null),S(null),C(""),D(""),j("")},Wt=(le,Tt,Dt)=>{const z=le.target.files[0];if(Tt(z),z){const ne=new FileReader;ne.onloadend=()=>{Dt(ne.result)},ne.readAsDataURL(z)}},Hr=async()=>{if(console.log("handleSubmit triggered"),!i||!a||!c||!d||!g||!k||!O){alert("Please fill out all required fields.");return}try{let le=w,Tt=x;if(w&&typeof w!="string"){console.log("Uploading poster...");const z=Md.ref().child(`posters/${w.name}`);await z.put(w),le=await z.getDownloadURL(),console.log("Poster uploaded, URL:",le)}if(x&&typeof x!="string"){console.log("Uploading brochure...");const z=Md.ref().child(`brochures/${x.name}`);await z.put(x),Tt=await z.getDownloadURL(),console.log("Brochure uploaded, URL:",Tt)}const Dt={name:i,description:a,date:c,time:d,location:g,poster:le,brochure:Tt,registrationLink:T,clubName:k,duration:O,interested:r?r.interested:0};console.log("Event Data:",Dt),n(Dt),Ke()}catch(le){console.error("Error uploading files: ",le)}};return e?b.jsx(Gve,{onClick:t,children:b.jsxs(Qve,{onClick:le=>le.stopPropagation(),children:[b.jsx(Yve,{onClick:t,children:"×"}),b.jsx("h2",{children:r?"Edit Event":"Create Event"}),b.jsxs(Xve,{children:[b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Event Name"}),b.jsx(Io,{type:"text",placeholder:"Event Name *",value:i,onChange:le=>s(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Description"}),b.jsx(Jve,{placeholder:"Description *",value:a,onChange:le=>l(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Date"}),b.jsx(Io,{type:"date",placeholder:"Date *",value:c,onChange:le=>h(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Time"}),b.jsx(Io,{type:"time",placeholder:"Time *",value:d,onChange:le=>v(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Location"}),b.jsx(Io,{type:"text",placeholder:"Location *",value:g,onChange:le=>y(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Event Poster"}),L&&b.jsx("img",{src:L,alt:"Event Poster Preview",style:{width:"100px",height:"auto",marginBottom:"10px"}}),b.jsx(Io,{type:"file",onChange:le=>Wt(le,E,Y)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Event Brochure"}),R&&b.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",children:"View Brochure"}),b.jsx(Io,{type:"file",onChange:le=>Wt(le,S,Ce)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Registration Link"}),b.jsx(Io,{type:"text",placeholder:"Registration Link",value:T,onChange:le=>C(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Club Name"}),b.jsx(Io,{type:"text",placeholder:"Club Name *",value:k,onChange:le=>D(le.target.value)})]}),b.jsxs(Qi,{children:[b.jsx(Yi,{children:"Duration"}),b.jsx(Io,{type:"text",placeholder:"Duration *",value:O,onChange:le=>j(le.target.value)})]}),b.jsx(Zve,{type:"button",onClick:Hr,children:r?"Update Event":"Create Event"})]})]})}):null},Gve=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
`,Qve=M.div`
  background: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 500px;
  width: 100%;
  position: relative;
  max-height: 70vh;
  overflow-y: auto;
  h2{
    margin-bottom: 15px;
  }
`,Yve=M.button`
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
`,Xve=M.form`
  display: flex;
  flex-direction: column;
`,Qi=M.div`
  margin-bottom: 10px;
  font-size: 12px;
`,Yi=M.label`
  font-weight: bold;
  margin-bottom: 5px;
  display: block;
`,Io=M.input`
  display: block;
  width: 95%;
  padding: 10px;
  margin: 10px 0;
  border: 1px solid #ddd;
  border-radius: 4px;
`,Jve=M.textarea`
  display: block;
  width: 95%;
  padding: 10px;
  margin: 10px 0;
  border: 1px solid #ddd;
  border-radius: 4px;
`,Zve=M.button`
  padding: 10px 20px;
  background: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  align-self: center;
`,ege=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState(!1),[s,a]=$.useState(null),[l,c]=$.useState(!1),[h,d]=$.useState(null),v=Tu();$.useEffect(()=>{e.user&&(e.getEvents(),y())},[e.user,e.getEvents]);const g=k=>{v(`/user/${k}`)},y=async()=>{if(e.user){const k=await We.collection("settings").doc("authorizedUsers").get();k.exists&&k.data().emails.includes(e.user.email)&&c(!0)}},w=k=>{k.userName=e.user.displayName,k.profilePic=e.user.photoURL,k.email=e.user.email,k.creator=e.user.email,k.timestamp=new Date().toISOString(),k.interested=k.interested??0,k.interestedUsers=k.interestedUsers??[],r?e.updateEvent(s.id,k):e.addEvent(k),S()},E=k=>{a(k),i(!0),n(!0)},x=k=>{e.deleteEvent(k)},S=()=>{a(null),n(!1),i(!1)},T=()=>{t?S():n(!0)};if(!e.user)return b.jsx(Iu,{to:"/"});const C=k=>{k.interestedUsers.includes(e.user.email)||e.updateInterested(k.id,e.user.email)};return b.jsxs(tge,{children:[b.jsxs(nge,{children:[l&&b.jsx(rge,{onClick:T,children:"Create Event"}),b.jsx(Kve,{show:t,onClose:S,onSubmit:w,existingEvent:s})]}),e.events.length===0?b.jsx(ige,{children:"There are no events"}):b.jsxs(oge,{children:[e.loading&&b.jsx("img",{src:"/images/spin-loader.svg",className:"loading",alt:"Loading"}),e.events.sort((k,D)=>D.interested-k.interested).map(k=>b.jsx(sge,{children:b.jsxs(age,{children:[b.jsxs(dge,{children:[b.jsxs(gge,{onClick:()=>g(k.email),children:[b.jsx(yge,{src:k.profilePic,alt:"Profile"}),b.jsxs(mge,{children:[k.userName,", ",k.clubName]})]}),b.jsx(uge,{children:b.jsxs(cge,{children:[k5(new Date(k.timestamp))," ago"]})}),b.jsx(lge,{children:k.name}),b.jsx(wge,{children:k.description}),b.jsxs(_ge,{children:[b.jsx("b",{children:"Location:"})," ",k.location]}),b.jsxs(fge,{children:[b.jsx("b",{children:"Date:"})," ",k.date]}),b.jsxs(hge,{children:[b.jsx("b",{children:"Time:"})," ",k.time]}),b.jsxs(Pge,{children:[b.jsx("b",{children:"Duration:"})," ",k.duration]}),k.brochure&&b.jsx(Ege,{href:k.brochure,target:"_blank",rel:"noopener noreferrer",children:"View Brochure"}),k.registrationLink&&b.jsx(Sge,{href:k.registrationLink,target:"_blank",rel:"noopener noreferrer",children:"Register Here"}),b.jsxs(Tge,{children:[b.jsxs(kge,{onClick:()=>C(k),children:["Interested (",k.interested??0,")"]}),k.creator===e.user.email&&b.jsxs(b.Fragment,{children:[b.jsx(Ige,{onClick:()=>E(k),children:"Edit"}),b.jsx(xge,{onClick:()=>x(k.id),children:"Delete"})]})]})]}),b.jsx(vge,{}),k.poster&&b.jsxs(pge,{children:[b.jsx(bge,{src:k.poster,alt:"Event Poster"}),b.jsx(Cge,{onClick:()=>d(k.poster),children:"Zoom"})]})]})},k.id))]}),h&&b.jsx(Age,{onClick:()=>d(null),children:b.jsx(Rge,{src:h,alt:"Zoomed Event Poster"})})]})},tge=M.div`
  grid-area: main;
  padding-top: 100px;
  background-color: rgba(0, 0, 0, 0.07);
  min-height: 100vh;
`,nge=M.div`
  text-align: center;
  margin-bottom: 8px;
`,rge=M.button`
  padding: 10px 20px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  &:hover {
    background-color: #005f8b;
  }
`,ige=M.p`
  text-align: center;
  font-size: 18px;
  color: #555;
`,oge=M.div`
  text-align: left;
  .loading {
    height: 30px;
    width: 30px;
  }
`,sge=M.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin: 20px auto;
  padding: 30px;
  background-color: #98c5e9;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 20px solid hsla(220, 75%, 30%, 0.84);
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  width: 80%;
  max-width: 1000px;
`,age=M.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  height: 100%;
`,uge=M.div`
  display: flex;
  justify-content: flex-end;
  width: 100%;
  margin-bottom: 10px;
  margin-top: -31px;
`,lge=M.h3`
  margin: 0;
  color: black;
  margin-top: 30px;
  margin-bottom: 10px;
`,cge=M.span`
  margin-left: 10px;
  color: #777;
`,fge=M.span`
  color: black;
  padding-bottom: 5px;
`,hge=M.span`
  color: black;
`,dge=M.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  position: relative;
  width: 50%;
`,pge=M.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 50%;
  position: relative;
`,vge=M.div`
  width: 1px;
  background-color: black;
  margin: 0 10px;
`,gge=M.span`
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-top: -10px;
  margin-left: -10px;
`,mge=M.p`
  margin: 0 0 0 10px;
  font-weight: bold;
`,yge=M.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
`,wge=M.p`
  margin: 5px 0;
  color: black;
  text-align: justify;
`,_ge=M.p`
  margin: 5px 0;
  color: black;
`,bge=M.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`,Ege=M.a`
  display: block;
  margin-top: 10px;
  color: #0073b1;
  text-decoration: underline;
  cursor: pointer;
`,Sge=M.a`
  display: block;
  margin-top: 10px;
  color: #0073b1;
  text-decoration: underline;
  cursor: pointer;
`,Tge=M.div`
  display: flex;
  justify-content: flex-end;
  margin-top: 55px;
  
`,Ige=M.button`
  padding: 5px 10px;
  margin-right: 5px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #005f8b;
  }
`,xge=M.button`
  padding: 5px 10px;
  background-color: #d9534f;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #b52b2b;
  }
`,Cge=M.button`
  position: absolute;
  bottom: 10px;
  right: 10px;
  padding: 5px 10px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #005f8b;
  }
`,kge=M.button`
  padding: 5px 10px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin-right: 5px;
`,Age=M.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,Rge=M.img`
  max-width: 90%;
  max-height: 90%;
`,Pge=M.p`
  margin: 5px 0;
  color: black;
`,Nge=e=>({loading:e.eventState.loading,user:e.userState.user,events:e.eventState.events,searchQuery:e.searchState.searchQuery}),Oge=e=>({getEvents:()=>e(jC()),addEvent:t=>e(Jle(t)),deleteEvent:t=>e(ece(t)),updateEvent:(t,n)=>e(Zle(t,n)),updateInterested:(t,n)=>e(tce(t,n))}),Dge=Wr(Nge,Oge)(ege),Lge=e=>{const[t,n]=$.useState([]);return $.useEffect(()=>{const r=We.collection("notifications").onSnapshot(i=>{const s=i.docs.map(a=>a.data().notification);n(s)});return()=>r()},[]),b.jsx(Mge,{children:b.jsxs(jge,{children:[!e.user&&b.jsx(Iu,{to:"/"}),b.jsx(Fge,{children:"Notifications"}),b.jsx(Uge,{children:t.map((r,i)=>b.jsx($ge,{children:r},i))})]})})},Mge=M.div`
  background-color: rgba(0, 0, 0, 0.0025); 
  height: 100vh;
  padding-top: 10px;
`,jge=M.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 12px solid hsla(220, 75%, 30%, 0.84);
  justify-content: flex-start;
  padding: 20px;
  margin: 160px;
  background-color: #98c5e9;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
`,Fge=M.h2`
  margin-bottom: 20px;
  color: #333;
  font-size: 24px;
`,Uge=M.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  width: 100%;
`,$ge=M.li`
  background-color: hsl(195, 100%, 90%);
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 8px;
  font-size: 16px;
  color: #555;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,Vge=e=>({user:e.userState.user}),Bge=Wr(Vge)(Lge);function zge(){return b.jsx("div",{className:"App",children:b.jsx(HG,{children:b.jsxs(zG,{children:[b.jsx(hs,{path:"/",element:b.jsx(Kde,{})}),b.jsx(hs,{path:"/home",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(jde,{})]})}),b.jsx(hs,{path:"/Profile",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(wpe,{})]})}),b.jsx(hs,{path:"/Procollab",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(Pve,{})]})}),b.jsx(hs,{path:"/events",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(Dge,{})]})}),b.jsx(hs,{path:"/user/:email",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(Hve,{})]})}),b.jsx(hs,{path:"/notification",element:b.jsxs(b.Fragment,{children:[b.jsx(ml,{}),b.jsx(Bge,{})]})})]})})})}function cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qge=typeof Symbol=="function"&&Symbol.observable||"@@observable",bM=qge,zE=()=>Math.random().toString(36).substring(7).split("").join("."),Wge={INIT:`@@redux/INIT${zE()}`,REPLACE:`@@redux/REPLACE${zE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zE()}`},ay=Wge;function Hge(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function A5(e,t,n){if(typeof e!="function")throw new Error(cn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cn(1));return n(A5)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,c=!1;function h(){a===s&&(a=new Map,s.forEach((x,S)=>{a.set(S,x)}))}function d(){if(c)throw new Error(cn(3));return i}function v(x){if(typeof x!="function")throw new Error(cn(4));if(c)throw new Error(cn(5));let S=!0;h();const T=l++;return a.set(T,x),function(){if(S){if(c)throw new Error(cn(6));S=!1,h(),a.delete(T),s=null}}}function g(x){if(!Hge(x))throw new Error(cn(7));if(typeof x.type>"u")throw new Error(cn(8));if(typeof x.type!="string")throw new Error(cn(17));if(c)throw new Error(cn(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=a).forEach(T=>{T()}),x}function y(x){if(typeof x!="function")throw new Error(cn(10));r=x,g({type:ay.REPLACE})}function w(){const x=v;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(cn(11));function T(){const k=S;k.next&&k.next(d())}return T(),{unsubscribe:x(T)}},[bM](){return this}}}return g({type:ay.INIT}),{dispatch:g,subscribe:v,getState:d,replaceReducer:y,[bM]:w}}function Kge(e,t,n){return A5(e,t,n)}function Gge(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ay.INIT})>"u")throw new Error(cn(12));if(typeof n(void 0,{type:ay.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function Qge(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{Gge(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const h={};for(let d=0;d<r.length;d++){const v=r[d],g=n[v],y=a[v],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(cn(14));h[v]=w,c=c||w!==y}return c=c||r.length!==Object.keys(a).length,c?h:a}}function Yge(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Xge(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(cn(15))};const a={getState:i.getState,dispatch:(c,...h)=>s(c,...h)},l=e.map(c=>c(a));return s=Yge(...l)(i.dispatch),{...i,dispatch:s}}}function Jge(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Zge=Jge();const eme={articles:[],loading:!1},tme=(e=eme,t)=>{switch(t.type){case x3:return{...e,articles:t.payload};case B0:return{...e,loading:t.status};case C3:return{...e,articles:e.articles.map(n=>n.id===t.articleId?{...n,comments:[...n.comments.filter(r=>r.comment!==t.comment.comment),t.comment]}:n)};case k3:return{...e,articles:e.articles.filter(n=>n.id!==t.articleId)};default:return e}},nme={user:null,userDetails:{}},rme=(e=nme,t)=>{switch(t.type){case I3:return{...e,user:t.user};case LC:return{...e,userDetails:t.payload};default:return e}},ime={headline:"",branch:"",semester:"",links:"",certificates:[]},ome=(e=ime,t)=>{switch(t.type){case LC:return{...e,...t.payload};case kle:return{...e,certificates:t.certificates};default:return e}},sme={projects:[],searchQuery:""},ame=(e=sme,t)=>{switch(t.type){case B0:return{...e,loading:t.status};case A3:return{...e,projects:[...e.projects,t.project]};case R3:return{...e,projects:t.projects};case Cle:return{...e,projects:e.projects.map(n=>n.id===t.projectId?{...n,roles:n.roles.map((r,i)=>i===t.roleIndex?{...r,name:t.memberName}:r)}:n)};case P3:return{...e,projects:e.projects.filter(n=>n.id!==t.projectId)};case N3:return{...e,projects:e.projects.map(n=>n.id===t.projectId?{...n,...t.projectData}:n)};default:return e}},ume={events:[],error:null},lme=(e=ume,t)=>{switch(t.type){case D3:return{...e,events:t.payload};case O3:return{...e,events:[...e.events,t.payload]};case M3:return{...e,events:e.events.map(n=>n.id===t.payload.id?t.payload:n)};case L3:return{...e,events:e.events.filter(n=>n.id!==t.payload)};case B0:return{...e,loading:t.status};case Sp:return{...e,error:t.error};default:return e}},cme={searchQuery:""},fme=(e=cme,t)=>{switch(t.type){case j3:return{...e,searchQuery:t.query};default:return e}},hme=Qge({articleState:tme,userState:rme,userDetailsState:ome,projectState:ame,eventState:lme,searchState:fme}),dme=Kge(hme,Xge(Zge)),pme=WE.createRoot(document.getElementById("root"));pme.render(b.jsx($s.StrictMode,{children:b.jsx(W2,{store:dme,children:b.jsx(zge,{})})}));export{hr as _,EM as g,wfe as p,$ as r,q0 as u};
